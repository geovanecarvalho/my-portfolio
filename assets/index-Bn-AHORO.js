var M2=Object.defineProperty;var k2=(n,t,e)=>t in n?M2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Bt=(n,t,e)=>k2(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function P2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ug={exports:{}},bc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function V2(){if(Ab)return bc;Ab=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return bc.Fragment=t,bc.jsx=e,bc.jsxs=e,bc}var Rb;function L2(){return Rb||(Rb=1,Ug.exports=V2()),Ug.exports}var x=L2(),zg={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function j2(){if(Cb)return Ct;Cb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function N(j,it,ut){this.props=j,this.context=it,this.refs=I,this.updater=ut||T}N.prototype.isReactComponent={},N.prototype.setState=function(j,it){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,it,"setState")},N.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function L(){}L.prototype=N.prototype;function B(j,it,ut){this.props=j,this.context=it,this.refs=I,this.updater=ut||T}var X=B.prototype=new L;X.constructor=B,A(X,N.prototype),X.isPureReactComponent=!0;var st=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},lt=Object.prototype.hasOwnProperty;function O(j,it,ut,at,dt,At){return ut=At.ref,{$$typeof:n,type:j,key:it,ref:ut!==void 0?ut:null,props:At}}function C(j,it){return O(j.type,it,void 0,void 0,void 0,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function P(j){var it={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ut){return it[ut]})}var V=/\/+/g;function U(j,it){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):it.toString(36)}function M(){}function Zt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(M,M):(j.status="pending",j.then(function(it){j.status==="pending"&&(j.status="fulfilled",j.value=it)},function(it){j.status==="pending"&&(j.status="rejected",j.reason=it)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function St(j,it,ut,at,dt){var At=typeof j;(At==="undefined"||At==="boolean")&&(j=null);var yt=!1;if(j===null)yt=!0;else switch(At){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(j.$$typeof){case n:case t:yt=!0;break;case y:return yt=j._init,St(yt(j._payload),it,ut,at,dt)}}if(yt)return dt=dt(j),yt=at===""?"."+U(j,0):at,st(dt)?(ut="",yt!=null&&(ut=yt.replace(V,"$&/")+"/"),St(dt,it,ut,"",function(mi){return mi})):dt!=null&&(D(dt)&&(dt=C(dt,ut+(dt.key==null||j&&j.key===dt.key?"":(""+dt.key).replace(V,"$&/")+"/")+yt)),it.push(dt)),1;yt=0;var Le=at===""?".":at+":";if(st(j))for(var re=0;re<j.length;re++)at=j[re],At=Le+U(at,re),yt+=St(at,it,ut,At,dt);else if(re=b(j),typeof re=="function")for(j=re.call(j),re=0;!(at=j.next()).done;)at=at.value,At=Le+U(at,re++),yt+=St(at,it,ut,At,dt);else if(At==="object"){if(typeof j.then=="function")return St(Zt(j),it,ut,at,dt);throw it=String(j),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return yt}function Q(j,it,ut){if(j==null)return j;var at=[],dt=0;return St(j,at,"","",function(At){return it.call(ut,At,dt++)}),at}function ot(j){if(j._status===-1){var it=j._result;it=it(),it.then(function(ut){(j._status===0||j._status===-1)&&(j._status=1,j._result=ut)},function(ut){(j._status===0||j._status===-1)&&(j._status=2,j._result=ut)}),j._status===-1&&(j._status=0,j._result=it)}if(j._status===1)return j._result.default;throw j._result}var mt=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function kt(){}return Ct.Children={map:Q,forEach:function(j,it,ut){Q(j,function(){it.apply(this,arguments)},ut)},count:function(j){var it=0;return Q(j,function(){it++}),it},toArray:function(j){return Q(j,function(it){return it})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ct.Component=N,Ct.Fragment=e,Ct.Profiler=r,Ct.PureComponent=B,Ct.StrictMode=i,Ct.Suspense=f,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(j){return J.H.useMemoCache(j)}},Ct.cache=function(j){return function(){return j.apply(null,arguments)}},Ct.cloneElement=function(j,it,ut){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var at=A({},j.props),dt=j.key,At=void 0;if(it!=null)for(yt in it.ref!==void 0&&(At=void 0),it.key!==void 0&&(dt=""+it.key),it)!lt.call(it,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&it.ref===void 0||(at[yt]=it[yt]);var yt=arguments.length-2;if(yt===1)at.children=ut;else if(1<yt){for(var Le=Array(yt),re=0;re<yt;re++)Le[re]=arguments[re+2];at.children=Le}return O(j.type,dt,void 0,void 0,At,at)},Ct.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ct.createElement=function(j,it,ut){var at,dt={},At=null;if(it!=null)for(at in it.key!==void 0&&(At=""+it.key),it)lt.call(it,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(dt[at]=it[at]);var yt=arguments.length-2;if(yt===1)dt.children=ut;else if(1<yt){for(var Le=Array(yt),re=0;re<yt;re++)Le[re]=arguments[re+2];dt.children=Le}if(j&&j.defaultProps)for(at in yt=j.defaultProps,yt)dt[at]===void 0&&(dt[at]=yt[at]);return O(j,At,void 0,void 0,null,dt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(j){return{$$typeof:h,render:j}},Ct.isValidElement=D,Ct.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ot}},Ct.memo=function(j,it){return{$$typeof:m,type:j,compare:it===void 0?null:it}},Ct.startTransition=function(j){var it=J.T,ut={};J.T=ut;try{var at=j(),dt=J.S;dt!==null&&dt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(kt,mt)}catch(At){mt(At)}finally{J.T=it}},Ct.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ct.use=function(j){return J.H.use(j)},Ct.useActionState=function(j,it,ut){return J.H.useActionState(j,it,ut)},Ct.useCallback=function(j,it){return J.H.useCallback(j,it)},Ct.useContext=function(j){return J.H.useContext(j)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(j,it){return J.H.useDeferredValue(j,it)},Ct.useEffect=function(j,it,ut){var at=J.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(j,it)},Ct.useId=function(){return J.H.useId()},Ct.useImperativeHandle=function(j,it,ut){return J.H.useImperativeHandle(j,it,ut)},Ct.useInsertionEffect=function(j,it){return J.H.useInsertionEffect(j,it)},Ct.useLayoutEffect=function(j,it){return J.H.useLayoutEffect(j,it)},Ct.useMemo=function(j,it){return J.H.useMemo(j,it)},Ct.useOptimistic=function(j,it){return J.H.useOptimistic(j,it)},Ct.useReducer=function(j,it,ut){return J.H.useReducer(j,it,ut)},Ct.useRef=function(j){return J.H.useRef(j)},Ct.useState=function(j){return J.H.useState(j)},Ct.useSyncExternalStore=function(j,it,ut){return J.H.useSyncExternalStore(j,it,ut)},Ct.useTransition=function(){return J.H.useTransition()},Ct.version="19.1.0",Ct}var Ib;function ey(){return Ib||(Ib=1,zg.exports=j2()),zg.exports}var F=ey();const ci=P2(F);var Bg={exports:{}},xc={},Hg={exports:{}},Fg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function U2(){return Nb||(Nb=1,function(n){function t(Q,ot){var mt=Q.length;Q.push(ot);t:for(;0<mt;){var kt=mt-1>>>1,j=Q[kt];if(0<r(j,ot))Q[kt]=ot,Q[mt]=j,mt=kt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ot=Q[0],mt=Q.pop();if(mt!==ot){Q[0]=mt;t:for(var kt=0,j=Q.length,it=j>>>1;kt<it;){var ut=2*(kt+1)-1,at=Q[ut],dt=ut+1,At=Q[dt];if(0>r(at,mt))dt<j&&0>r(At,at)?(Q[kt]=At,Q[dt]=mt,kt=dt):(Q[kt]=at,Q[ut]=mt,kt=ut);else if(dt<j&&0>r(At,mt))Q[kt]=At,Q[dt]=mt,kt=dt;else break t}}return ot}function r(Q,ot){var mt=Q.sortIndex-ot.sortIndex;return mt!==0?mt:Q.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,v=null,b=3,T=!1,A=!1,I=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function st(Q){for(var ot=e(m);ot!==null;){if(ot.callback===null)i(m);else if(ot.startTime<=Q)i(m),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(m)}}function J(Q){if(I=!1,st(Q),!A)if(e(f)!==null)A=!0,lt||(lt=!0,U());else{var ot=e(m);ot!==null&&St(J,ot.startTime-Q)}}var lt=!1,O=-1,C=5,D=-1;function P(){return N?!0:!(n.unstable_now()-D<C)}function V(){if(N=!1,lt){var Q=n.unstable_now();D=Q;var ot=!0;try{t:{A=!1,I&&(I=!1,B(O),O=-1),T=!0;var mt=b;try{e:{for(st(Q),v=e(f);v!==null&&!(v.expirationTime>Q&&P());){var kt=v.callback;if(typeof kt=="function"){v.callback=null,b=v.priorityLevel;var j=kt(v.expirationTime<=Q);if(Q=n.unstable_now(),typeof j=="function"){v.callback=j,st(Q),ot=!0;break e}v===e(f)&&i(f),st(Q)}else i(f);v=e(f)}if(v!==null)ot=!0;else{var it=e(m);it!==null&&St(J,it.startTime-Q),ot=!1}}break t}finally{v=null,b=mt,T=!1}ot=void 0}}finally{ot?U():lt=!1}}}var U;if(typeof X=="function")U=function(){X(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Zt=M.port2;M.port1.onmessage=V,U=function(){Zt.postMessage(null)}}else U=function(){L(V,0)};function St(Q,ot){O=L(function(){Q(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var ot=3;break;default:ot=b}var mt=b;b=ot;try{return Q()}finally{b=mt}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(Q,ot){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var mt=b;b=Q;try{return ot()}finally{b=mt}},n.unstable_scheduleCallback=function(Q,ot,mt){var kt=n.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?kt+mt:kt):mt=kt,Q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=mt+j,Q={id:y++,callback:ot,priorityLevel:Q,startTime:mt,expirationTime:j,sortIndex:-1},mt>kt?(Q.sortIndex=mt,t(m,Q),e(f)===null&&Q===e(m)&&(I?(B(O),O=-1):I=!0,St(J,mt-kt))):(Q.sortIndex=j,t(f,Q),A||T||(A=!0,lt||(lt=!0,U()))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var ot=b;return function(){var mt=b;b=ot;try{return Q.apply(this,arguments)}finally{b=mt}}}}(Fg)),Fg}var Db;function z2(){return Db||(Db=1,Hg.exports=U2()),Hg.exports}var qg={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function B2(){if(Ob)return tn;Ob=1;var n=ey();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:v==null?null:""+v,children:f,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,y)},tn.flushSync=function(f){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=y,i.d.f()}},tn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},tn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},tn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:T}):y==="script"&&i.d.X(f,{crossOrigin:v,integrity:b,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},tn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},tn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},tn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},tn.requestFormReset=function(f){i.d.r(f)},tn.unstable_batchedUpdates=function(f,m){return f(m)},tn.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var Mb;function H2(){if(Mb)return qg.exports;Mb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),qg.exports=B2(),qg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function F2(){if(kb)return xc;kb=1;var n=z2(),t=ey(),e=H2();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return h(g),s;if(p===u)return h(g),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var w=!1,S=g.child;S;){if(S===l){w=!0,l=g,u=p;break}if(S===u){w=!0,u=g,l=p;break}S=S.sibling}if(!w){for(S=p.child;S;){if(S===l){w=!0,l=p,u=g;break}if(S===u){w=!0,u=p,l=g;break}S=S.sibling}if(!w)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),X=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function Zt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case N:return"Profiler";case I:return"StrictMode";case J:return"Suspense";case lt:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case X:return(s.displayName||"Context")+".Provider";case B:return(s._context.displayName||"Context")+".Consumer";case st:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:Zt(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return Zt(s(a))}catch{}}return null}var St=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},kt=[],j=-1;function it(s){return{current:s}}function ut(s){0>j||(s.current=kt[j],kt[j]=null,j--)}function at(s,a){j++,kt[j]=s.current,s.current=a}var dt=it(null),At=it(null),yt=it(null),Le=it(null);function re(s,a){switch(at(yt,a),at(At,s),at(dt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?tb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=tb(a),s=eb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ut(dt),at(dt,s)}function mi(){ut(dt),ut(At),ut(yt)}function Ns(s){s.memoizedState!==null&&at(Le,s);var a=dt.current,l=eb(a,s.type);a!==l&&(at(At,s),at(dt,l))}function Hi(s){At.current===s&&(ut(dt),ut(At)),Le.current===s&&(ut(Le),gc._currentValue=mt)}var Mr=Object.prototype.hasOwnProperty,kr=n.unstable_scheduleCallback,Pr=n.unstable_cancelCallback,fl=n.unstable_shouldYield,Tu=n.unstable_requestPaint,Mn=n.unstable_now,Ud=n.unstable_getCurrentPriorityLevel,dl=n.unstable_ImmediatePriority,La=n.unstable_UserBlockingPriority,Vr=n.unstable_NormalPriority,zd=n.unstable_LowPriority,ja=n.unstable_IdlePriority,ml=n.log,Su=n.unstable_setDisableYieldValue,me=null,$t=null;function En(s){if(typeof ml=="function"&&Su(s),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(me,s)}catch{}}var Ze=Math.clz32?Math.clz32:Lr,Au=Math.log,Bd=Math.LN2;function Lr(s){return s>>>=0,s===0?32:31-(Au(s)/Bd|0)|0}var jr=256,Ur=4194304;function ti(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ua(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=ti(u):(w&=S,w!==0?g=ti(w):l||(l=S&~s,l!==0&&(g=ti(l))))):(S=u&~p,S!==0?g=ti(S):w!==0?g=ti(w):l||(l=u&~s,l!==0&&(g=ti(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function zr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function gl(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var s=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),s}function yl(){var s=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),s}function Fi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function qi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function _l(s,a,l,u,g,p){var w=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,k=s.expirationTimes,Y=s.hiddenUpdates;for(l=w&~l;0<l;){var Z=31-Ze(l),et=1<<Z;S[Z]=0,k[Z]=-1;var $=Y[Z];if($!==null)for(Y[Z]=null,Z=0;Z<$.length;Z++){var K=$[Z];K!==null&&(K.lane&=-536870913)}l&=~et}u!==0&&gi(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(w&~a))}function gi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Ze(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function vl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Ze(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function Ds(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function za(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Os(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:bb(s.type))}function Ru(s,a){var l=ot.p;try{return ot.p=s,a()}finally{ot.p=l}}var le=Math.random().toString(36).slice(2),Ce="__reactFiber$"+le,Ee="__reactProps$"+le,kn="__reactContainer$"+le,bl="__reactEvents$"+le,Hd="__reactListeners$"+le,Ms="__reactHandles$"+le,Cu="__reactResources$"+le,Br="__reactMarker$"+le;function ks(s){delete s[Ce],delete s[Ee],delete s[bl],delete s[Hd],delete s[Ms]}function Gi(s){var a=s[Ce];if(a)return a;for(var l=s.parentNode;l;){if(a=l[kn]||l[Ce]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=rb(s);s!==null;){if(l=s[Ce])return l;s=rb(s)}return a}s=l,l=s.parentNode}return null}function pi(s){if(s=s[Ce]||s[kn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function yi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function un(s){var a=s[Cu];return a||(a=s[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ye(s){s[Br]=!0}var xl=new Set,Ba={};function ei(s,a){Yi(s,a),Yi(s+"Capture",a)}function Yi(s,a){for(Ba[s]=a,s=0;s<a.length;s++)xl.add(a[s])}var Iu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nu={},Hr={};function Du(s){return Mr.call(Hr,s)?!0:Mr.call(Nu,s)?!1:Iu.test(s)?Hr[s]=!0:(Nu[s]=!0,!1)}function Ps(s,a,l){if(Du(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function _i(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ye(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Fr,Ou;function $i(s){if(Fr===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Fr=a&&a[1]||"",Ou=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+s+Ou}var Ha=!1;function Fa(s,a){if(!s||Ha)return"";Ha=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(K){var $=K}Reflect.construct(s,[],et)}else{try{et.call()}catch(K){$=K}s.call(et.prototype)}}else{try{throw Error()}catch(K){$=K}(et=s())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),w=p[0],S=p[1];if(w&&S){var k=w.split(`
`),Y=S.split(`
`);for(g=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(u===k.length||g===Y.length)for(u=k.length-1,g=Y.length-1;1<=u&&0<=g&&k[u]!==Y[g];)g--;for(;1<=u&&0<=g;u--,g--)if(k[u]!==Y[g]){if(u!==1||g!==1)do if(u--,g--,0>g||k[u]!==Y[g]){var Z=`
`+k[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=g);break}}}finally{Ha=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?$i(l):""}function El(s){switch(s.tag){case 26:case 27:case 5:return $i(s.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 15:return Fa(s.type,!1);case 11:return Fa(s.type.render,!1);case 1:return Fa(s.type,!0);case 31:return $i("Activity");default:return""}}function qa(s){try{var a="";do a+=El(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function hn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function wl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Fd(s){var a=wl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(w){u=""+w,p.call(this,w)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Ga(s){s._valueTracker||(s._valueTracker=Fd(s))}function Tl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=wl(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function qr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var qd=/[\n"\\]/g;function we(s){return s.replace(qd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wn(s,a,l,u,g,p,w,S){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+hn(a)):s.value!==""+hn(a)&&(s.value=""+hn(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?Vs(s,w,hn(a)):l!=null?Vs(s,w,hn(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+hn(S):s.removeAttribute("name")}function Gr(s,a,l,u,g,p,w,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+hn(l):"",a=a!=null?""+hn(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function Vs(s,a,l){a==="number"&&qr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ki(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+hn(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Jt(s,a,l){if(a!=null&&(a=""+hn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+hn(l):""}function Yr(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(St(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=hn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Pn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var $r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mu(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||$r.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Sl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Mu(s,g,u)}else for(var p in a)a.hasOwnProperty(p)&&Mu(s,p,a[p])}function Al(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(s){return Yd.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Qi=null;function Vn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xi=null,Wi=null;function Rl(s){var a=pi(s);if(a&&(s=a.stateNode)){var l=s[Ee]||null;t:switch(s=a.stateNode,a.type){case"input":if(wn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+we(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[Ee]||null;if(!g)throw Error(i(90));wn(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&Tl(u)}break t;case"textarea":Jt(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Ki(s,!!l.multiple,a,!1)}}}var vi=!1;function ku(s,a,l){if(vi)return s(a,l);vi=!0;try{var u=s(a);return u}finally{if(vi=!1,(Xi!==null||Wi!==null)&&(Rh(),Xi&&(a=Xi,s=Wi,Wi=Xi=null,Rl(a),s)))for(a=0;a<s.length;a++)Rl(s[a])}}function Kr(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Ee]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(ni)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Ln=!1}var bi=null,Ls=null,Zi=null;function Cl(){if(Zi)return Zi;var s,a=Ls,l=a.length,u,g="value"in bi?bi.value:bi.textContent,p=g.length;for(s=0;s<l&&a[s]===g[s];s++);var w=l-s;for(u=1;u<=w&&a[l-u]===g[p-u];u++);return Zi=g.slice(s,1<u?1-u:void 0)}function xi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ei(){return!0}function Il(){return!1}function je(s){function a(l,u,g,p,w){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ei:Il,this.isPropagationStopped=Il,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),a}var Gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=je(Gt),Xr=y({},Gt,{view:0,detail:0}),Pu=je(Xr),Ka,Qa,wi,Wr=y({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==wi&&(wi&&s.type==="mousemove"?(Ka=s.screenX-wi.screenX,Qa=s.screenY-wi.screenY):Qa=Ka=0,wi=s),Ka)},movementY:function(s){return"movementY"in s?s.movementY:Qa}}),jn=je(Wr),Vu=y({},Wr,{dataTransfer:0}),$d=je(Vu),Zr=y({},Xr,{relatedTarget:0}),Xa=je(Zr),Nl=y({},Gt,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=je(Nl),Lu=y({},Gt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Za=je(Lu),Kd=y({},Gt,{data:0}),Dl=je(Kd),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Uu[s])?!!a[s]:!1}function ta(){return Ol}var zu=y({},Xr,{key:function(s){if(s.key){var a=Jr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=xi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?ju[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(s){return s.type==="keypress"?xi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?xi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ja=je(zu),Bu=y({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=je(Bu),Ji=y({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Hu=je(Ji),Fu=y({},Gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),qu=je(Fu),Gu=y({},Wr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),to=je(Gu),fn=y({},Gt,{newState:0,oldState:0}),Yu=je(fn),$u=[9,13,27,32],Ti=ni&&"CompositionEvent"in window,d=null;ni&&"documentMode"in document&&(d=document.documentMode);var _=ni&&"TextEvent"in window&&!d,E=ni&&(!Ti||d&&8<d&&11>=d),R=" ",q=!1;function W(s,a){switch(s){case"keyup":return $u.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lt=!1;function Ie(s,a){switch(s){case"compositionend":return ct(a);case"keypress":return a.which!==32?null:(q=!0,R);case"textInput":return s=a.data,s===R&&q?null:s;default:return null}}function jt(s,a){if(Lt)return s==="compositionend"||!Ti&&W(s,a)?(s=Cl(),Zi=Ls=bi=null,Lt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ne(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Ue[s.type]:a==="textarea"}function ts(s,a,l,u){Xi?Wi?Wi.push(u):Wi=[u]:Xi=u,a=Mh(a,"onChange"),0<a.length&&(l=new $a("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var $e=null,Si=null;function kl(s){Q0(s,0)}function Ku(s){var a=yi(s);if(Tl(a))return s}function p_(s,a){if(s==="change")return a}var y_=!1;if(ni){var Qd;if(ni){var Xd="oninput"in document;if(!Xd){var __=document.createElement("div");__.setAttribute("oninput","return;"),Xd=typeof __.oninput=="function"}Qd=Xd}else Qd=!1;y_=Qd&&(!document.documentMode||9<document.documentMode)}function v_(){$e&&($e.detachEvent("onpropertychange",b_),Si=$e=null)}function b_(s){if(s.propertyName==="value"&&Ku(Si)){var a=[];ts(a,Si,s,Vn(s)),ku(kl,a)}}function cA(s,a,l){s==="focusin"?(v_(),$e=a,Si=l,$e.attachEvent("onpropertychange",b_)):s==="focusout"&&v_()}function uA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ku(Si)}function hA(s,a){if(s==="click")return Ku(a)}function fA(s,a){if(s==="input"||s==="change")return Ku(a)}function dA(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Tn=typeof Object.is=="function"?Object.is:dA;function Pl(s,a){if(Tn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Mr.call(a,g)||!Tn(s[g],a[g]))return!1}return!0}function x_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function E_(s,a){var l=x_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=x_(l)}}function w_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?w_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function T_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=qr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=qr(s.document)}return a}function Wd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var mA=ni&&"documentMode"in document&&11>=document.documentMode,eo=null,Zd=null,Vl=null,Jd=!1;function S_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jd||eo==null||eo!==qr(u)||(u=eo,"selectionStart"in u&&Wd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Vl&&Pl(Vl,u)||(Vl=u,u=Mh(Zd,"onSelect"),0<u.length&&(a=new $a("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=eo)))}function ea(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var no={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},tm={},A_={};ni&&(A_=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function na(s){if(tm[s])return tm[s];if(!no[s])return s;var a=no[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in A_)return tm[s]=a[l];return s}var R_=na("animationend"),C_=na("animationiteration"),I_=na("animationstart"),gA=na("transitionrun"),pA=na("transitionstart"),yA=na("transitioncancel"),N_=na("transitionend"),D_=new Map,em="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");em.push("scrollEnd");function ii(s,a){D_.set(s,a),ei(a,[s])}var O_=new WeakMap;function Un(s,a){if(typeof s=="object"&&s!==null){var l=O_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:qa(a)},O_.set(s,a),a)}return{value:s,source:a,stack:qa(a)}}var zn=[],io=0,nm=0;function Qu(){for(var s=io,a=nm=io=0;a<s;){var l=zn[a];zn[a++]=null;var u=zn[a];zn[a++]=null;var g=zn[a];zn[a++]=null;var p=zn[a];if(zn[a++]=null,u!==null&&g!==null){var w=u.pending;w===null?g.next=g:(g.next=w.next,w.next=g),u.pending=g}p!==0&&M_(l,g,p)}}function Xu(s,a,l,u){zn[io++]=s,zn[io++]=a,zn[io++]=l,zn[io++]=u,nm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function im(s,a,l,u){return Xu(s,a,l,u),Wu(s)}function so(s,a){return Xu(s,null,null,a),Wu(s)}function M_(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&a!==null&&(g=31-Ze(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Wu(s){if(50<oc)throw oc=0,cg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var ro={};function _A(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(s,a,l,u){return new _A(s,a,l,u)}function sm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function es(s,a){var l=s.alternate;return l===null?(l=Sn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function k_(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Zu(s,a,l,u,g,p){var w=0;if(u=s,typeof s=="function")sm(s)&&(w=1);else if(typeof s=="string")w=b2(s,l,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=Sn(31,l,a,g),s.elementType=D,s.lanes=p,s;case A:return ia(l.children,g,p,a);case I:w=8,g|=24;break;case N:return s=Sn(12,l,a,g|2),s.elementType=N,s.lanes=p,s;case J:return s=Sn(13,l,a,g),s.elementType=J,s.lanes=p,s;case lt:return s=Sn(19,l,a,g),s.elementType=lt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:case X:w=10;break t;case B:w=9;break t;case st:w=11;break t;case O:w=14;break t;case C:w=16,u=null;break t}w=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Sn(w,l,a,g),a.elementType=s,a.type=u,a.lanes=p,a}function ia(s,a,l,u){return s=Sn(7,s,u,a),s.lanes=l,s}function rm(s,a,l){return s=Sn(6,s,null,a),s.lanes=l,s}function am(s,a,l){return a=Sn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var ao=[],oo=0,Ju=null,th=0,Bn=[],Hn=0,sa=null,ns=1,is="";function ra(s,a){ao[oo++]=th,ao[oo++]=Ju,Ju=s,th=a}function P_(s,a,l){Bn[Hn++]=ns,Bn[Hn++]=is,Bn[Hn++]=sa,sa=s;var u=ns;s=is;var g=32-Ze(u)-1;u&=~(1<<g),l+=1;var p=32-Ze(a)+g;if(30<p){var w=g-g%5;p=(u&(1<<w)-1).toString(32),u>>=w,g-=w,ns=1<<32-Ze(a)+g|l<<g|u,is=p+s}else ns=1<<p|l<<g|u,is=s}function om(s){s.return!==null&&(ra(s,1),P_(s,1,0))}function lm(s){for(;s===Ju;)Ju=ao[--oo],ao[oo]=null,th=ao[--oo],ao[oo]=null;for(;s===sa;)sa=Bn[--Hn],Bn[Hn]=null,is=Bn[--Hn],Bn[Hn]=null,ns=Bn[--Hn],Bn[Hn]=null}var dn=null,ge=null,qt=!1,aa=null,Ai=!1,cm=Error(i(519));function oa(s){var a=Error(i(418,""));throw Ul(Un(a,s)),cm}function V_(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Ce]=s,a[Ee]=u,l){case"dialog":Mt("cancel",a),Mt("close",a);break;case"iframe":case"object":case"embed":Mt("load",a);break;case"video":case"audio":for(l=0;l<cc.length;l++)Mt(cc[l],a);break;case"source":Mt("error",a);break;case"img":case"image":case"link":Mt("error",a),Mt("load",a);break;case"details":Mt("toggle",a);break;case"input":Mt("invalid",a),Gr(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ga(a);break;case"select":Mt("invalid",a);break;case"textarea":Mt("invalid",a),Yr(a,u.value,u.defaultValue,u.children),Ga(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||J0(a.textContent,l)?(u.popover!=null&&(Mt("beforetoggle",a),Mt("toggle",a)),u.onScroll!=null&&Mt("scroll",a),u.onScrollEnd!=null&&Mt("scrollend",a),u.onClick!=null&&(a.onclick=kh),a=!0):a=!1,a||oa(s)}function L_(s){for(dn=s.return;dn;)switch(dn.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:dn=dn.return}}function Ll(s){if(s!==dn)return!1;if(!qt)return L_(s),qt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Sg(s.type,s.memoizedProps)),l=!l),l&&ge&&oa(s),L_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){ge=ri(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}ge=null}}else a===27?(a=ge,Js(s.type)?(s=Ig,Ig=null,ge=s):ge=a):ge=dn?ri(s.stateNode.nextSibling):null;return!0}function jl(){ge=dn=null,qt=!1}function j_(){var s=aa;return s!==null&&(yn===null?yn=s:yn.push.apply(yn,s),aa=null),s}function Ul(s){aa===null?aa=[s]:aa.push(s)}var um=it(null),la=null,ss=null;function js(s,a,l){at(um,a._currentValue),a._currentValue=l}function rs(s){s._currentValue=um.current,ut(um)}function hm(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function fm(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var w=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var k=0;k<a.length;k++)if(S.context===a[k]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),hm(p.return,l,s),u||(w=null);break t}p=S.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(i(341));w.lanes|=l,p=w.alternate,p!==null&&(p.lanes|=l),hm(w,l,s),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function zl(s,a,l,u){s=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=g.type;Tn(g.pendingProps.value,w.value)||(s!==null?s.push(S):s=[S])}}else if(g===Le.current){if(w=g.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(gc):s=[gc])}g=g.return}s!==null&&fm(a,s,l,u),a.flags|=262144}function eh(s){for(s=s.firstContext;s!==null;){if(!Tn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ca(s){la=s,ss=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Je(s){return U_(la,s)}function nh(s,a){return la===null&&ca(s),U_(s,a)}function U_(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ss===null){if(s===null)throw Error(i(308));ss=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ss=ss.next=a;return l}var vA=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},bA=n.unstable_scheduleCallback,xA=n.unstable_NormalPriority,De={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dm(){return{controller:new vA,data:new Map,refCount:0}}function Bl(s){s.refCount--,s.refCount===0&&bA(xA,function(){s.controller.abort()})}var Hl=null,mm=0,lo=0,co=null;function EA(s,a){if(Hl===null){var l=Hl=[];mm=0,lo=pg(),co={status:"pending",value:void 0,then:function(u){l.push(u)}}}return mm++,a.then(z_,z_),a}function z_(){if(--mm===0&&Hl!==null){co!==null&&(co.status="fulfilled");var s=Hl;Hl=null,lo=0,co=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function wA(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var B_=Q.S;Q.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&EA(s,a),B_!==null&&B_(s,a)};var ua=it(null);function gm(){var s=ua.current;return s!==null?s:ae.pooledCache}function ih(s,a){a===null?at(ua,ua.current):at(ua,a.pool)}function H_(){var s=gm();return s===null?null:{parent:De._currentValue,pool:s}}var Fl=Error(i(460)),F_=Error(i(474)),sh=Error(i(542)),pm={then:function(){}};function q_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function rh(){}function G_(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(rh,rh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,$_(s),s;default:if(typeof a.status=="string")a.then(rh,rh);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,$_(s),s}throw ql=a,Fl}}var ql=null;function Y_(){if(ql===null)throw Error(i(459));var s=ql;return ql=null,s}function $_(s){if(s===Fl||s===sh)throw Error(i(483))}var Us=!1;function ym(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _m(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function zs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Bs(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Wu(s),M_(s,null,l),a}return Xu(s,u,a,l),Wu(s)}function Gl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,vl(s,l)}}function vm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=w:p=p.next=w,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var bm=!1;function Yl(){if(bm){var s=co;if(s!==null)throw s}}function $l(s,a,l,u){bm=!1;var g=s.updateQueue;Us=!1;var p=g.firstBaseUpdate,w=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var k=S,Y=k.next;k.next=null,w===null?p=Y:w.next=Y,w=k;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==w&&(S===null?Z.firstBaseUpdate=Y:S.next=Y,Z.lastBaseUpdate=k))}if(p!==null){var et=g.baseState;w=0,Z=Y=k=null,S=p;do{var $=S.lane&-536870913,K=$!==S.lane;if(K?(Ut&$)===$:(u&$)===$){$!==0&&$===lo&&(bm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var Et=s,vt=S;$=a;var ne=l;switch(vt.tag){case 1:if(Et=vt.payload,typeof Et=="function"){et=Et.call(ne,et,$);break t}et=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=vt.payload,$=typeof Et=="function"?Et.call(ne,et,$):Et,$==null)break t;et=y({},et,$);break t;case 2:Us=!0}}$=S.callback,$!==null&&(s.flags|=64,K&&(s.flags|=8192),K=g.callbacks,K===null?g.callbacks=[$]:K.push($))}else K={lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(Y=Z=K,k=et):Z=Z.next=K,w|=$;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;K=S,S=K.next,K.next=null,g.lastBaseUpdate=K,g.shared.pending=null}}while(!0);Z===null&&(k=et),g.baseState=k,g.firstBaseUpdate=Y,g.lastBaseUpdate=Z,p===null&&(g.shared.lanes=0),Qs|=w,s.lanes=w,s.memoizedState=et}}function K_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function Q_(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)K_(l[s],a)}var uo=it(null),ah=it(0);function X_(s,a){s=fs,at(ah,s),at(uo,a),fs=s|a.baseLanes}function xm(){at(ah,fs),at(uo,uo.current)}function Em(){fs=ah.current,ut(uo),ut(ah)}var Hs=0,It=null,te=null,Te=null,oh=!1,ho=!1,ha=!1,lh=0,Kl=0,fo=null,TA=0;function _e(){throw Error(i(321))}function wm(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Tn(s[l],a[l]))return!1;return!0}function Tm(s,a,l,u,g,p){return Hs=p,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?Mv:kv,ha=!1,p=l(u,g),ha=!1,ho&&(p=Z_(a,l,u,g)),W_(s),p}function W_(s){Q.H=mh;var a=te!==null&&te.next!==null;if(Hs=0,Te=te=It=null,oh=!1,Kl=0,fo=null,a)throw Error(i(300));s===null||ze||(s=s.dependencies,s!==null&&eh(s)&&(ze=!0))}function Z_(s,a,l,u){It=s;var g=0;do{if(ho&&(fo=null),Kl=0,ho=!1,25<=g)throw Error(i(301));if(g+=1,Te=te=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Q.H=DA,p=a(l,u)}while(ho);return p}function SA(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?Ql(a):a,s=s.useState()[0],(te!==null?te.memoizedState:null)!==s&&(It.flags|=1024),a}function Sm(){var s=lh!==0;return lh=0,s}function Am(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Rm(s){if(oh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}oh=!1}Hs=0,Te=te=It=null,ho=!1,Kl=lh=0,fo=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?It.memoizedState=Te=s:Te=Te.next=s,Te}function Se(){if(te===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=te.next;var a=Te===null?It.memoizedState:Te.next;if(a!==null)Te=a,te=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));te=s,s={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Te===null?It.memoizedState=Te=s:Te=Te.next=s}return Te}function Cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(s){var a=Kl;return Kl+=1,fo===null&&(fo=[]),s=G_(fo,s,a),a=It,(Te===null?a.memoizedState:Te.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?Mv:kv),s}function ch(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ql(s);if(s.$$typeof===X)return Je(s)}throw Error(i(438,String(s)))}function Im(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Cm(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function as(s,a){return typeof a=="function"?a(s):a}function uh(s){var a=Se();return Nm(a,te,s)}function Nm(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var w=g.next;g.next=p.next,p.next=w}a.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{a=g.next;var S=w=null,k=null,Y=a,Z=!1;do{var et=Y.lane&-536870913;if(et!==Y.lane?(Ut&et)===et:(Hs&et)===et){var $=Y.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),et===lo&&(Z=!0);else if((Hs&$)===$){Y=Y.next,$===lo&&(Z=!0);continue}else et={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=et,w=p):k=k.next=et,It.lanes|=$,Qs|=$;et=Y.action,ha&&l(p,et),p=Y.hasEagerState?Y.eagerState:l(p,et)}else $={lane:et,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=$,w=p):k=k.next=$,It.lanes|=et,Qs|=et;Y=Y.next}while(Y!==null&&Y!==a);if(k===null?w=p:k.next=S,!Tn(p,s.memoizedState)&&(ze=!0,Z&&(l=co,l!==null)))throw l;s.memoizedState=p,s.baseState=w,s.baseQueue=k,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Dm(s){var a=Se(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var w=g=g.next;do p=s(p,w.action),w=w.next;while(w!==g);Tn(p,a.memoizedState)||(ze=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function J_(s,a,l){var u=It,g=Se(),p=qt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var w=!Tn((te||g).memoizedState,l);w&&(g.memoizedState=l,ze=!0),g=g.queue;var S=nv.bind(null,u,g,s);if(Xl(2048,8,S,[s]),g.getSnapshot!==a||w||Te!==null&&Te.memoizedState.tag&1){if(u.flags|=2048,mo(9,hh(),ev.bind(null,u,g,l,a),null),ae===null)throw Error(i(349));p||(Hs&124)!==0||tv(u,a,l)}return l}function tv(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=Cm(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function ev(s,a,l,u){a.value=l,a.getSnapshot=u,iv(a)&&sv(s)}function nv(s,a,l){return l(function(){iv(a)&&sv(s)})}function iv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Tn(s,l)}catch{return!0}}function sv(s){var a=so(s,2);a!==null&&Nn(a,s,2)}function Om(s){var a=gn();if(typeof s=="function"){var l=s;if(s=l(),ha){En(!0);try{l()}finally{En(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},a}function rv(s,a,l,u){return s.baseState=l,Nm(s,te,typeof u=="function"?u:as)}function AA(s,a,l,u,g){if(dh(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};Q.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,av(a,p)):(p.next=l.next,a.pending=l.next=p)}}function av(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var p=Q.T,w={};Q.T=w;try{var S=l(g,u),k=Q.S;k!==null&&k(w,S),ov(s,a,S)}catch(Y){Mm(s,a,Y)}finally{Q.T=p}}else try{p=l(g,u),ov(s,a,p)}catch(Y){Mm(s,a,Y)}}function ov(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){lv(s,a,u)},function(u){return Mm(s,a,u)}):lv(s,a,l)}function lv(s,a,l){a.status="fulfilled",a.value=l,cv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,av(s,l)))}function Mm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,cv(a),a=a.next;while(a!==u)}s.action=null}function cv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function uv(s,a){return a}function hv(s,a){if(qt){var l=ae.formState;if(l!==null){t:{var u=It;if(qt){if(ge){e:{for(var g=ge,p=Ai;g.nodeType!==8;){if(!p){g=null;break e}if(g=ri(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ge=ri(g.nextSibling),u=g.data==="F!";break t}}oa(u)}u=!1}u&&(a=l[0])}}return l=gn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:a},l.queue=u,l=Nv.bind(null,It,u),u.dispatch=l,u=Om(!1),p=jm.bind(null,It,!1,u.queue),u=gn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=AA.bind(null,It,g,p,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function fv(s){var a=Se();return dv(a,te,s)}function dv(s,a,l){if(a=Nm(s,a,uv)[0],s=uh(as)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Ql(a)}catch(w){throw w===Fl?sh:w}else u=a;a=Se();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,mo(9,hh(),RA.bind(null,g,l),null)),[u,p,s]}function RA(s,a){s.action=a}function mv(s){var a=Se(),l=te;if(l!==null)return dv(a,l,s);Se(),a=a.memoizedState,l=Se();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function mo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=Cm(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function hh(){return{destroy:void 0,resource:void 0}}function gv(){return Se().memoizedState}function fh(s,a,l,u){var g=gn();u=u===void 0?null:u,It.flags|=s,g.memoizedState=mo(1|a,hh(),l,u)}function Xl(s,a,l,u){var g=Se();u=u===void 0?null:u;var p=g.memoizedState.inst;te!==null&&u!==null&&wm(u,te.memoizedState.deps)?g.memoizedState=mo(a,p,l,u):(It.flags|=s,g.memoizedState=mo(1|a,p,l,u))}function pv(s,a){fh(8390656,8,s,a)}function yv(s,a){Xl(2048,8,s,a)}function _v(s,a){return Xl(4,2,s,a)}function vv(s,a){return Xl(4,4,s,a)}function bv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function xv(s,a,l){l=l!=null?l.concat([s]):null,Xl(4,4,bv.bind(null,a,s),l)}function km(){}function Ev(s,a){var l=Se();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&wm(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function wv(s,a){var l=Se();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&wm(a,u[1]))return u[0];if(u=s(),ha){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[u,a],u}function Pm(s,a,l){return l===void 0||(Hs&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=A0(),It.lanes|=s,Qs|=s,l)}function Tv(s,a,l,u){return Tn(l,a)?l:uo.current!==null?(s=Pm(s,l,u),Tn(s,a)||(ze=!0),s):(Hs&42)===0?(ze=!0,s.memoizedState=l):(s=A0(),It.lanes|=s,Qs|=s,a)}function Sv(s,a,l,u,g){var p=ot.p;ot.p=p!==0&&8>p?p:8;var w=Q.T,S={};Q.T=S,jm(s,!1,a,l);try{var k=g(),Y=Q.S;if(Y!==null&&Y(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=wA(k,u);Wl(s,a,Z,In(s))}else Wl(s,a,u,In(s))}catch(et){Wl(s,a,{then:function(){},status:"rejected",reason:et},In())}finally{ot.p=p,Q.T=w}}function CA(){}function Vm(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=Av(s).queue;Sv(s,g,a,mt,l===null?CA:function(){return Rv(s),l(u)})}function Av(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:mt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Rv(s){var a=Av(s).next.queue;Wl(s,a,{},In())}function Lm(){return Je(gc)}function Cv(){return Se().memoizedState}function Iv(){return Se().memoizedState}function IA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=In();s=zs(l);var u=Bs(a,s,l);u!==null&&(Nn(u,a,l),Gl(u,a,l)),a={cache:dm()},s.payload=a;return}a=a.return}}function NA(s,a,l){var u=In();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},dh(s)?Dv(a,l):(l=im(s,a,l,u),l!==null&&(Nn(l,s,u),Ov(l,a,u)))}function Nv(s,a,l){var u=In();Wl(s,a,l,u)}function Wl(s,a,l,u){var g={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(dh(s))Dv(a,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var w=a.lastRenderedState,S=p(w,l);if(g.hasEagerState=!0,g.eagerState=S,Tn(S,w))return Xu(s,a,g,0),ae===null&&Qu(),!1}catch{}finally{}if(l=im(s,a,g,u),l!==null)return Nn(l,s,u),Ov(l,a,u),!0}return!1}function jm(s,a,l,u){if(u={lane:2,revertLane:pg(),action:u,hasEagerState:!1,eagerState:null,next:null},dh(s)){if(a)throw Error(i(479))}else a=im(s,l,u,2),a!==null&&Nn(a,s,2)}function dh(s){var a=s.alternate;return s===It||a!==null&&a===It}function Dv(s,a){ho=oh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Ov(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,vl(s,l)}}var mh={readContext:Je,use:ch,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},Mv={readContext:Je,use:ch,useCallback:function(s,a){return gn().memoizedState=[s,a===void 0?null:a],s},useContext:Je,useEffect:pv,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,fh(4194308,4,bv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return fh(4194308,4,s,a)},useInsertionEffect:function(s,a){fh(4,2,s,a)},useMemo:function(s,a){var l=gn();a=a===void 0?null:a;var u=s();if(ha){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=gn();if(l!==void 0){var g=l(a);if(ha){En(!0);try{l(a)}finally{En(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=NA.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=gn();return s={current:s},a.memoizedState=s},useState:function(s){s=Om(s);var a=s.queue,l=Nv.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:km,useDeferredValue:function(s,a){var l=gn();return Pm(l,s,a)},useTransition:function(){var s=Om(!1);return s=Sv.bind(null,It,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,g=gn();if(qt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Ut&124)!==0||tv(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,pv(nv.bind(null,u,p,s),[s]),u.flags|=2048,mo(9,hh(),ev.bind(null,u,p,l,a),null),l},useId:function(){var s=gn(),a=ae.identifierPrefix;if(qt){var l=is,u=ns;l=(u&~(1<<32-Ze(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=lh++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=TA++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Lm,useFormState:hv,useActionState:hv,useOptimistic:function(s){var a=gn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=jm.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:Im,useCacheRefresh:function(){return gn().memoizedState=IA.bind(null,It)}},kv={readContext:Je,use:ch,useCallback:Ev,useContext:Je,useEffect:yv,useImperativeHandle:xv,useInsertionEffect:_v,useLayoutEffect:vv,useMemo:wv,useReducer:uh,useRef:gv,useState:function(){return uh(as)},useDebugValue:km,useDeferredValue:function(s,a){var l=Se();return Tv(l,te.memoizedState,s,a)},useTransition:function(){var s=uh(as)[0],a=Se().memoizedState;return[typeof s=="boolean"?s:Ql(s),a]},useSyncExternalStore:J_,useId:Cv,useHostTransitionStatus:Lm,useFormState:fv,useActionState:fv,useOptimistic:function(s,a){var l=Se();return rv(l,te,s,a)},useMemoCache:Im,useCacheRefresh:Iv},DA={readContext:Je,use:ch,useCallback:Ev,useContext:Je,useEffect:yv,useImperativeHandle:xv,useInsertionEffect:_v,useLayoutEffect:vv,useMemo:wv,useReducer:Dm,useRef:gv,useState:function(){return Dm(as)},useDebugValue:km,useDeferredValue:function(s,a){var l=Se();return te===null?Pm(l,s,a):Tv(l,te.memoizedState,s,a)},useTransition:function(){var s=Dm(as)[0],a=Se().memoizedState;return[typeof s=="boolean"?s:Ql(s),a]},useSyncExternalStore:J_,useId:Cv,useHostTransitionStatus:Lm,useFormState:mv,useActionState:mv,useOptimistic:function(s,a){var l=Se();return te!==null?rv(l,te,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Im,useCacheRefresh:Iv},go=null,Zl=0;function gh(s){var a=Zl;return Zl+=1,go===null&&(go=[]),G_(go,s,a)}function Jl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function ph(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Pv(s){var a=s._init;return a(s._payload)}function Vv(s){function a(H,z){if(s){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function l(H,z){if(!s)return null;for(;z!==null;)a(H,z),z=z.sibling;return null}function u(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function g(H,z){return H=es(H,z),H.index=0,H.sibling=null,H}function p(H,z,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=67108866,z):G):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function w(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,G,tt){return z===null||z.tag!==6?(z=rm(G,H.mode,tt),z.return=H,z):(z=g(z,G),z.return=H,z)}function k(H,z,G,tt){var ft=G.type;return ft===A?Z(H,z,G.props.children,tt,G.key):z!==null&&(z.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===C&&Pv(ft)===z.type)?(z=g(z,G.props),Jl(z,G),z.return=H,z):(z=Zu(G.type,G.key,G.props,null,H.mode,tt),Jl(z,G),z.return=H,z)}function Y(H,z,G,tt){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=am(G,H.mode,tt),z.return=H,z):(z=g(z,G.children||[]),z.return=H,z)}function Z(H,z,G,tt,ft){return z===null||z.tag!==7?(z=ia(G,H.mode,tt,ft),z.return=H,z):(z=g(z,G),z.return=H,z)}function et(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=rm(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return G=Zu(z.type,z.key,z.props,null,H.mode,G),Jl(G,z),G.return=H,G;case T:return z=am(z,H.mode,G),z.return=H,z;case C:var tt=z._init;return z=tt(z._payload),et(H,z,G)}if(St(z)||U(z))return z=ia(z,H.mode,G,null),z.return=H,z;if(typeof z.then=="function")return et(H,gh(z),G);if(z.$$typeof===X)return et(H,nh(H,z),G);ph(H,z)}return null}function $(H,z,G,tt){var ft=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ft!==null?null:S(H,z,""+G,tt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===ft?k(H,z,G,tt):null;case T:return G.key===ft?Y(H,z,G,tt):null;case C:return ft=G._init,G=ft(G._payload),$(H,z,G,tt)}if(St(G)||U(G))return ft!==null?null:Z(H,z,G,tt,null);if(typeof G.then=="function")return $(H,z,gh(G),tt);if(G.$$typeof===X)return $(H,z,nh(H,G),tt);ph(H,G)}return null}function K(H,z,G,tt,ft){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return H=H.get(G)||null,S(z,H,""+tt,ft);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case b:return H=H.get(tt.key===null?G:tt.key)||null,k(z,H,tt,ft);case T:return H=H.get(tt.key===null?G:tt.key)||null,Y(z,H,tt,ft);case C:var Dt=tt._init;return tt=Dt(tt._payload),K(H,z,G,tt,ft)}if(St(tt)||U(tt))return H=H.get(G)||null,Z(z,H,tt,ft,null);if(typeof tt.then=="function")return K(H,z,G,gh(tt),ft);if(tt.$$typeof===X)return K(H,z,G,nh(z,tt),ft);ph(z,tt)}return null}function Et(H,z,G,tt){for(var ft=null,Dt=null,gt=z,bt=z=0,He=null;gt!==null&&bt<G.length;bt++){gt.index>bt?(He=gt,gt=null):He=gt.sibling;var Ht=$(H,gt,G[bt],tt);if(Ht===null){gt===null&&(gt=He);break}s&&gt&&Ht.alternate===null&&a(H,gt),z=p(Ht,z,bt),Dt===null?ft=Ht:Dt.sibling=Ht,Dt=Ht,gt=He}if(bt===G.length)return l(H,gt),qt&&ra(H,bt),ft;if(gt===null){for(;bt<G.length;bt++)gt=et(H,G[bt],tt),gt!==null&&(z=p(gt,z,bt),Dt===null?ft=gt:Dt.sibling=gt,Dt=gt);return qt&&ra(H,bt),ft}for(gt=u(gt);bt<G.length;bt++)He=K(gt,H,bt,G[bt],tt),He!==null&&(s&&He.alternate!==null&&gt.delete(He.key===null?bt:He.key),z=p(He,z,bt),Dt===null?ft=He:Dt.sibling=He,Dt=He);return s&&gt.forEach(function(sr){return a(H,sr)}),qt&&ra(H,bt),ft}function vt(H,z,G,tt){if(G==null)throw Error(i(151));for(var ft=null,Dt=null,gt=z,bt=z=0,He=null,Ht=G.next();gt!==null&&!Ht.done;bt++,Ht=G.next()){gt.index>bt?(He=gt,gt=null):He=gt.sibling;var sr=$(H,gt,Ht.value,tt);if(sr===null){gt===null&&(gt=He);break}s&&gt&&sr.alternate===null&&a(H,gt),z=p(sr,z,bt),Dt===null?ft=sr:Dt.sibling=sr,Dt=sr,gt=He}if(Ht.done)return l(H,gt),qt&&ra(H,bt),ft;if(gt===null){for(;!Ht.done;bt++,Ht=G.next())Ht=et(H,Ht.value,tt),Ht!==null&&(z=p(Ht,z,bt),Dt===null?ft=Ht:Dt.sibling=Ht,Dt=Ht);return qt&&ra(H,bt),ft}for(gt=u(gt);!Ht.done;bt++,Ht=G.next())Ht=K(gt,H,bt,Ht.value,tt),Ht!==null&&(s&&Ht.alternate!==null&&gt.delete(Ht.key===null?bt:Ht.key),z=p(Ht,z,bt),Dt===null?ft=Ht:Dt.sibling=Ht,Dt=Ht);return s&&gt.forEach(function(O2){return a(H,O2)}),qt&&ra(H,bt),ft}function ne(H,z,G,tt){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:t:{for(var ft=G.key;z!==null;){if(z.key===ft){if(ft=G.type,ft===A){if(z.tag===7){l(H,z.sibling),tt=g(z,G.props.children),tt.return=H,H=tt;break t}}else if(z.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===C&&Pv(ft)===z.type){l(H,z.sibling),tt=g(z,G.props),Jl(tt,G),tt.return=H,H=tt;break t}l(H,z);break}else a(H,z);z=z.sibling}G.type===A?(tt=ia(G.props.children,H.mode,tt,G.key),tt.return=H,H=tt):(tt=Zu(G.type,G.key,G.props,null,H.mode,tt),Jl(tt,G),tt.return=H,H=tt)}return w(H);case T:t:{for(ft=G.key;z!==null;){if(z.key===ft)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){l(H,z.sibling),tt=g(z,G.children||[]),tt.return=H,H=tt;break t}else{l(H,z);break}else a(H,z);z=z.sibling}tt=am(G,H.mode,tt),tt.return=H,H=tt}return w(H);case C:return ft=G._init,G=ft(G._payload),ne(H,z,G,tt)}if(St(G))return Et(H,z,G,tt);if(U(G)){if(ft=U(G),typeof ft!="function")throw Error(i(150));return G=ft.call(G),vt(H,z,G,tt)}if(typeof G.then=="function")return ne(H,z,gh(G),tt);if(G.$$typeof===X)return ne(H,z,nh(H,G),tt);ph(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(l(H,z.sibling),tt=g(z,G),tt.return=H,H=tt):(l(H,z),tt=rm(G,H.mode,tt),tt.return=H,H=tt),w(H)):l(H,z)}return function(H,z,G,tt){try{Zl=0;var ft=ne(H,z,G,tt);return go=null,ft}catch(gt){if(gt===Fl||gt===sh)throw gt;var Dt=Sn(29,gt,null,H.mode);return Dt.lanes=tt,Dt.return=H,Dt}finally{}}}var po=Vv(!0),Lv=Vv(!1),Fn=it(null),Ri=null;function Fs(s){var a=s.alternate;at(Oe,Oe.current&1),at(Fn,s),Ri===null&&(a===null||uo.current!==null||a.memoizedState!==null)&&(Ri=s)}function jv(s){if(s.tag===22){if(at(Oe,Oe.current),at(Fn,s),Ri===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Ri=s)}}else qs()}function qs(){at(Oe,Oe.current),at(Fn,Fn.current)}function os(s){ut(Fn),Ri===s&&(Ri=null),ut(Oe)}var Oe=it(0);function yh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Cg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Um(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var zm={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=In(),g=zs(u);g.payload=a,l!=null&&(g.callback=l),a=Bs(s,g,u),a!==null&&(Nn(a,s,u),Gl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=In(),g=zs(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Bs(s,g,u),a!==null&&(Nn(a,s,u),Gl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=In(),u=zs(l);u.tag=2,a!=null&&(u.callback=a),a=Bs(s,u,l),a!==null&&(Nn(a,s,l),Gl(a,s,l))}};function Uv(s,a,l,u,g,p,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,w):a.prototype&&a.prototype.isPureReactComponent?!Pl(l,u)||!Pl(g,p):!0}function zv(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&zm.enqueueReplaceState(a,a.state,null)}function fa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=y({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var _h=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Bv(s){_h(s)}function Hv(s){console.error(s)}function Fv(s){_h(s)}function vh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function qv(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Bm(s,a,l){return l=zs(l),l.tag=3,l.payload={element:null},l.callback=function(){vh(s,a)},l}function Gv(s){return s=zs(s),s.tag=3,s}function Yv(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){qv(a,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){qv(a,l,u),typeof g!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function OA(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&zl(a,l,g,!0),l=Fn.current,l!==null){switch(l.tag){case 13:return Ri===null?hg():l.alternate===null&&pe===0&&(pe=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===pm?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),dg(s,u,g)),!1;case 22:return l.flags|=65536,u===pm?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),dg(s,u,g)),!1}throw Error(i(435,l.tag))}return dg(s,u,g),hg(),!1}if(qt)return a=Fn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==cm&&(s=Error(i(422),{cause:u}),Ul(Un(s,l)))):(u!==cm&&(a=Error(i(423),{cause:u}),Ul(Un(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Un(u,l),g=Bm(s.stateNode,u,g),vm(s,g),pe!==4&&(pe=2)),!1;var p=Error(i(520),{cause:u});if(p=Un(p,l),ac===null?ac=[p]:ac.push(p),pe!==4&&(pe=2),a===null)return!0;u=Un(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Bm(l.stateNode,u,s),vm(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xs===null||!Xs.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Gv(g),Yv(g,s,l,u),vm(l,g),!1}l=l.return}while(l!==null);return!1}var $v=Error(i(461)),ze=!1;function Ke(s,a,l,u){a.child=s===null?Lv(a,null,l,u):po(a,s.child,l,u)}function Kv(s,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var w={};for(var S in u)S!=="ref"&&(w[S]=u[S])}else w=u;return ca(a),u=Tm(s,a,l,w,p,g),S=Sm(),s!==null&&!ze?(Am(s,a,g),ls(s,a,g)):(qt&&S&&om(a),a.flags|=1,Ke(s,a,u,g),a.child)}function Qv(s,a,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!sm(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Xv(s,a,p,u,g)):(s=Zu(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Qm(s,g)){var w=p.memoizedProps;if(l=l.compare,l=l!==null?l:Pl,l(w,u)&&s.ref===a.ref)return ls(s,a,g)}return a.flags|=1,s=es(p,u),s.ref=a.ref,s.return=a,a.child=s}function Xv(s,a,l,u,g){if(s!==null){var p=s.memoizedProps;if(Pl(p,u)&&s.ref===a.ref)if(ze=!1,a.pendingProps=u=p,Qm(s,g))(s.flags&131072)!==0&&(ze=!0);else return a.lanes=s.lanes,ls(s,a,g)}return Hm(s,a,l,u,g)}function Wv(s,a,l){var u=a.pendingProps,g=u.children,p=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,s!==null){for(g=a.child=s.child,p=0;g!==null;)p=p|g.lanes|g.childLanes,g=g.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return Zv(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&ih(a,p!==null?p.cachePool:null),p!==null?X_(a,p):xm(),jv(a);else return a.lanes=a.childLanes=536870912,Zv(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(ih(a,p.cachePool),X_(a,p),qs(),a.memoizedState=null):(s!==null&&ih(a,null),xm(),qs());return Ke(s,a,g,l),a.child}function Zv(s,a,l,u){var g=gm();return g=g===null?null:{parent:De._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&ih(a,null),xm(),jv(a),s!==null&&zl(s,a,u,!0),null}function bh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Hm(s,a,l,u,g){return ca(a),l=Tm(s,a,l,u,void 0,g),u=Sm(),s!==null&&!ze?(Am(s,a,g),ls(s,a,g)):(qt&&u&&om(a),a.flags|=1,Ke(s,a,l,g),a.child)}function Jv(s,a,l,u,g,p){return ca(a),a.updateQueue=null,l=Z_(a,u,l,g),W_(s),u=Sm(),s!==null&&!ze?(Am(s,a,p),ls(s,a,p)):(qt&&u&&om(a),a.flags|=1,Ke(s,a,l,p),a.child)}function t0(s,a,l,u,g){if(ca(a),a.stateNode===null){var p=ro,w=l.contextType;typeof w=="object"&&w!==null&&(p=Je(w)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=zm,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},ym(a),w=l.contextType,p.context=typeof w=="object"&&w!==null?Je(w):ro,p.state=a.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Um(a,l,w,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&zm.enqueueReplaceState(p,p.state,null),$l(a,u,p,g),Yl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var S=a.memoizedProps,k=fa(l,S);p.props=k;var Y=p.context,Z=l.contextType;w=ro,typeof Z=="object"&&Z!==null&&(w=Je(Z));var et=l.getDerivedStateFromProps;Z=typeof et=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==w)&&zv(a,p,u,w),Us=!1;var $=a.memoizedState;p.state=$,$l(a,u,p,g),Yl(),Y=a.memoizedState,S||$!==Y||Us?(typeof et=="function"&&(Um(a,l,et,u),Y=a.memoizedState),(k=Us||Uv(a,l,k,u,$,Y,w))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=w,u=k):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,_m(s,a),w=a.memoizedProps,Z=fa(l,w),p.props=Z,et=a.pendingProps,$=p.context,Y=l.contextType,k=ro,typeof Y=="object"&&Y!==null&&(k=Je(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==et||$!==k)&&zv(a,p,u,k),Us=!1,$=a.memoizedState,p.state=$,$l(a,u,p,g),Yl();var K=a.memoizedState;w!==et||$!==K||Us||s!==null&&s.dependencies!==null&&eh(s.dependencies)?(typeof S=="function"&&(Um(a,l,S,u),K=a.memoizedState),(Z=Us||Uv(a,l,Z,u,$,K,k)||s!==null&&s.dependencies!==null&&eh(s.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,K,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,K,k)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=K),p.props=u,p.state=K,p.context=k,u=Z):(typeof p.componentDidUpdate!="function"||w===s.memoizedProps&&$===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&$===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,bh(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=po(a,s.child,null,g),a.child=po(a,null,l,g)):Ke(s,a,l,g),a.memoizedState=p.state,s=a.child):s=ls(s,a,g),s}function e0(s,a,l,u){return jl(),a.flags|=256,Ke(s,a,l,u),a.child}var Fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qm(s){return{baseLanes:s,cachePool:H_()}}function Gm(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=qn),s}function n0(s,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,w;if((w=p)||(w=s!==null&&s.memoizedState===null?!1:(Oe.current&2)!==0),w&&(g=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(qt){if(g?Fs(a):qs(),qt){var S=ge,k;if(k=S){t:{for(k=S,S=Ai;k.nodeType!==8;){if(!S){S=null;break t}if(k=ri(k.nextSibling),k===null){S=null;break t}}S=k}S!==null?(a.memoizedState={dehydrated:S,treeContext:sa!==null?{id:ns,overflow:is}:null,retryLane:536870912,hydrationErrors:null},k=Sn(18,null,null,0),k.stateNode=S,k.return=a,a.child=k,dn=a,ge=null,k=!0):k=!1}k||oa(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Cg(S)?a.lanes=32:a.lanes=536870912,null;os(a)}return S=u.children,u=u.fallback,g?(qs(),g=a.mode,S=xh({mode:"hidden",children:S},g),u=ia(u,g,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,g=a.child,g.memoizedState=qm(l),g.childLanes=Gm(s,w,l),a.memoizedState=Fm,u):(Fs(a),Ym(a,S))}if(k=s.memoizedState,k!==null&&(S=k.dehydrated,S!==null)){if(p)a.flags&256?(Fs(a),a.flags&=-257,a=$m(s,a,l)):a.memoizedState!==null?(qs(),a.child=s.child,a.flags|=128,a=null):(qs(),g=u.fallback,S=a.mode,u=xh({mode:"visible",children:u.children},S),g=ia(g,S,l,null),g.flags|=2,u.return=a,g.return=a,u.sibling=g,a.child=u,po(a,s.child,null,l),u=a.child,u.memoizedState=qm(l),u.childLanes=Gm(s,w,l),a.memoizedState=Fm,a=g);else if(Fs(a),Cg(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var Y=w.dgst;w=Y,u=Error(i(419)),u.stack="",u.digest=w,Ul({value:u,source:null,stack:null}),a=$m(s,a,l)}else if(ze||zl(s,a,l,!1),w=(l&s.childLanes)!==0,ze||w){if(w=ae,w!==null&&(u=l&-l,u=(u&42)!==0?1:Ds(u),u=(u&(w.suspendedLanes|l))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,so(s,u),Nn(w,s,u),$v;S.data==="$?"||hg(),a=$m(s,a,l)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=k.treeContext,ge=ri(S.nextSibling),dn=a,qt=!0,aa=null,Ai=!1,s!==null&&(Bn[Hn++]=ns,Bn[Hn++]=is,Bn[Hn++]=sa,ns=s.id,is=s.overflow,sa=a),a=Ym(a,u.children),a.flags|=4096);return a}return g?(qs(),g=u.fallback,S=a.mode,k=s.child,Y=k.sibling,u=es(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,Y!==null?g=es(Y,g):(g=ia(g,S,l,null),g.flags|=2),g.return=a,u.return=a,u.sibling=g,a.child=u,u=g,g=a.child,S=s.child.memoizedState,S===null?S=qm(l):(k=S.cachePool,k!==null?(Y=De._currentValue,k=k.parent!==Y?{parent:Y,pool:Y}:k):k=H_(),S={baseLanes:S.baseLanes|l,cachePool:k}),g.memoizedState=S,g.childLanes=Gm(s,w,l),a.memoizedState=Fm,u):(Fs(a),l=s.child,s=l.sibling,l=es(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=l,a.memoizedState=null,l)}function Ym(s,a){return a=xh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function xh(s,a){return s=Sn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function $m(s,a,l){return po(a,s.child,null,l),s=Ym(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function i0(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),hm(s.return,a,l)}function Km(s,a,l,u,g){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=g)}function s0(s,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;if(Ke(s,a,u.children,l),u=Oe.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&i0(s,l,a);else if(s.tag===19)i0(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(at(Oe,u),g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&yh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Km(a,!1,g,l,p);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&yh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Km(a,!0,l,null,p);break;case"together":Km(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ls(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Qs|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(zl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=es(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=es(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Qm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&eh(s)))}function MA(s,a,l){switch(a.tag){case 3:re(a,a.stateNode.containerInfo),js(a,De,s.memoizedState.cache),jl();break;case 27:case 5:Ns(a);break;case 4:re(a,a.stateNode.containerInfo);break;case 10:js(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Fs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?n0(s,a,l):(Fs(a),s=ls(s,a,l),s!==null?s.sibling:null);Fs(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(zl(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return s0(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(Oe,Oe.current),u)break;return null;case 22:case 23:return a.lanes=0,Wv(s,a,l);case 24:js(a,De,s.memoizedState.cache)}return ls(s,a,l)}function r0(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)ze=!0;else{if(!Qm(s,l)&&(a.flags&128)===0)return ze=!1,MA(s,a,l);ze=(s.flags&131072)!==0}else ze=!1,qt&&(a.flags&1048576)!==0&&P_(a,th,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,g=u._init;if(u=g(u._payload),a.type=u,typeof u=="function")sm(u)?(s=fa(u,s),a.tag=1,a=t0(null,a,u,s,l)):(a.tag=0,a=Hm(null,a,u,s,l));else{if(u!=null){if(g=u.$$typeof,g===st){a.tag=11,a=Kv(null,a,u,s,l);break t}else if(g===O){a.tag=14,a=Qv(null,a,u,s,l);break t}}throw a=Zt(u)||u,Error(i(306,a,""))}}return a;case 0:return Hm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=fa(u,a.pendingProps),t0(s,a,u,g,l);case 3:t:{if(re(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,_m(s,a),$l(a,u,null,l);var w=a.memoizedState;if(u=w.cache,js(a,De,u),u!==p.cache&&fm(a,[De],l,!0),Yl(),u=w.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=e0(s,a,u,l);break t}else if(u!==g){g=Un(Error(i(424)),a),Ul(g),a=e0(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ge=ri(s.firstChild),dn=a,qt=!0,aa=null,Ai=!0,l=Lv(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(jl(),u===g){a=ls(s,a,l);break t}Ke(s,a,u,l)}a=a.child}return a;case 26:return bh(s,a),s===null?(l=cb(a.type,null,a.pendingProps,null))?a.memoizedState=l:qt||(l=a.type,s=a.pendingProps,u=Ph(yt.current).createElement(l),u[Ce]=a,u[Ee]=s,Xe(u,l,s),ye(u),a.stateNode=u):a.memoizedState=cb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ns(a),s===null&&qt&&(u=a.stateNode=ab(a.type,a.pendingProps,yt.current),dn=a,Ai=!0,g=ge,Js(a.type)?(Ig=g,ge=ri(u.firstChild)):ge=g),Ke(s,a,a.pendingProps.children,l),bh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&qt&&((g=u=ge)&&(u=o2(u,a.type,a.pendingProps,Ai),u!==null?(a.stateNode=u,dn=a,ge=ri(u.firstChild),Ai=!1,g=!0):g=!1),g||oa(a)),Ns(a),g=a.type,p=a.pendingProps,w=s!==null?s.memoizedProps:null,u=p.children,Sg(g,p)?u=null:w!==null&&Sg(g,w)&&(a.flags|=32),a.memoizedState!==null&&(g=Tm(s,a,SA,null,null,l),gc._currentValue=g),bh(s,a),Ke(s,a,u,l),a.child;case 6:return s===null&&qt&&((s=l=ge)&&(l=l2(l,a.pendingProps,Ai),l!==null?(a.stateNode=l,dn=a,ge=null,s=!0):s=!1),s||oa(a)),null;case 13:return n0(s,a,l);case 4:return re(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=po(a,null,u,l):Ke(s,a,u,l),a.child;case 11:return Kv(s,a,a.type,a.pendingProps,l);case 7:return Ke(s,a,a.pendingProps,l),a.child;case 8:return Ke(s,a,a.pendingProps.children,l),a.child;case 12:return Ke(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,js(a,a.type,u.value),Ke(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ca(a),g=Je(g),u=u(g),a.flags|=1,Ke(s,a,u,l),a.child;case 14:return Qv(s,a,a.type,a.pendingProps,l);case 15:return Xv(s,a,a.type,a.pendingProps,l);case 19:return s0(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=xh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=es(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return Wv(s,a,l);case 24:return ca(a),u=Je(De),s===null?(g=gm(),g===null&&(g=ae,p=dm(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},ym(a),js(a,De,g)):((s.lanes&l)!==0&&(_m(s,a),$l(a,null,null,l),Yl()),g=s.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),js(a,De,u)):(u=p.cache,js(a,De,u),u!==g.cache&&fm(a,[De],l,!0))),Ke(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function cs(s){s.flags|=4}function a0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!mb(a)){if(a=Fn.current,a!==null&&((Ut&4194048)===Ut?Ri!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||a!==Ri))throw ql=pm,F_;s.flags|=8192}}function Eh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?yl():536870912,s.lanes|=a,bo|=a)}function tc(s,a){if(!qt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function fe(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function kA(s,a,l){var u=a.pendingProps;switch(lm(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(a),null;case 1:return fe(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),rs(De),mi(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Ll(a)?cs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,j_())),fe(a),null;case 26:return l=a.memoizedState,s===null?(cs(a),l!==null?(fe(a),a0(a,l)):(fe(a),a.flags&=-16777217)):l?l!==s.memoizedState?(cs(a),fe(a),a0(a,l)):(fe(a),a.flags&=-16777217):(s.memoizedProps!==u&&cs(a),fe(a),a.flags&=-16777217),null;case 27:Hi(a),l=yt.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&cs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return fe(a),null}s=dt.current,Ll(a)?V_(a):(s=ab(g,u,l),a.stateNode=s,cs(a))}return fe(a),null;case 5:if(Hi(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&cs(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return fe(a),null}if(s=dt.current,Ll(a))V_(a);else{switch(g=Ph(yt.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?g.createElement(l,{is:u.is}):g.createElement(l)}}s[Ce]=a,s[Ee]=u;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;t:switch(Xe(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&cs(a)}}return fe(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&cs(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=yt.current,Ll(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=dn,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ce]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||J0(s.nodeValue,l)),s||oa(a)}else s=Ph(s).createTextNode(u),s[Ce]=a,a.stateNode=s}return fe(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Ll(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ce]=a}else jl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fe(a),g=!1}else g=j_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(os(a),a):(os(a),null)}if(os(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Eh(a,a.updateQueue),fe(a),null;case 4:return mi(),s===null&&bg(a.stateNode.containerInfo),fe(a),null;case 10:return rs(a.type),fe(a),null;case 19:if(ut(Oe),g=a.memoizedState,g===null)return fe(a),null;if(u=(a.flags&128)!==0,p=g.rendering,p===null)if(u)tc(g,!1);else{if(pe!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=yh(s),p!==null){for(a.flags|=128,tc(g,!1),s=p.updateQueue,a.updateQueue=s,Eh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)k_(l,s),l=l.sibling;return at(Oe,Oe.current&1|2),a.child}s=s.sibling}g.tail!==null&&Mn()>Sh&&(a.flags|=128,u=!0,tc(g,!1),a.lanes=4194304)}else{if(!u)if(s=yh(p),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Eh(a,s),tc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!p.alternate&&!qt)return fe(a),null}else 2*Mn()-g.renderingStartTime>Sh&&l!==536870912&&(a.flags|=128,u=!0,tc(g,!1),a.lanes=4194304);g.isBackwards?(p.sibling=a.child,a.child=p):(s=g.last,s!==null?s.sibling=p:a.child=p,g.last=p)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Mn(),a.sibling=null,s=Oe.current,at(Oe,u?s&1|2:s&1),a):(fe(a),null);case 22:case 23:return os(a),Em(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(fe(a),a.subtreeFlags&6&&(a.flags|=8192)):fe(a),l=a.updateQueue,l!==null&&Eh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&ut(ua),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),rs(De),fe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function PA(s,a){switch(lm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return rs(De),mi(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Hi(a),null;case 13:if(os(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));jl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ut(Oe),null;case 4:return mi(),null;case 10:return rs(a.type),null;case 22:case 23:return os(a),Em(),s!==null&&ut(ua),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return rs(De),null;case 25:return null;default:return null}}function o0(s,a){switch(lm(a),a.tag){case 3:rs(De),mi();break;case 26:case 27:case 5:Hi(a);break;case 4:mi();break;case 13:os(a);break;case 19:ut(Oe);break;case 10:rs(a.type);break;case 22:case 23:os(a),Em(),s!==null&&ut(ua);break;case 24:rs(De)}}function ec(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,w=l.inst;u=p(),w.destroy=u}l=l.next}while(l!==g)}}catch(S){ie(a,a.return,S)}}function Gs(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var w=u.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,g=a;var k=l,Y=S;try{Y()}catch(Z){ie(g,k,Z)}}}u=u.next}while(u!==p)}}catch(Z){ie(a,a.return,Z)}}function l0(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Q_(a,l)}catch(u){ie(s,s.return,u)}}}function c0(s,a,l){l.props=fa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){ie(s,a,u)}}function nc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){ie(s,a,g)}}function Ci(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){ie(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){ie(s,a,g)}else l.current=null}function u0(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){ie(s,s.return,g)}}function Xm(s,a,l){try{var u=s.stateNode;n2(u,s.type,l,a),u[Ee]=a}catch(g){ie(s,s.return,g)}}function h0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Js(s.type)||s.tag===4}function Wm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||h0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Js(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Zm(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=kh));else if(u!==4&&(u===27&&Js(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Zm(s,a,l),s=s.sibling;s!==null;)Zm(s,a,l),s=s.sibling}function wh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&Js(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(wh(s,a,l),s=s.sibling;s!==null;)wh(s,a,l),s=s.sibling}function f0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Xe(a,u,l),a[Ce]=s,a[Ee]=l}catch(p){ie(s,s.return,p)}}var us=!1,ve=!1,Jm=!1,d0=typeof WeakSet=="function"?WeakSet:Set,Be=null;function VA(s,a){if(s=s.containerInfo,wg=Bh,s=T_(s),Wd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var w=0,S=-1,k=-1,Y=0,Z=0,et=s,$=null;e:for(;;){for(var K;et!==l||g!==0&&et.nodeType!==3||(S=w+g),et!==p||u!==0&&et.nodeType!==3||(k=w+u),et.nodeType===3&&(w+=et.nodeValue.length),(K=et.firstChild)!==null;)$=et,et=K;for(;;){if(et===s)break e;if($===l&&++Y===g&&(S=w),$===p&&++Z===u&&(k=w),(K=et.nextSibling)!==null)break;et=$,$=et.parentNode}et=K}l=S===-1||k===-1?null:{start:S,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(Tg={focusedElem:s,selectionRange:l},Bh=!1,Be=a;Be!==null;)if(a=Be,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Be=s;else for(;Be!==null;){switch(a=Be,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var Et=fa(l.type,g,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Et,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(vt){ie(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Rg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Rg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Be=s;break}Be=a.return}}function m0(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ys(s,l),u&4&&ec(5,l);break;case 1:if(Ys(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(w){ie(l,l.return,w)}else{var g=fa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){ie(l,l.return,w)}}u&64&&l0(l),u&512&&nc(l,l.return);break;case 3:if(Ys(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Q_(s,a)}catch(w){ie(l,l.return,w)}}break;case 27:a===null&&u&4&&f0(l);case 26:case 5:Ys(s,l),a===null&&u&4&&u0(l),u&512&&nc(l,l.return);break;case 12:Ys(s,l);break;case 13:Ys(s,l),u&4&&y0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=GA.bind(null,l),c2(s,l))));break;case 22:if(u=l.memoizedState!==null||us,!u){a=a!==null&&a.memoizedState!==null||ve,g=us;var p=ve;us=u,(ve=a)&&!p?$s(s,l,(l.subtreeFlags&8772)!==0):Ys(s,l),us=g,ve=p}break;case 30:break;default:Ys(s,l)}}function g0(s){var a=s.alternate;a!==null&&(s.alternate=null,g0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ks(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ce=null,pn=!1;function hs(s,a,l){for(l=l.child;l!==null;)p0(s,a,l),l=l.sibling}function p0(s,a,l){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(me,l)}catch{}switch(l.tag){case 26:ve||Ci(l,a),hs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ve||Ci(l,a);var u=ce,g=pn;Js(l.type)&&(ce=l.stateNode,pn=!1),hs(s,a,l),hc(l.stateNode),ce=u,pn=g;break;case 5:ve||Ci(l,a);case 6:if(u=ce,g=pn,ce=null,hs(s,a,l),ce=u,pn=g,ce!==null)if(pn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(l.stateNode)}catch(p){ie(l,a,p)}else try{ce.removeChild(l.stateNode)}catch(p){ie(l,a,p)}break;case 18:ce!==null&&(pn?(s=ce,sb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),vc(s)):sb(ce,l.stateNode));break;case 4:u=ce,g=pn,ce=l.stateNode.containerInfo,pn=!0,hs(s,a,l),ce=u,pn=g;break;case 0:case 11:case 14:case 15:ve||Gs(2,l,a),ve||Gs(4,l,a),hs(s,a,l);break;case 1:ve||(Ci(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&c0(l,a,u)),hs(s,a,l);break;case 21:hs(s,a,l);break;case 22:ve=(u=ve)||l.memoizedState!==null,hs(s,a,l),ve=u;break;default:hs(s,a,l)}}function y0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{vc(s)}catch(l){ie(a,a.return,l)}}function LA(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new d0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new d0),a;default:throw Error(i(435,s.tag))}}function tg(s,a){var l=LA(s);a.forEach(function(u){var g=YA.bind(null,s,u);l.has(u)||(l.add(u),u.then(g,g))})}function An(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,w=a,S=w;t:for(;S!==null;){switch(S.tag){case 27:if(Js(S.type)){ce=S.stateNode,pn=!1;break t}break;case 5:ce=S.stateNode,pn=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,pn=!0;break t}S=S.return}if(ce===null)throw Error(i(160));p0(p,w,g),ce=null,pn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)_0(a,s),a=a.sibling}var si=null;function _0(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:An(a,s),Rn(s),u&4&&(Gs(3,s,s.return),ec(3,s),Gs(5,s,s.return));break;case 1:An(a,s),Rn(s),u&512&&(ve||l===null||Ci(l,l.return)),u&64&&us&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=si;if(An(a,s),Rn(s),u&512&&(ve||l===null||Ci(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Br]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),Xe(p,u,l),p[Ce]=s,ye(p),u=p;break t;case"link":var w=fb("link","href",g).get(u+(l.href||""));if(w){for(var S=0;S<w.length;S++)if(p=w[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(S,1);break e}}p=g.createElement(u),Xe(p,u,l),g.head.appendChild(p);break;case"meta":if(w=fb("meta","content",g).get(u+(l.content||""))){for(S=0;S<w.length;S++)if(p=w[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(S,1);break e}}p=g.createElement(u),Xe(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ce]=s,ye(p),u=p}s.stateNode=u}else db(g,s.type,s.stateNode);else s.stateNode=hb(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?db(g,s.type,s.stateNode):hb(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Xm(s,s.memoizedProps,l.memoizedProps)}break;case 27:An(a,s),Rn(s),u&512&&(ve||l===null||Ci(l,l.return)),l!==null&&u&4&&Xm(s,s.memoizedProps,l.memoizedProps);break;case 5:if(An(a,s),Rn(s),u&512&&(ve||l===null||Ci(l,l.return)),s.flags&32){g=s.stateNode;try{Pn(g,"")}catch(K){ie(s,s.return,K)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Xm(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Jm=!0);break;case 6:if(An(a,s),Rn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(K){ie(s,s.return,K)}}break;case 3:if(jh=null,g=si,si=Vh(a.containerInfo),An(a,s),si=g,Rn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{vc(a.containerInfo)}catch(K){ie(s,s.return,K)}Jm&&(Jm=!1,v0(s));break;case 4:u=si,si=Vh(s.stateNode.containerInfo),An(a,s),Rn(s),si=u;break;case 12:An(a,s),Rn(s);break;case 13:An(a,s),Rn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ag=Mn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,tg(s,u)));break;case 22:g=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Y=us,Z=ve;if(us=Y||g,ve=Z||k,An(a,s),ve=Z,us=Y,Rn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||k||us||ve||da(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){k=l=a;try{if(p=k.stateNode,g)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=k.stateNode;var et=k.memoizedProps.style,$=et!=null&&et.hasOwnProperty("display")?et.display:null;S.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){ie(k,k.return,K)}}}else if(a.tag===6){if(l===null){k=a;try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(K){ie(k,k.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,tg(s,l))));break;case 19:An(a,s),Rn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,tg(s,u)));break;case 30:break;case 21:break;default:An(a,s),Rn(s)}}function Rn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(h0(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Wm(s);wh(s,p,g);break;case 5:var w=l.stateNode;l.flags&32&&(Pn(w,""),l.flags&=-33);var S=Wm(s);wh(s,S,w);break;case 3:case 4:var k=l.stateNode.containerInfo,Y=Wm(s);Zm(s,Y,k);break;default:throw Error(i(161))}}catch(Z){ie(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function v0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;v0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ys(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)m0(s,a.alternate,a),a=a.sibling}function da(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Gs(4,a,a.return),da(a);break;case 1:Ci(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&c0(a,a.return,l),da(a);break;case 27:hc(a.stateNode);case 26:case 5:Ci(a,a.return),da(a);break;case 22:a.memoizedState===null&&da(a);break;case 30:da(a);break;default:da(a)}s=s.sibling}}function $s(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,p=a,w=p.flags;switch(p.tag){case 0:case 11:case 15:$s(g,p,l),ec(4,p);break;case 1:if($s(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){ie(u,u.return,Y)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var k=g.shared.hiddenCallbacks;if(k!==null)for(g.shared.hiddenCallbacks=null,g=0;g<k.length;g++)K_(k[g],S)}catch(Y){ie(u,u.return,Y)}}l&&w&64&&l0(p),nc(p,p.return);break;case 27:f0(p);case 26:case 5:$s(g,p,l),l&&u===null&&w&4&&u0(p),nc(p,p.return);break;case 12:$s(g,p,l);break;case 13:$s(g,p,l),l&&w&4&&y0(g,p);break;case 22:p.memoizedState===null&&$s(g,p,l),nc(p,p.return);break;case 30:break;default:$s(g,p,l)}a=a.sibling}}function eg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Bl(l))}function ng(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Bl(s))}function Ii(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)b0(s,a,l,u),a=a.sibling}function b0(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(s,a,l,u),g&2048&&ec(9,a);break;case 1:Ii(s,a,l,u);break;case 3:Ii(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Bl(s)));break;case 12:if(g&2048){Ii(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,w=p.id,S=p.onPostCommit;typeof S=="function"&&S(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){ie(a,a.return,k)}}else Ii(s,a,l,u);break;case 13:Ii(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,w=a.alternate,a.memoizedState!==null?p._visibility&2?Ii(s,a,l,u):ic(s,a):p._visibility&2?Ii(s,a,l,u):(p._visibility|=2,yo(s,a,l,u,(a.subtreeFlags&10256)!==0)),g&2048&&eg(w,a);break;case 24:Ii(s,a,l,u),g&2048&&ng(a.alternate,a);break;default:Ii(s,a,l,u)}}function yo(s,a,l,u,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,w=a,S=l,k=u,Y=w.flags;switch(w.tag){case 0:case 11:case 15:yo(p,w,S,k,g),ec(8,w);break;case 23:break;case 22:var Z=w.stateNode;w.memoizedState!==null?Z._visibility&2?yo(p,w,S,k,g):ic(p,w):(Z._visibility|=2,yo(p,w,S,k,g)),g&&Y&2048&&eg(w.alternate,w);break;case 24:yo(p,w,S,k,g),g&&Y&2048&&ng(w.alternate,w);break;default:yo(p,w,S,k,g)}a=a.sibling}}function ic(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:ic(l,u),g&2048&&eg(u.alternate,u);break;case 24:ic(l,u),g&2048&&ng(u.alternate,u);break;default:ic(l,u)}a=a.sibling}}var sc=8192;function _o(s){if(s.subtreeFlags&sc)for(s=s.child;s!==null;)x0(s),s=s.sibling}function x0(s){switch(s.tag){case 26:_o(s),s.flags&sc&&s.memoizedState!==null&&E2(si,s.memoizedState,s.memoizedProps);break;case 5:_o(s);break;case 3:case 4:var a=si;si=Vh(s.stateNode.containerInfo),_o(s),si=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=sc,sc=16777216,_o(s),sc=a):_o(s));break;default:_o(s)}}function E0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function rc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Be=u,T0(u,s)}E0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)w0(s),s=s.sibling}function w0(s){switch(s.tag){case 0:case 11:case 15:rc(s),s.flags&2048&&Gs(9,s,s.return);break;case 3:rc(s);break;case 12:rc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Th(s)):rc(s);break;default:rc(s)}}function Th(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Be=u,T0(u,s)}E0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Gs(8,a,a.return),Th(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Th(a));break;default:Th(a)}s=s.sibling}}function T0(s,a){for(;Be!==null;){var l=Be;switch(l.tag){case 0:case 11:case 15:Gs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Bl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Be=u;else t:for(l=s;Be!==null;){u=Be;var g=u.sibling,p=u.return;if(g0(u),u===l){Be=null;break t}if(g!==null){g.return=p,Be=g;break t}Be=p}}}var jA={getCacheForType:function(s){var a=Je(De),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},UA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ae=null,Ot=null,Ut=0,Qt=0,Cn=null,Ks=!1,vo=!1,ig=!1,fs=0,pe=0,Qs=0,ma=0,sg=0,qn=0,bo=0,ac=null,yn=null,rg=!1,ag=0,Sh=1/0,Ah=null,Xs=null,Qe=0,Ws=null,xo=null,Eo=0,og=0,lg=null,S0=null,oc=0,cg=null;function In(){if((Kt&2)!==0&&Ut!==0)return Ut&-Ut;if(Q.T!==null){var s=lo;return s!==0?s:pg()}return Os()}function A0(){qn===0&&(qn=(Ut&536870912)===0||qt?pl():536870912);var s=Fn.current;return s!==null&&(s.flags|=32),qn}function Nn(s,a,l){(s===ae&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)&&(wo(s,0),Zs(s,Ut,qn,!1)),qi(s,l),((Kt&2)===0||s!==ae)&&(s===ae&&((Kt&2)===0&&(ma|=l),pe===4&&Zs(s,Ut,qn,!1)),Ni(s))}function R0(s,a,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||zr(s,a),g=u?HA(s,a):fg(s,a,!0),p=u;do{if(g===0){vo&&!u&&Zs(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!zA(l)){g=fg(s,a,!1),p=!1;continue}if(g===2){if(p=a,s.errorRecoveryDisabledLanes&p)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;t:{var S=s;g=ac;var k=S.current.memoizedState.isDehydrated;if(k&&(wo(S,w).flags|=256),w=fg(S,w,!1),w!==2){if(ig&&!k){S.errorRecoveryDisabledLanes|=p,ma|=p,g=4;break t}p=yn,yn=g,p!==null&&(yn===null?yn=p:yn.push.apply(yn,p))}g=w}if(p=!1,g!==2)continue}}if(g===1){wo(s,0),Zs(s,a,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Zs(u,a,qn,!Ks);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=ag+300-Mn(),10<g)){if(Zs(u,a,qn,!Ks),Ua(u,0,!0)!==0)break t;u.timeoutHandle=nb(C0.bind(null,u,l,yn,Ah,rg,a,qn,ma,bo,Ks,p,2,-0,0),g);break t}C0(u,l,yn,Ah,rg,a,qn,ma,bo,Ks,p,0,-0,0)}}break}while(!0);Ni(s)}function C0(s,a,l,u,g,p,w,S,k,Y,Z,et,$,K){if(s.timeoutHandle=-1,et=a.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(mc={stylesheets:null,count:0,unsuspend:x2},x0(a),et=w2(),et!==null)){s.cancelPendingCommit=et(P0.bind(null,s,a,p,l,u,g,w,S,k,Z,1,$,K)),Zs(s,p,w,!Y);return}P0(s,a,p,l,u,g,w,S,k)}function zA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Tn(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Zs(s,a,l,u){a&=~sg,a&=~ma,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var p=31-Ze(g),w=1<<p;u[p]=-1,g&=~w}l!==0&&gi(s,l,a)}function Rh(){return(Kt&6)===0?(lc(0),!1):!0}function ug(){if(Ot!==null){if(Qt===0)var s=Ot.return;else s=Ot,ss=la=null,Rm(s),go=null,Zl=0,s=Ot;for(;s!==null;)o0(s.alternate,s),s=s.return;Ot=null}}function wo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,s2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ug(),ae=s,Ot=l=es(s.current,null),Ut=a,Qt=0,Cn=null,Ks=!1,vo=zr(s,a),ig=!1,bo=qn=sg=ma=Qs=pe=0,yn=ac=null,rg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-Ze(u),p=1<<g;a|=s[g],u&=~p}return fs=a,Qu(),l}function I0(s,a){It=null,Q.H=mh,a===Fl||a===sh?(a=Y_(),Qt=3):a===F_?(a=Y_(),Qt=4):Qt=a===$v?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Cn=a,Ot===null&&(pe=1,vh(s,Un(a,s.current)))}function N0(){var s=Q.H;return Q.H=mh,s===null?mh:s}function D0(){var s=Q.A;return Q.A=jA,s}function hg(){pe=4,Ks||(Ut&4194048)!==Ut&&Fn.current!==null||(vo=!0),(Qs&134217727)===0&&(ma&134217727)===0||ae===null||Zs(ae,Ut,qn,!1)}function fg(s,a,l){var u=Kt;Kt|=2;var g=N0(),p=D0();(ae!==s||Ut!==a)&&(Ah=null,wo(s,a)),a=!1;var w=pe;t:do try{if(Qt!==0&&Ot!==null){var S=Ot,k=Cn;switch(Qt){case 8:ug(),w=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(a=!0);var Y=Qt;if(Qt=0,Cn=null,To(s,S,k,Y),l&&vo){w=0;break t}break;default:Y=Qt,Qt=0,Cn=null,To(s,S,k,Y)}}BA(),w=pe;break}catch(Z){I0(s,Z)}while(!0);return a&&s.shellSuspendCounter++,ss=la=null,Kt=u,Q.H=g,Q.A=p,Ot===null&&(ae=null,Ut=0,Qu()),w}function BA(){for(;Ot!==null;)O0(Ot)}function HA(s,a){var l=Kt;Kt|=2;var u=N0(),g=D0();ae!==s||Ut!==a?(Ah=null,Sh=Mn()+500,wo(s,a)):vo=zr(s,a);t:do try{if(Qt!==0&&Ot!==null){a=Ot;var p=Cn;e:switch(Qt){case 1:Qt=0,Cn=null,To(s,a,p,1);break;case 2:case 9:if(q_(p)){Qt=0,Cn=null,M0(a);break}a=function(){Qt!==2&&Qt!==9||ae!==s||(Qt=7),Ni(s)},p.then(a,a);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:q_(p)?(Qt=0,Cn=null,M0(a)):(Qt=0,Cn=null,To(s,a,p,7));break;case 5:var w=null;switch(Ot.tag){case 26:w=Ot.memoizedState;case 5:case 27:var S=Ot;if(!w||mb(w)){Qt=0,Cn=null;var k=S.sibling;if(k!==null)Ot=k;else{var Y=S.return;Y!==null?(Ot=Y,Ch(Y)):Ot=null}break e}}Qt=0,Cn=null,To(s,a,p,5);break;case 6:Qt=0,Cn=null,To(s,a,p,6);break;case 8:ug(),pe=6;break t;default:throw Error(i(462))}}FA();break}catch(Z){I0(s,Z)}while(!0);return ss=la=null,Q.H=u,Q.A=g,Kt=l,Ot!==null?0:(ae=null,Ut=0,Qu(),pe)}function FA(){for(;Ot!==null&&!fl();)O0(Ot)}function O0(s){var a=r0(s.alternate,s,fs);s.memoizedProps=s.pendingProps,a===null?Ch(s):Ot=a}function M0(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=Jv(l,a,a.pendingProps,a.type,void 0,Ut);break;case 11:a=Jv(l,a,a.pendingProps,a.type.render,a.ref,Ut);break;case 5:Rm(a);default:o0(l,a),a=Ot=k_(a,fs),a=r0(l,a,fs)}s.memoizedProps=s.pendingProps,a===null?Ch(s):Ot=a}function To(s,a,l,u){ss=la=null,Rm(a),go=null,Zl=0;var g=a.return;try{if(OA(s,g,a,l,Ut)){pe=1,vh(s,Un(l,s.current)),Ot=null;return}}catch(p){if(g!==null)throw Ot=g,p;pe=1,vh(s,Un(l,s.current)),Ot=null;return}a.flags&32768?(qt||u===1?s=!0:vo||(Ut&536870912)!==0?s=!1:(Ks=s=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),k0(a,s)):Ch(a)}function Ch(s){var a=s;do{if((a.flags&32768)!==0){k0(a,Ks);return}s=a.return;var l=kA(a.alternate,a,fs);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);pe===0&&(pe=5)}function k0(s,a){do{var l=PA(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);pe=6,Ot=null}function P0(s,a,l,u,g,p,w,S,k){s.cancelPendingCommit=null;do Ih();while(Qe!==0);if((Kt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=nm,_l(s,l,p,w,S,k),s===ae&&(Ot=ae=null,Ut=0),xo=a,Ws=s,Eo=l,og=p,lg=g,S0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,$A(Vr,function(){return z0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=ot.p,ot.p=2,w=Kt,Kt|=4;try{VA(s,a,l)}finally{Kt=w,ot.p=g,Q.T=u}}Qe=1,V0(),L0(),j0()}}function V0(){if(Qe===1){Qe=0;var s=Ws,a=xo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=ot.p;ot.p=2;var g=Kt;Kt|=4;try{_0(a,s);var p=Tg,w=T_(s.containerInfo),S=p.focusedElem,k=p.selectionRange;if(w!==S&&S&&S.ownerDocument&&w_(S.ownerDocument.documentElement,S)){if(k!==null&&Wd(S)){var Y=k.start,Z=k.end;if(Z===void 0&&(Z=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(Z,S.value.length);else{var et=S.ownerDocument||document,$=et&&et.defaultView||window;if($.getSelection){var K=$.getSelection(),Et=S.textContent.length,vt=Math.min(k.start,Et),ne=k.end===void 0?vt:Math.min(k.end,Et);!K.extend&&vt>ne&&(w=ne,ne=vt,vt=w);var H=E_(S,vt),z=E_(S,ne);if(H&&z&&(K.rangeCount!==1||K.anchorNode!==H.node||K.anchorOffset!==H.offset||K.focusNode!==z.node||K.focusOffset!==z.offset)){var G=et.createRange();G.setStart(H.node,H.offset),K.removeAllRanges(),vt>ne?(K.addRange(G),K.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),K.addRange(G))}}}}for(et=[],K=S;K=K.parentNode;)K.nodeType===1&&et.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<et.length;S++){var tt=et[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Bh=!!wg,Tg=wg=null}finally{Kt=g,ot.p=u,Q.T=l}}s.current=a,Qe=2}}function L0(){if(Qe===2){Qe=0;var s=Ws,a=xo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=ot.p;ot.p=2;var g=Kt;Kt|=4;try{m0(s,a.alternate,a)}finally{Kt=g,ot.p=u,Q.T=l}}Qe=3}}function j0(){if(Qe===4||Qe===3){Qe=0,Tu();var s=Ws,a=xo,l=Eo,u=S0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Qe=5:(Qe=0,xo=Ws=null,U0(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Xs=null),za(l),a=a.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(me,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Q.T,g=ot.p,ot.p=2,Q.T=null;try{for(var p=s.onRecoverableError,w=0;w<u.length;w++){var S=u[w];p(S.value,{componentStack:S.stack})}}finally{Q.T=a,ot.p=g}}(Eo&3)!==0&&Ih(),Ni(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===cg?oc++:(oc=0,cg=s):oc=0,lc(0)}}function U0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Bl(a)))}function Ih(s){return V0(),L0(),j0(),z0()}function z0(){if(Qe!==5)return!1;var s=Ws,a=og;og=0;var l=za(Eo),u=Q.T,g=ot.p;try{ot.p=32>l?32:l,Q.T=null,l=lg,lg=null;var p=Ws,w=Eo;if(Qe=0,xo=Ws=null,Eo=0,(Kt&6)!==0)throw Error(i(331));var S=Kt;if(Kt|=4,w0(p.current),b0(p,p.current,w,l),Kt=S,lc(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(me,p)}catch{}return!0}finally{ot.p=g,Q.T=u,U0(s,a)}}function B0(s,a,l){a=Un(l,a),a=Bm(s.stateNode,a,2),s=Bs(s,a,2),s!==null&&(qi(s,2),Ni(s))}function ie(s,a,l){if(s.tag===3)B0(s,s,l);else for(;a!==null;){if(a.tag===3){B0(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xs===null||!Xs.has(u))){s=Un(l,s),l=Gv(2),u=Bs(a,l,2),u!==null&&(Yv(l,u,a,s),qi(u,2),Ni(u));break}}a=a.return}}function dg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new UA;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(ig=!0,g.add(l),s=qA.bind(null,s,a,l),a.then(s,s))}function qA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Ut&l)===l&&(pe===4||pe===3&&(Ut&62914560)===Ut&&300>Mn()-ag?(Kt&2)===0&&wo(s,0):sg|=l,bo===Ut&&(bo=0)),Ni(s)}function H0(s,a){a===0&&(a=yl()),s=so(s,a),s!==null&&(qi(s,a),Ni(s))}function GA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),H0(s,l)}function YA(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),H0(s,l)}function $A(s,a){return kr(s,a)}var Nh=null,So=null,mg=!1,Dh=!1,gg=!1,ga=0;function Ni(s){s!==So&&s.next===null&&(So===null?Nh=So=s:So=So.next=s),Dh=!0,mg||(mg=!0,QA())}function lc(s,a){if(!gg&&Dh){gg=!0;do for(var l=!1,u=Nh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var w=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Ze(42|s)+1)-1,p&=g&~(w&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Y0(u,p))}else p=Ut,p=Ua(u,u===ae?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||zr(u,p)||(l=!0,Y0(u,p));u=u.next}while(l);gg=!1}}function KA(){F0()}function F0(){Dh=mg=!1;var s=0;ga!==0&&(i2()&&(s=ga),ga=0);for(var a=Mn(),l=null,u=Nh;u!==null;){var g=u.next,p=q0(u,a);p===0?(u.next=null,l===null?Nh=g:l.next=g,g===null&&(So=l)):(l=u,(s!==0||(p&3)!==0)&&(Dh=!0)),u=g}lc(s)}function q0(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var w=31-Ze(p),S=1<<w,k=g[w];k===-1?((S&l)===0||(S&u)!==0)&&(g[w]=gl(S,a)):k<=a&&(s.expiredLanes|=S),p&=~S}if(a=ae,l=Ut,l=Ua(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Pr(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||zr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Pr(u),za(l)){case 2:case 8:l=La;break;case 32:l=Vr;break;case 268435456:l=ja;break;default:l=Vr}return u=G0.bind(null,s),l=kr(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Pr(u),s.callbackPriority=2,s.callbackNode=null,2}function G0(s,a){if(Qe!==0&&Qe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Ih()&&s.callbackNode!==l)return null;var u=Ut;return u=Ua(s,s===ae?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(R0(s,u,a),q0(s,Mn()),s.callbackNode!=null&&s.callbackNode===l?G0.bind(null,s):null)}function Y0(s,a){if(Ih())return null;R0(s,a,!0)}function QA(){r2(function(){(Kt&6)!==0?kr(dl,KA):F0()})}function pg(){return ga===0&&(ga=pl()),ga}function $0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ya(""+s)}function K0(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function XA(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=$0((g[Ee]||null).action),w=u.submitter;w&&(a=(a=w[Ee]||null)?$0(a.formAction):w.getAttribute("formAction"),a!==null&&(p=a,w=null));var S=new $a("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ga!==0){var k=w?K0(g,w):new FormData(g);Vm(l,{pending:!0,data:k,method:g.method,action:p},null,k)}}else typeof p=="function"&&(S.preventDefault(),k=w?K0(g,w):new FormData(g),Vm(l,{pending:!0,data:k,method:g.method,action:p},p,k))},currentTarget:g}]})}}for(var yg=0;yg<em.length;yg++){var _g=em[yg],WA=_g.toLowerCase(),ZA=_g[0].toUpperCase()+_g.slice(1);ii(WA,"on"+ZA)}ii(R_,"onAnimationEnd"),ii(C_,"onAnimationIteration"),ii(I_,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(gA,"onTransitionRun"),ii(pA,"onTransitionStart"),ii(yA,"onTransitionCancel"),ii(N_,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function Q0(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(a)for(var w=u.length-1;0<=w;w--){var S=u[w],k=S.instance,Y=S.currentTarget;if(S=S.listener,k!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=Y;try{p(g)}catch(Z){_h(Z)}g.currentTarget=null,p=k}else for(w=0;w<u.length;w++){if(S=u[w],k=S.instance,Y=S.currentTarget,S=S.listener,k!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=Y;try{p(g)}catch(Z){_h(Z)}g.currentTarget=null,p=k}}}}function Mt(s,a){var l=a[bl];l===void 0&&(l=a[bl]=new Set);var u=s+"__bubble";l.has(u)||(X0(a,s,2,!1),l.add(u))}function vg(s,a,l){var u=0;a&&(u|=4),X0(l,s,u,a)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function bg(s){if(!s[Oh]){s[Oh]=!0,xl.forEach(function(l){l!=="selectionchange"&&(JA.has(l)||vg(l,!1,s),vg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Oh]||(a[Oh]=!0,vg("selectionchange",!1,a))}}function X0(s,a,l,u){switch(bb(a)){case 2:var g=A2;break;case 8:g=R2;break;default:g=kg}l=g.bind(null,a,l,s),g=void 0,!Ln||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function xg(s,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var S=u.stateNode.containerInfo;if(S===g)break;if(w===4)for(w=u.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;S!==null;){if(w=Gi(S),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){u=p=w;continue t}S=S.parentNode}}u=u.return}ku(function(){var Y=p,Z=Vn(l),et=[];t:{var $=D_.get(s);if($!==void 0){var K=$a,Et=s;switch(s){case"keypress":if(xi(l)===0)break t;case"keydown":case"keyup":K=Ja;break;case"focusin":Et="focus",K=Xa;break;case"focusout":Et="blur",K=Xa;break;case"beforeblur":case"afterblur":K=Xa;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=$d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Hu;break;case R_:case C_:case I_:K=Wa;break;case N_:K=qu;break;case"scroll":case"scrollend":K=Pu;break;case"wheel":K=to;break;case"copy":case"cut":case"paste":K=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ml;break;case"toggle":case"beforetoggle":K=Yu}var vt=(a&4)!==0,ne=!vt&&(s==="scroll"||s==="scrollend"),H=vt?$!==null?$+"Capture":null:$;vt=[];for(var z=Y,G;z!==null;){var tt=z;if(G=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||G===null||H===null||(tt=Kr(z,H),tt!=null&&vt.push(uc(z,tt,G))),ne)break;z=z.return}0<vt.length&&($=new K($,Et,null,l,Z),et.push({event:$,listeners:vt}))}}if((a&7)===0){t:{if($=s==="mouseover"||s==="pointerover",K=s==="mouseout"||s==="pointerout",$&&l!==Qi&&(Et=l.relatedTarget||l.fromElement)&&(Gi(Et)||Et[kn]))break t;if((K||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Et=l.relatedTarget||l.toElement,K=Y,Et=Et?Gi(Et):null,Et!==null&&(ne=o(Et),vt=Et.tag,Et!==ne||vt!==5&&vt!==27&&vt!==6)&&(Et=null)):(K=null,Et=Y),K!==Et)){if(vt=jn,tt="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(vt=Ml,tt="onPointerLeave",H="onPointerEnter",z="pointer"),ne=K==null?$:yi(K),G=Et==null?$:yi(Et),$=new vt(tt,z+"leave",K,l,Z),$.target=ne,$.relatedTarget=G,tt=null,Gi(Z)===Y&&(vt=new vt(H,z+"enter",Et,l,Z),vt.target=G,vt.relatedTarget=ne,tt=vt),ne=tt,K&&Et)e:{for(vt=K,H=Et,z=0,G=vt;G;G=Ao(G))z++;for(G=0,tt=H;tt;tt=Ao(tt))G++;for(;0<z-G;)vt=Ao(vt),z--;for(;0<G-z;)H=Ao(H),G--;for(;z--;){if(vt===H||H!==null&&vt===H.alternate)break e;vt=Ao(vt),H=Ao(H)}vt=null}else vt=null;K!==null&&W0(et,$,K,vt,!1),Et!==null&&ne!==null&&W0(et,ne,Et,vt,!0)}}t:{if($=Y?yi(Y):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var ft=p_;else if(Ne($))if(y_)ft=fA;else{ft=uA;var Dt=cA}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?Y&&Al(Y.elementType)&&(ft=p_):ft=hA;if(ft&&(ft=ft(s,Y))){ts(et,ft,l,Z);break t}Dt&&Dt(s,$,Y),s==="focusout"&&Y&&$.type==="number"&&Y.memoizedProps.value!=null&&Vs($,"number",$.value)}switch(Dt=Y?yi(Y):window,s){case"focusin":(Ne(Dt)||Dt.contentEditable==="true")&&(eo=Dt,Zd=Y,Vl=null);break;case"focusout":Vl=Zd=eo=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,S_(et,l,Z);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":S_(et,l,Z)}var gt;if(Ti)t:{switch(s){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Lt?W(s,l)&&(bt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(bt="onCompositionStart");bt&&(E&&l.locale!=="ko"&&(Lt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Lt&&(gt=Cl()):(bi=Z,Ls="value"in bi?bi.value:bi.textContent,Lt=!0)),Dt=Mh(Y,bt),0<Dt.length&&(bt=new Dl(bt,s,null,l,Z),et.push({event:bt,listeners:Dt}),gt?bt.data=gt:(gt=ct(l),gt!==null&&(bt.data=gt)))),(gt=_?Ie(s,l):jt(s,l))&&(bt=Mh(Y,"onBeforeInput"),0<bt.length&&(Dt=new Dl("onBeforeInput","beforeinput",null,l,Z),et.push({event:Dt,listeners:bt}),Dt.data=gt)),XA(et,s,Y,l,Z)}Q0(et,a)})}function uc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Mh(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=Kr(s,l),g!=null&&u.unshift(uc(s,g,p)),g=Kr(s,a),g!=null&&u.push(uc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function Ao(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function W0(s,a,l,u,g){for(var p=a._reactName,w=[];l!==null&&l!==u;){var S=l,k=S.alternate,Y=S.stateNode;if(S=S.tag,k!==null&&k===u)break;S!==5&&S!==26&&S!==27||Y===null||(k=Y,g?(Y=Kr(l,p),Y!=null&&w.unshift(uc(l,Y,k))):g||(Y=Kr(l,p),Y!=null&&w.push(uc(l,Y,k)))),l=l.return}w.length!==0&&s.push({event:a,listeners:w})}var t2=/\r\n?/g,e2=/\u0000|\uFFFD/g;function Z0(s){return(typeof s=="string"?s:""+s).replace(t2,`
`).replace(e2,"")}function J0(s,a){return a=Z0(a),Z0(s)===a}function kh(){}function ee(s,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Pn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Pn(s,""+u);break;case"className":_i(s,"class",u);break;case"tabIndex":_i(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(s,l,u);break;case"style":Sl(s,u,p);break;case"data":if(a!=="object"){_i(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ya(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&ee(s,a,"name",g.name,g,null),ee(s,a,"formEncType",g.formEncType,g,null),ee(s,a,"formMethod",g.formMethod,g,null),ee(s,a,"formTarget",g.formTarget,g,null)):(ee(s,a,"encType",g.encType,g,null),ee(s,a,"method",g.method,g,null),ee(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Ya(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=kh);break;case"onScroll":u!=null&&Mt("scroll",s);break;case"onScrollEnd":u!=null&&Mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Ya(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Mt("beforetoggle",s),Mt("toggle",s),Ps(s,"popover",u);break;case"xlinkActuate":Ye(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ye(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ye(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ye(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ye(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ye(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ps(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Gd.get(l)||l,Ps(s,l,u))}}function Eg(s,a,l,u,g,p){switch(l){case"style":Sl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Pn(s,u):(typeof u=="number"||typeof u=="bigint")&&Pn(s,""+u);break;case"onScroll":u!=null&&Mt("scroll",s);break;case"onScrollEnd":u!=null&&Mt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=s[Ee]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Ps(s,l,u)}}}function Xe(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",s),Mt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var w=l[p];if(w!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,p,w,l,null)}}g&&ee(s,a,"srcSet",l.srcSet,l,null),u&&ee(s,a,"src",l.src,l,null);return;case"input":Mt("invalid",s);var S=p=w=g=null,k=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var Z=l[u];if(Z!=null)switch(u){case"name":g=Z;break;case"type":w=Z;break;case"checked":k=Z;break;case"defaultChecked":Y=Z;break;case"value":p=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:ee(s,a,u,Z,l,null)}}Gr(s,p,S,k,Y,w,g,!1),Ga(s);return;case"select":Mt("invalid",s),u=w=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":w=S;break;case"multiple":u=S;default:ee(s,a,g,S,l,null)}a=p,l=w,s.multiple=!!u,a!=null?Ki(s,!!u,a,!1):l!=null&&Ki(s,!!u,l,!0);return;case"textarea":Mt("invalid",s),p=g=u=null;for(w in l)if(l.hasOwnProperty(w)&&(S=l[w],S!=null))switch(w){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ee(s,a,w,S,l,null)}Yr(s,u,g,p),Ga(s);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(u=l[k],u!=null))switch(k){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ee(s,a,k,u,l,null)}return;case"dialog":Mt("beforetoggle",s),Mt("toggle",s),Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":Mt("load",s);break;case"video":case"audio":for(u=0;u<cc.length;u++)Mt(cc[u],s);break;case"image":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"embed":case"source":case"link":Mt("error",s),Mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,Y,u,l,null)}return;default:if(Al(a)){for(Z in l)l.hasOwnProperty(Z)&&(u=l[Z],u!==void 0&&Eg(s,a,Z,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&ee(s,a,S,u,l,null))}function n2(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,w=null,S=null,k=null,Y=null,Z=null;for(K in l){var et=l[K];if(l.hasOwnProperty(K)&&et!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=et;default:u.hasOwnProperty(K)||ee(s,a,K,null,u,et)}}for(var $ in u){var K=u[$];if(et=l[$],u.hasOwnProperty($)&&(K!=null||et!=null))switch($){case"type":p=K;break;case"name":g=K;break;case"checked":Y=K;break;case"defaultChecked":Z=K;break;case"value":w=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==et&&ee(s,a,$,K,u,et)}}wn(s,w,S,k,Y,Z,p,g);return;case"select":K=w=S=$=null;for(p in l)if(k=l[p],l.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":K=k;default:u.hasOwnProperty(p)||ee(s,a,p,null,u,k)}for(g in u)if(p=u[g],k=l[g],u.hasOwnProperty(g)&&(p!=null||k!=null))switch(g){case"value":$=p;break;case"defaultValue":S=p;break;case"multiple":w=p;default:p!==k&&ee(s,a,g,p,u,k)}a=S,l=w,u=K,$!=null?Ki(s,!!l,$,!1):!!u!=!!l&&(a!=null?Ki(s,!!l,a,!0):Ki(s,!!l,l?[]:"",!1));return;case"textarea":K=$=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ee(s,a,S,null,u,g)}for(w in u)if(g=u[w],p=l[w],u.hasOwnProperty(w)&&(g!=null||p!=null))switch(w){case"value":$=g;break;case"defaultValue":K=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&ee(s,a,w,g,u,p)}Jt(s,$,K);return;case"option":for(var Et in l)if($=l[Et],l.hasOwnProperty(Et)&&$!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":s.selected=!1;break;default:ee(s,a,Et,null,u,$)}for(k in u)if($=u[k],K=l[k],u.hasOwnProperty(k)&&$!==K&&($!=null||K!=null))switch(k){case"selected":s.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:ee(s,a,k,$,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)$=l[vt],l.hasOwnProperty(vt)&&$!=null&&!u.hasOwnProperty(vt)&&ee(s,a,vt,null,u,$);for(Y in u)if($=u[Y],K=l[Y],u.hasOwnProperty(Y)&&$!==K&&($!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,a));break;default:ee(s,a,Y,$,u,K)}return;default:if(Al(a)){for(var ne in l)$=l[ne],l.hasOwnProperty(ne)&&$!==void 0&&!u.hasOwnProperty(ne)&&Eg(s,a,ne,void 0,u,$);for(Z in u)$=u[Z],K=l[Z],!u.hasOwnProperty(Z)||$===K||$===void 0&&K===void 0||Eg(s,a,Z,$,u,K);return}}for(var H in l)$=l[H],l.hasOwnProperty(H)&&$!=null&&!u.hasOwnProperty(H)&&ee(s,a,H,null,u,$);for(et in u)$=u[et],K=l[et],!u.hasOwnProperty(et)||$===K||$==null&&K==null||ee(s,a,et,$,u,K)}var wg=null,Tg=null;function Ph(s){return s.nodeType===9?s:s.ownerDocument}function tb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Sg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ag=null;function i2(){var s=window.event;return s&&s.type==="popstate"?s===Ag?!1:(Ag=s,!0):(Ag=null,!1)}var nb=typeof setTimeout=="function"?setTimeout:void 0,s2=typeof clearTimeout=="function"?clearTimeout:void 0,ib=typeof Promise=="function"?Promise:void 0,r2=typeof queueMicrotask=="function"?queueMicrotask:typeof ib<"u"?function(s){return ib.resolve(null).then(s).catch(a2)}:nb;function a2(s){setTimeout(function(){throw s})}function Js(s){return s==="head"}function sb(s,a){var l=a,u=0,g=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var w=s.ownerDocument;if(l&1&&hc(w.documentElement),l&2&&hc(w.body),l&4)for(l=w.head,hc(l),w=l.firstChild;w;){var S=w.nextSibling,k=w.nodeName;w[Br]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=S}}if(g===0){s.removeChild(p),vc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);vc(a)}function Rg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rg(l),ks(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function o2(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Br])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=ri(s.nextSibling),s===null)break}return null}function l2(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ri(s.nextSibling),s===null))return null;return s}function Cg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function c2(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ri(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Ig=null;function rb(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function ab(s,a,l){switch(a=Ph(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function hc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ks(s)}var Gn=new Map,ob=new Set;function Vh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ds=ot.d;ot.d={f:u2,r:h2,D:f2,C:d2,L:m2,m:g2,X:y2,S:p2,M:_2};function u2(){var s=ds.f(),a=Rh();return s||a}function h2(s){var a=pi(s);a!==null&&a.tag===5&&a.type==="form"?Rv(a):ds.r(s)}var Ro=typeof document>"u"?null:document;function lb(s,a,l){var u=Ro;if(u&&typeof a=="string"&&a){var g=we(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),ob.has(g)||(ob.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Xe(a,"link",s),ye(a),u.head.appendChild(a)))}}function f2(s){ds.D(s),lb("dns-prefetch",s,null)}function d2(s,a){ds.C(s,a),lb("preconnect",s,a)}function m2(s,a,l){ds.L(s,a,l);var u=Ro;if(u&&s&&a){var g='link[rel="preload"][as="'+we(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+we(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+we(l.imageSizes)+'"]')):g+='[href="'+we(s)+'"]';var p=g;switch(a){case"style":p=Co(s);break;case"script":p=Io(s)}Gn.has(p)||(s=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Gn.set(p,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(fc(p))||a==="script"&&u.querySelector(dc(p))||(a=u.createElement("link"),Xe(a,"link",s),ye(a),u.head.appendChild(a)))}}function g2(s,a){ds.m(s,a);var l=Ro;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+we(u)+'"][href="'+we(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Io(s)}if(!Gn.has(p)&&(s=y({rel:"modulepreload",href:s},a),Gn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(dc(p)))return}u=l.createElement("link"),Xe(u,"link",s),ye(u),l.head.appendChild(u)}}}function p2(s,a,l){ds.S(s,a,l);var u=Ro;if(u&&s){var g=un(u).hoistableStyles,p=Co(s);a=a||"default";var w=g.get(p);if(!w){var S={loading:0,preload:null};if(w=u.querySelector(fc(p)))S.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Gn.get(p))&&Ng(s,l);var k=w=u.createElement("link");ye(k),Xe(k,"link",s),k._p=new Promise(function(Y,Z){k.onload=Y,k.onerror=Z}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lh(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:S},g.set(p,w)}}}function y2(s,a){ds.X(s,a);var l=Ro;if(l&&s){var u=un(l).hoistableScripts,g=Io(s),p=u.get(g);p||(p=l.querySelector(dc(g)),p||(s=y({src:s,async:!0},a),(a=Gn.get(g))&&Dg(s,a),p=l.createElement("script"),ye(p),Xe(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function _2(s,a){ds.M(s,a);var l=Ro;if(l&&s){var u=un(l).hoistableScripts,g=Io(s),p=u.get(g);p||(p=l.querySelector(dc(g)),p||(s=y({src:s,async:!0,type:"module"},a),(a=Gn.get(g))&&Dg(s,a),p=l.createElement("script"),ye(p),Xe(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function cb(s,a,l,u){var g=(g=yt.current)?Vh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Co(l.href),l=un(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Co(l.href);var p=un(g).hoistableStyles,w=p.get(s);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,w),(p=g.querySelector(fc(s)))&&!p._p&&(w.instance=p,w.state.loading=5),Gn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gn.set(s,l),p||v2(g,s,l,w.state))),a&&u===null)throw Error(i(528,""));return w}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Io(l),l=un(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Co(s){return'href="'+we(s)+'"'}function fc(s){return'link[rel="stylesheet"]['+s+"]"}function ub(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function v2(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Xe(a,"link",l),ye(a),s.head.appendChild(a))}function Io(s){return'[src="'+we(s)+'"]'}function dc(s){return"script[async]"+s}function hb(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+we(l.href)+'"]');if(u)return a.instance=u,ye(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),ye(u),Xe(u,"style",g),Lh(u,l.precedence,s),a.instance=u;case"stylesheet":g=Co(l.href);var p=s.querySelector(fc(g));if(p)return a.state.loading|=4,a.instance=p,ye(p),p;u=ub(l),(g=Gn.get(g))&&Ng(u,g),p=(s.ownerDocument||s).createElement("link"),ye(p);var w=p;return w._p=new Promise(function(S,k){w.onload=S,w.onerror=k}),Xe(p,"link",u),a.state.loading|=4,Lh(p,l.precedence,s),a.instance=p;case"script":return p=Io(l.src),(g=s.querySelector(dc(p)))?(a.instance=g,ye(g),g):(u=l,(g=Gn.get(p))&&(u=y({},l),Dg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),ye(g),Xe(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Lh(u,l.precedence,s));return a.instance}function Lh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,w=0;w<u.length;w++){var S=u[w];if(S.dataset.precedence===a)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Ng(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Dg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var jh=null;function fb(s,a,l){if(jh===null){var u=new Map,g=jh=new Map;g.set(l,u)}else g=jh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Br]||p[Ce]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(a)||"";w=s+w;var S=u.get(w);S?S.push(p):u.set(w,[p])}}return u}function db(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function b2(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function mb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var mc=null;function x2(){}function E2(s,a,l){if(mc===null)throw Error(i(475));var u=mc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Co(l.href),p=s.querySelector(fc(g));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Uh.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=p,ye(p);return}p=s.ownerDocument||s,l=ub(l),(g=Gn.get(g))&&Ng(l,g),p=p.createElement("link"),ye(p);var w=p;w._p=new Promise(function(S,k){w.onload=S,w.onerror=k}),Xe(p,"link",l),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Uh.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function w2(){if(mc===null)throw Error(i(475));var s=mc;return s.stylesheets&&s.count===0&&Og(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Og(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Uh(){if(this.count--,this.count===0){if(this.stylesheets)Og(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var zh=null;function Og(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,zh=new Map,a.forEach(T2,s),zh=null,Uh.call(s))}function T2(s,a){if(!(a.state.loading&4)){var l=zh.get(s);if(l)var u=l.get(null);else{l=new Map,zh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var w=g[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}g=a.instance,w=g.getAttribute("data-precedence"),p=l.get(w)||u,p===u&&l.set(null,g),l.set(w,g),this.count++,u=Uh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var gc={$$typeof:X,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function S2(s,a,l,u,g,p,w,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fi(0),this.hiddenUpdates=Fi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function gb(s,a,l,u,g,p,w,S,k,Y,Z,et){return s=new S2(s,a,l,w,S,k,Y,et),a=1,p===!0&&(a|=24),p=Sn(3,null,null,a),s.current=p,p.stateNode=s,a=dm(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},ym(p),s}function pb(s){return s?(s=ro,s):ro}function yb(s,a,l,u,g,p){g=pb(g),u.context===null?u.context=g:u.pendingContext=g,u=zs(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Bs(s,u,a),l!==null&&(Nn(l,s,a),Gl(l,s,a))}function _b(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Mg(s,a){_b(s,a),(s=s.alternate)&&_b(s,a)}function vb(s){if(s.tag===13){var a=so(s,67108864);a!==null&&Nn(a,s,67108864),Mg(s,67108864)}}var Bh=!0;function A2(s,a,l,u){var g=Q.T;Q.T=null;var p=ot.p;try{ot.p=2,kg(s,a,l,u)}finally{ot.p=p,Q.T=g}}function R2(s,a,l,u){var g=Q.T;Q.T=null;var p=ot.p;try{ot.p=8,kg(s,a,l,u)}finally{ot.p=p,Q.T=g}}function kg(s,a,l,u){if(Bh){var g=Pg(u);if(g===null)xg(s,a,u,Hh,l),xb(s,u);else if(I2(g,s,a,l,u))u.stopPropagation();else if(xb(s,u),a&4&&-1<C2.indexOf(s)){for(;g!==null;){var p=pi(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=ti(p.pendingLanes);if(w!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var k=1<<31-Ze(w);S.entanglements[1]|=k,w&=~k}Ni(p),(Kt&6)===0&&(Sh=Mn()+500,lc(0))}}break;case 13:S=so(p,2),S!==null&&Nn(S,p,2),Rh(),Mg(p,2)}if(p=Pg(u),p===null&&xg(s,a,u,Hh,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else xg(s,a,u,null,l)}}function Pg(s){return s=Vn(s),Vg(s)}var Hh=null;function Vg(s){if(Hh=null,s=Gi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Hh=s,null}function bb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ud()){case dl:return 2;case La:return 8;case Vr:case zd:return 32;case ja:return 268435456;default:return 32}default:return 32}}var Lg=!1,tr=null,er=null,nr=null,pc=new Map,yc=new Map,ir=[],C2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xb(s,a){switch(s){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":pc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(a.pointerId)}}function _c(s,a,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=pi(a),a!==null&&vb(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function I2(s,a,l,u,g){switch(a){case"focusin":return tr=_c(tr,s,a,l,u,g),!0;case"dragenter":return er=_c(er,s,a,l,u,g),!0;case"mouseover":return nr=_c(nr,s,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return pc.set(p,_c(pc.get(p)||null,s,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,yc.set(p,_c(yc.get(p)||null,s,a,l,u,g)),!0}return!1}function Eb(s){var a=Gi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,Ru(s.priority,function(){if(l.tag===13){var u=In();u=Ds(u);var g=so(l,u);g!==null&&Nn(g,l,u),Mg(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Fh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Pg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Qi=u,l.target.dispatchEvent(u),Qi=null}else return a=pi(l),a!==null&&vb(a),s.blockedOn=l,!1;a.shift()}return!0}function wb(s,a,l){Fh(s)&&l.delete(a)}function N2(){Lg=!1,tr!==null&&Fh(tr)&&(tr=null),er!==null&&Fh(er)&&(er=null),nr!==null&&Fh(nr)&&(nr=null),pc.forEach(wb),yc.forEach(wb)}function qh(s,a){s.blockedOn===a&&(s.blockedOn=null,Lg||(Lg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,N2)))}var Gh=null;function Tb(s){Gh!==s&&(Gh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gh===s&&(Gh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(Vg(u||l)===null)continue;break}var p=pi(l);p!==null&&(s.splice(a,3),a-=3,Vm(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function vc(s){function a(k){return qh(k,s)}tr!==null&&qh(tr,s),er!==null&&qh(er,s),nr!==null&&qh(nr,s),pc.forEach(a),yc.forEach(a);for(var l=0;l<ir.length;l++){var u=ir[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ir.length&&(l=ir[0],l.blockedOn===null);)Eb(l),l.blockedOn===null&&ir.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],w=g[Ee]||null;if(typeof p=="function")w||Tb(l);else if(w){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,w=p[Ee]||null)S=w.formAction;else if(Vg(g)!==null)continue}else S=w.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),Tb(l)}}}function jg(s){this._internalRoot=s}Yh.prototype.render=jg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=In();yb(l,u,s,a,null,null)},Yh.prototype.unmount=jg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;yb(s.current,2,null,s,null,null),Rh(),a[kn]=null}};function Yh(s){this._internalRoot=s}Yh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Os();s={blockedOn:null,target:s,priority:a};for(var l=0;l<ir.length&&a!==0&&a<ir[l].priority;l++);ir.splice(l,0,s),l===0&&Eb(s)}};var Sb=t.version;if(Sb!=="19.1.0")throw Error(i(527,Sb,"19.1.0"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var D2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{me=$h.inject(D2),$t=$h}catch{}}return xc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=Bv,p=Hv,w=Fv,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=gb(s,1,!1,null,null,l,u,g,p,w,S,null),s[kn]=a.current,bg(s),new jg(a)},xc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",p=Bv,w=Hv,S=Fv,k=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(k=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=gb(s,1,!0,a,l??null,u,g,p,w,S,k,Y),a.context=pb(null),l=a.current,u=In(),u=Ds(u),g=zs(u),g.callback=null,Bs(l,g,u),l=u,a.current.lanes=l,qi(a,l),Ni(a),s[kn]=a.current,bg(s),new Yh(a)},xc.version="19.1.0",xc}var Pb;function q2(){if(Pb)return Bg.exports;Pb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Bg.exports=F2(),Bg.exports}var G2=q2(),Ec={},Vb;function Y2(){if(Vb)return Ec;Vb=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.parse=c,Ec.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,T){const A=new o,I=b.length;if(I<2)return A;const N=(T==null?void 0:T.decode)||y;let L=0;do{const B=b.indexOf("=",L);if(B===-1)break;const X=b.indexOf(";",L),st=X===-1?I:X;if(B>st){L=b.lastIndexOf(";",B-1)+1;continue}const J=h(b,L,B),lt=f(b,B,J),O=b.slice(J,lt);if(A[O]===void 0){let C=h(b,B+1,st),D=f(b,st,C);const P=N(b.slice(C,D));A[O]=P}L=st+1}while(L<I);return A}function h(b,T,A){do{const I=b.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<A);return A}function f(b,T,A){for(;T>A;){const I=b.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return A}function m(b,T,A){const I=(A==null?void 0:A.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=I(T);if(!t.test(N))throw new TypeError(`argument val is invalid: ${T}`);let L=b+"="+N;if(!A)return L;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);L+="; Max-Age="+A.maxAge}if(A.domain){if(!e.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);L+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);L+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);L+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(L+="; HttpOnly"),A.secure&&(L+="; Secure"),A.partitioned&&(L+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return L}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function v(b){return r.call(b)==="[object Date]"}return Ec}Y2();var Lb="popstate";function $2(n={}){function t(r,o){let{pathname:c="/",search:h="",hash:f=""}=ka(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),bp("",{pathname:c,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=r.location.href,m=f.indexOf("#");h=m===-1?f:f.slice(0,m)}return h+"#"+(typeof o=="string"?o:$c(o))}function i(r,o){Wn(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return Q2(t,e,i,n)}function he(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Wn(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K2(){return Math.random().toString(36).substring(2,10)}function jb(n,t){return{usr:n.state,key:n.key,idx:t}}function bp(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ka(t):t,state:e,key:t&&t.key||i||K2()}}function $c({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ka(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function Q2(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function v(){h="POP";let N=y(),L=N==null?null:N-m;m=N,f&&f({action:h,location:I.location,delta:L})}function b(N,L){h="PUSH";let B=bp(I.location,N,L);e&&e(B,N),m=y()+1;let X=jb(B,m),st=I.createHref(B);try{c.pushState(X,"",st)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;r.location.assign(st)}o&&f&&f({action:h,location:I.location,delta:1})}function T(N,L){h="REPLACE";let B=bp(I.location,N,L);e&&e(B,N),m=y();let X=jb(B,m),st=I.createHref(B);c.replaceState(X,"",st),o&&f&&f({action:h,location:I.location,delta:0})}function A(N){return X2(N)}let I={get action(){return h},get location(){return n(r,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Lb,v),f=N,()=>{r.removeEventListener(Lb,v),f=null}},createHref(N){return t(r,N)},createURL:A,encodeLocation(N){let L=A(N);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:b,replace:T,go(N){return c.go(N)}};return I}function X2(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),he(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:$c(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Iw(n,t,e="/"){return W2(n,t,e,!1)}function W2(n,t,e,i){let r=typeof t=="string"?ka(t):t,o=Ts(r.pathname||"/",e);if(o==null)return null;let c=Nw(n);Z2(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let m=cR(o);h=oR(c[f],m,i)}return h}function Nw(n,t=[],e=[],i=""){let r=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(he(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=Es([i,f.relativePath]),y=e.concat(f);o.children&&o.children.length>0&&(he(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Nw(o.children,t,y,m)),!(o.path==null&&!o.index)&&t.push({path:m,score:rR(m,o.index),routesMeta:y})};return n.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))r(o,c);else for(let f of Dw(o.path))r(o,c,f)}),t}function Dw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=Dw(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function Z2(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:aR(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var J2=/^:[\w-]+$/,tR=3,eR=2,nR=1,iR=10,sR=-2,Ub=n=>n==="*";function rR(n,t){let e=n.split("/"),i=e.length;return e.some(Ub)&&(i+=sR),t&&(i+=eR),e.filter(r=>!Ub(r)).reduce((r,o)=>r+(J2.test(o)?tR:o===""?nR:iR),i)}function aR(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function oR(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,y=o==="/"?t:t.slice(o.length)||"/",v=Df({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),b=f.route;if(!v&&m&&e&&!i[i.length-1].route.index&&(v=Df({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!v)return null;Object.assign(r,v.params),c.push({params:r,pathname:Es([o,v.pathname]),pathnameBase:dR(Es([o,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(o=Es([o,v.pathnameBase]))}return c}function Df(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=lR(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:v},b)=>{if(y==="*"){let A=h[b]||"";c=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const T=h[b];return v&&!T?m[y]=void 0:m[y]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:n}}function lR(n,t=!1,e=!0){Wn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function cR(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Ts(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function uR(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?ka(n):n;return{pathname:e?e.startsWith("/")?e:hR(e,t):t,search:mR(i),hash:gR(r)}}function hR(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Gg(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fR(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ny(n){let t=fR(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function iy(n,t,e,i=!1){let r;typeof n=="string"?r=ka(n):(r={...n},he(!r.pathname||!r.pathname.includes("?"),Gg("?","pathname","search",r)),he(!r.pathname||!r.pathname.includes("#"),Gg("#","pathname","hash",r)),he(!r.search||!r.search.includes("#"),Gg("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let v=t.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;r.pathname=b.join("/")}h=v>=0?t[v]:"/"}let f=uR(r,h),m=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Es=n=>n.join("/").replace(/\/\/+/g,"/"),dR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Ow=["POST","PUT","PATCH","DELETE"];new Set(Ow);var yR=["GET",...Ow];new Set(yR);var tl=F.createContext(null);tl.displayName="DataRouter";var od=F.createContext(null);od.displayName="DataRouterState";var Mw=F.createContext({isTransitioning:!1});Mw.displayName="ViewTransition";var _R=F.createContext(new Map);_R.displayName="Fetchers";var vR=F.createContext(null);vR.displayName="Await";var fi=F.createContext(null);fi.displayName="Navigation";var ou=F.createContext(null);ou.displayName="Location";var Bi=F.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var sy=F.createContext(null);sy.displayName="RouteError";function bR(n,{relative:t}={}){he(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=F.useContext(fi),{hash:r,pathname:o,search:c}=lu(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Es([e,o])),i.createHref({pathname:h,search:c,hash:r})}function el(){return F.useContext(ou)!=null}function di(){return he(el(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(ou).location}var kw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pw(n){F.useContext(fi).static||F.useLayoutEffect(n)}function ld(){let{isDataRoute:n}=F.useContext(Bi);return n?MR():xR()}function xR(){he(el(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(tl),{basename:t,navigator:e}=F.useContext(fi),{matches:i}=F.useContext(Bi),{pathname:r}=di(),o=JSON.stringify(ny(i)),c=F.useRef(!1);return Pw(()=>{c.current=!0}),F.useCallback((f,m={})=>{if(Wn(c.current,kw),!c.current)return;if(typeof f=="number"){e.go(f);return}let y=iy(f,JSON.parse(o),r,m.relative==="path");n==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Es([t,y.pathname])),(m.replace?e.replace:e.push)(y,m.state,m)},[t,e,o,r,n])}F.createContext(null);function lu(n,{relative:t}={}){let{matches:e}=F.useContext(Bi),{pathname:i}=di(),r=JSON.stringify(ny(e));return F.useMemo(()=>iy(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function ER(n,t){return Vw(n,t)}function Vw(n,t,e,i){var L;he(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=F.useContext(fi),{matches:o}=F.useContext(Bi),c=o[o.length-1],h=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",y=c&&c.route;{let B=y&&y.path||"";Lw(f,!y||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let v=di(),b;if(t){let B=typeof t=="string"?ka(t):t;he(m==="/"||((L=B.pathname)==null?void 0:L.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),b=B}else b=v;let T=b.pathname||"/",A=T;if(m!=="/"){let B=m.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(B.length).join("/")}let I=Iw(n,{pathname:A});Wn(y||I!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Wn(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=RR(I&&I.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Es([m,r.encodeLocation?r.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Es([m,r.encodeLocation?r.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,e,i);return t&&N?F.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function wR(){let n=OR(),t=pR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),e?F.createElement("pre",{style:r},e):null,c)}var TR=F.createElement(wR,null),SR=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?F.createElement(Bi.Provider,{value:this.props.routeContext},F.createElement(sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AR({routeContext:n,match:t,children:e}){let i=F.useContext(tl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(Bi.Provider,{value:n},e)}function RR(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e==null?void 0:e.errors;if(o!=null){let f=r.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);he(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,h=-1;if(e)for(let f=0;f<r.length;f++){let m=r[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:y,errors:v}=e,b=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||b){c=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((f,m,y)=>{let v,b=!1,T=null,A=null;e&&(v=o&&m.route.id?o[m.route.id]:void 0,T=m.route.errorElement||TR,c&&(h<0&&y===0?(Lw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,A=null):h===y&&(b=!0,A=m.route.hydrateFallbackElement||null)));let I=t.concat(r.slice(0,y+1)),N=()=>{let L;return v?L=T:b?L=A:m.route.Component?L=F.createElement(m.route.Component,null):m.route.element?L=m.route.element:L=f,F.createElement(AR,{match:m,routeContext:{outlet:f,matches:I,isDataRoute:e!=null},children:L})};return e&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?F.createElement(SR,{location:e.location,revalidation:e.revalidation,component:T,error:v,children:N(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):N()},null)}function ry(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CR(n){let t=F.useContext(tl);return he(t,ry(n)),t}function IR(n){let t=F.useContext(od);return he(t,ry(n)),t}function NR(n){let t=F.useContext(Bi);return he(t,ry(n)),t}function ay(n){let t=NR(n),e=t.matches[t.matches.length-1];return he(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function DR(){return ay("useRouteId")}function OR(){var i;let n=F.useContext(sy),t=IR("useRouteError"),e=ay("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function MR(){let{router:n}=CR("useNavigate"),t=ay("useNavigate"),e=F.useRef(!1);return Pw(()=>{e.current=!0}),F.useCallback(async(r,o={})=>{Wn(e.current,kw),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var zb={};function Lw(n,t,e){!t&&!zb[n]&&(zb[n]=!0,Wn(!1,e))}F.memo(kR);function kR({routes:n,future:t,state:e}){return Vw(n,void 0,e,t)}function PR({to:n,replace:t,state:e,relative:i}){he(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=F.useContext(fi);Wn(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=F.useContext(Bi),{pathname:c}=di(),h=ld(),f=iy(n,ny(o),c,i==="path"),m=JSON.stringify(f);return F.useEffect(()=>{h(JSON.parse(m),{replace:t,state:e,relative:i})},[h,m,i,t,e]),null}function Do(n){he(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VR({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){he(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=F.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=ka(e));let{pathname:f="/",search:m="",hash:y="",state:v=null,key:b="default"}=e,T=F.useMemo(()=>{let A=Ts(f,c);return A==null?null:{location:{pathname:A,search:m,hash:y,state:v,key:b},navigationType:i}},[c,f,m,y,v,b,i]);return Wn(T!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:F.createElement(fi.Provider,{value:h},F.createElement(ou.Provider,{children:t,value:T}))}function LR({children:n,location:t}){return ER(xp(n),t)}function xp(n,t=[]){let e=[];return F.Children.forEach(n,(i,r)=>{if(!F.isValidElement(i))return;let o=[...t,r];if(i.type===F.Fragment){e.push.apply(e,xp(i.props.children,o));return}he(i.type===Do,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),he(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=xp(i.props.children,o)),e.push(c)}),e}var gf="get",pf="application/x-www-form-urlencoded";function cd(n){return n!=null&&typeof n.tagName=="string"}function jR(n){return cd(n)&&n.tagName.toLowerCase()==="button"}function UR(n){return cd(n)&&n.tagName.toLowerCase()==="form"}function zR(n){return cd(n)&&n.tagName.toLowerCase()==="input"}function BR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function HR(n,t){return n.button===0&&(!t||t==="_self")&&!BR(n)}var Kh=null;function FR(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var qR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yg(n){return n!=null&&!qR.has(n)?(Wn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pf}"`),null):n}function GR(n,t){let e,i,r,o,c;if(UR(n)){let h=n.getAttribute("action");i=h?Ts(h,t):null,e=n.getAttribute("method")||gf,r=Yg(n.getAttribute("enctype"))||pf,o=new FormData(n)}else if(jR(n)||zR(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ts(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||gf,r=Yg(n.getAttribute("formenctype"))||Yg(h.getAttribute("enctype"))||pf,o=new FormData(h,n),!FR()){let{name:m,type:y,value:v}=n;if(y==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,v)}}else{if(cd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=gf,i=null,r=pf,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}function oy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function YR(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $R(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function KR(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await YR(o,e);return c.links?c.links():[]}return[]}));return ZR(i.flat(1).filter($R).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Bb(n,t,e,i,r,o){let c=(f,m)=>e[m]?f.route.id!==e[m].route.id:!0,h=(f,m)=>{var y;return e[m].pathname!==f.pathname||((y=e[m].route.path)==null?void 0:y.endsWith("*"))&&e[m].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,m)=>c(f,m)||h(f,m)):o==="data"?t.filter((f,m)=>{var v;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(c(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((v=e[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function QR(n,t,{includeHydrateFallback:e}={}){return XR(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function XR(n){return[...new Set(n)]}function WR(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function ZR(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(WR(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JR=new Set([100,101,204,205]);function tC(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&Ts(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function jw(){let n=F.useContext(tl);return oy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function eC(){let n=F.useContext(od);return oy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ly=F.createContext(void 0);ly.displayName="FrameworkContext";function Uw(){let n=F.useContext(ly);return oy(n,"You must render this element inside a <HydratedRouter> element"),n}function nC(n,t){let e=F.useContext(ly),[i,r]=F.useState(!1),[o,c]=F.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=t,b=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=L=>{L.forEach(B=>{c(B.isIntersecting)})},N=new IntersectionObserver(I,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[n]),F.useEffect(()=>{if(i){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[i]);let T=()=>{r(!0)},A=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:wc(h,T),onBlur:wc(f,A),onMouseEnter:wc(m,T),onMouseLeave:wc(y,A),onTouchStart:wc(v,T)}]:[!1,b,{}]}function wc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function iC({page:n,...t}){let{router:e}=jw(),i=F.useMemo(()=>Iw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?F.createElement(rC,{page:n,matches:i,...t}):null}function sC(n){let{manifest:t,routeModules:e}=Uw(),[i,r]=F.useState([]);return F.useEffect(()=>{let o=!1;return KR(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function rC({page:n,matches:t,...e}){let i=di(),{manifest:r,routeModules:o}=Uw(),{basename:c}=jw(),{loaderData:h,matches:f}=eC(),m=F.useMemo(()=>Bb(n,t,f,r,i,"data"),[n,t,f,r,i]),y=F.useMemo(()=>Bb(n,t,f,r,i,"assets"),[n,t,f,r,i]),v=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,I=!1;if(t.forEach(L=>{var X;let B=r.routes[L.route.id];!B||!B.hasLoader||(!m.some(st=>st.route.id===L.route.id)&&L.route.id in h&&((X=o[L.route.id])!=null&&X.shouldRevalidate)||B.hasClientLoader?I=!0:A.add(L.route.id))}),A.size===0)return[];let N=tC(n,c);return I&&A.size>0&&N.searchParams.set("_routes",t.filter(L=>A.has(L.route.id)).map(L=>L.route.id).join(",")),[N.pathname+N.search]},[c,h,i,r,m,t,n,o]),b=F.useMemo(()=>QR(y,r),[y,r]),T=sC(y);return F.createElement(F.Fragment,null,v.map(A=>F.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),b.map(A=>F.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),T.map(({key:A,link:I})=>F.createElement("link",{key:A,...I})))}function aC(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zw&&(window.__reactRouterVersion="7.6.2")}catch{}function oC({basename:n,children:t,window:e}){let i=F.useRef();i.current==null&&(i.current=$2({window:e,v5Compat:!0}));let r=i.current,[o,c]=F.useState({action:r.action,location:r.location}),h=F.useCallback(f=>{F.startTransition(()=>c(f))},[c]);return F.useLayoutEffect(()=>r.listen(h),[r,h]),F.createElement(VR,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vs=F.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:m,preventScrollReset:y,viewTransition:v,...b},T){let{basename:A}=F.useContext(fi),I=typeof m=="string"&&Bw.test(m),N,L=!1;if(typeof m=="string"&&I&&(N=m,zw))try{let D=new URL(window.location.href),P=m.startsWith("//")?new URL(D.protocol+m):new URL(m),V=Ts(P.pathname,A);P.origin===D.origin&&V!=null?m=V+P.search+P.hash:L=!0}catch{Wn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=bR(m,{relative:r}),[X,st,J]=nC(i,b),lt=hC(m,{replace:c,state:h,target:f,preventScrollReset:y,relative:r,viewTransition:v});function O(D){t&&t(D),D.defaultPrevented||lt(D)}let C=F.createElement("a",{...b,...J,href:N||B,onClick:L||o?t:O,ref:aC(T,st),target:f,"data-discover":!I&&e==="render"?"true":void 0});return X&&!I?F.createElement(F.Fragment,null,C,F.createElement(iC,{page:B})):C});vs.displayName="Link";var lC=F.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...m},y){let v=lu(c,{relative:m.relative}),b=di(),T=F.useContext(od),{navigator:A,basename:I}=F.useContext(fi),N=T!=null&&pC(v)&&h===!0,L=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,B=b.pathname,X=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;e||(B=B.toLowerCase(),X=X?X.toLowerCase():null,L=L.toLowerCase()),X&&I&&(X=Ts(X,I)||X);const st=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let J=B===L||!r&&B.startsWith(L)&&B.charAt(st)==="/",lt=X!=null&&(X===L||!r&&X.startsWith(L)&&X.charAt(L.length)==="/"),O={isActive:J,isPending:lt,isTransitioning:N},C=J?t:void 0,D;typeof i=="function"?D=i(O):D=[i,J?"active":null,lt?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(O):o;return F.createElement(vs,{...m,"aria-current":C,className:D,ref:y,style:P,to:c,viewTransition:h},typeof f=="function"?f(O):f)});lC.displayName="NavLink";var cC=F.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=gf,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:v,...b},T)=>{let A=mC(),I=gC(h,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&Bw.test(h),B=X=>{if(f&&f(X),X.defaultPrevented)return;X.preventDefault();let st=X.nativeEvent.submitter,J=(st==null?void 0:st.getAttribute("formmethod"))||c;A(st||X.currentTarget,{fetcherKey:t,method:J,navigate:e,replace:r,state:o,relative:m,preventScrollReset:y,viewTransition:v})};return F.createElement("form",{ref:T,method:N,action:I,onSubmit:i?f:B,...b,"data-discover":!L&&n==="render"?"true":void 0})});cC.displayName="Form";function uC(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hw(n){let t=F.useContext(tl);return he(t,uC(n)),t}function hC(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=ld(),f=di(),m=lu(n,{relative:o});return F.useCallback(y=>{if(HR(y,t)){y.preventDefault();let v=e!==void 0?e:$c(f)===$c(m);h(n,{replace:v,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,h,m,e,i,t,n,r,o,c])}var fC=0,dC=()=>`__${String(++fC)}__`;function mC(){let{router:n}=Hw("useSubmit"),{basename:t}=F.useContext(fi),e=DR();return F.useCallback(async(i,r={})=>{let{action:o,method:c,encType:h,formData:f,body:m}=GR(i,t);if(r.navigate===!1){let y=r.fetcherKey||dC();await n.fetch(y,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:m,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:m,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function gC(n,{relative:t}={}){let{basename:e}=F.useContext(fi),i=F.useContext(Bi);he(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...lu(n||".",{relative:t})},c=di();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Es([e,o.pathname])),$c(o)}function pC(n,t={}){let e=F.useContext(Mw);he(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Hw("useViewTransitionState"),r=lu(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Ts(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Ts(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Df(r.pathname,c)!=null||Df(r.pathname,o)!=null}[...JR];const ud="/my-portfolio/assets/icon-CQNQSX4z.png",yC=()=>{};var Hb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},_C=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},qw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,m=f?n[r+2]:0,y=o>>2,v=(o&3)<<4|h>>4;let b=(h&15)<<2|m>>6,T=m&63;f||(T=64,c||(b=64)),i.push(e[y],e[v],e[b],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Fw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):_C(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const m=r<n.length?e[n.charAt(r)]:64;++r;const v=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||m==null||v==null)throw new vC;const b=o<<2|h>>4;if(i.push(b),m!==64){const T=h<<4&240|m>>2;if(i.push(T),v!==64){const A=m<<6&192|v;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bC=function(n){const t=Fw(n);return qw.encodeByteArray(t,!0)},Of=function(n){return bC(n).replace(/\./g,"")},Gw=function(n){try{return qw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=()=>xC().__FIREBASE_DEFAULTS__,wC=()=>{if(typeof process>"u"||typeof Hb>"u")return;const n=Hb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},TC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Gw(n[1]);return t&&JSON.parse(t)},hd=()=>{try{return yC()||EC()||wC()||TC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Yw=n=>{var t,e;return(e=(t=hd())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},SC=n=>{const t=Yw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},$w=()=>{var n;return(n=hd())===null||n===void 0?void 0:n.config},Kw=n=>{var t;return(t=hd())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n){return n.endsWith(".cloudworkstations.dev")}async function Qw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Of(JSON.stringify(e)),Of(JSON.stringify(c)),""].join(".")}const Vc={};function CC(){const n={prod:[],emulator:[]};for(const t of Object.keys(Vc))Vc[t]?n.emulator.push(t):n.prod.push(t);return n}function IC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Fb=!1;function Xw(n,t){if(typeof window>"u"||typeof document>"u"||!cu(window.location.host)||Vc[n]===t||Vc[n]||Fb)return;Vc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=CC().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Fb=!0,c()},b}function y(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=IC(i),T=e("text"),A=document.getElementById(T)||document.createElement("span"),I=e("learnmore"),N=document.getElementById(I)||document.createElement("a"),L=e("preprendIcon"),B=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;h(X),y(N,I);const st=m();f(B,L),X.append(B,A,N,st),document.body.appendChild(X)}o?(A.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function DC(){var n;const t=(n=hd())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PC(){const n=ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VC(){return!DC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LC(){try{return typeof indexedDB=="object"}catch{return!1}}function jC(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="FirebaseError";class Is extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=UC,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?zC(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Is(r,h,i)}}function zC(n,t){return n.replace(BC,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const BC=/\{\$([^}]+)}/g;function HC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Aa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(qb(o)&&qb(c)){if(!Aa(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function qb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function FC(n,t){const e=new qC(n,t);return e.subscribe.bind(e)}class qC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");GC(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=$g),r.error===void 0&&(r.error=$g),r.complete===void 0&&(r.complete=$g);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function $g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class Ra{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new AC;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KC(t))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=ba){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ba){return this.instances.has(t)}getOptions(t=ba){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$C(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ba){return this.component?this.component.multipleInstances?t:ba:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $C(n){return n===ba?void 0:n}function KC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new YC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pt||(Pt={}));const XC={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},WC=Pt.INFO,ZC={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},JC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=ZC[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cy{constructor(t){this.name=t,this._logLevel=WC,this._logHandler=JC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const tI=(n,t)=>t.some(e=>n instanceof e);let Gb,Yb;function eI(){return Gb||(Gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nI(){return Yb||(Yb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ww=new WeakMap,Ep=new WeakMap,Zw=new WeakMap,Kg=new WeakMap,uy=new WeakMap;function iI(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(dr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Ww.set(e,n)}).catch(()=>{}),uy.set(t,n),t}function sI(n){if(Ep.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Ep.set(n,t)}let wp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Ep.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Zw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return dr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function rI(n){wp=n(wp)}function aI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Qg(this),t,...e);return Zw.set(i,t.sort?t.sort():[t]),dr(i)}:nI().includes(n)?function(...t){return n.apply(Qg(this),t),dr(Ww.get(this))}:function(...t){return dr(n.apply(Qg(this),t))}}function oI(n){return typeof n=="function"?aI(n):(n instanceof IDBTransaction&&sI(n),tI(n,eI())?new Proxy(n,wp):n)}function dr(n){if(n instanceof IDBRequest)return iI(n);if(Kg.has(n))return Kg.get(n);const t=oI(n);return t!==n&&(Kg.set(n,t),uy.set(t,n)),t}const Qg=n=>uy.get(n);function lI(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=dr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(dr(c.result),f.oldVersion,f.newVersion,dr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const cI=["get","getKey","getAll","getAllKeys","count"],uI=["put","add","delete","clear"],Xg=new Map;function $b(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Xg.get(t))return Xg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=uI.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||cI.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),r&&f.done]))[0]};return Xg.set(t,o),o}rI(n=>({...n,get:(t,e,i)=>$b(t,e)||n.get(t,e,i),has:(t,e)=>!!$b(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(fI(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function fI(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Tp="@firebase/app",Kb="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new cy("@firebase/app"),dI="@firebase/app-compat",mI="@firebase/analytics-compat",gI="@firebase/analytics",pI="@firebase/app-check-compat",yI="@firebase/app-check",_I="@firebase/auth",vI="@firebase/auth-compat",bI="@firebase/database",xI="@firebase/data-connect",EI="@firebase/database-compat",wI="@firebase/functions",TI="@firebase/functions-compat",SI="@firebase/installations",AI="@firebase/installations-compat",RI="@firebase/messaging",CI="@firebase/messaging-compat",II="@firebase/performance",NI="@firebase/performance-compat",DI="@firebase/remote-config",OI="@firebase/remote-config-compat",MI="@firebase/storage",kI="@firebase/storage-compat",PI="@firebase/firestore",VI="@firebase/ai",LI="@firebase/firestore-compat",jI="firebase",UI="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="[DEFAULT]",zI={[Tp]:"fire-core",[dI]:"fire-core-compat",[gI]:"fire-analytics",[mI]:"fire-analytics-compat",[yI]:"fire-app-check",[pI]:"fire-app-check-compat",[_I]:"fire-auth",[vI]:"fire-auth-compat",[bI]:"fire-rtdb",[xI]:"fire-data-connect",[EI]:"fire-rtdb-compat",[wI]:"fire-fn",[TI]:"fire-fn-compat",[SI]:"fire-iid",[AI]:"fire-iid-compat",[RI]:"fire-fcm",[CI]:"fire-fcm-compat",[II]:"fire-perf",[NI]:"fire-perf-compat",[DI]:"fire-rc",[OI]:"fire-rc-compat",[MI]:"fire-gcs",[kI]:"fire-gcs-compat",[PI]:"fire-fst",[LI]:"fire-fst-compat",[VI]:"fire-vertex","fire-js":"fire-js",[jI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,BI=new Map,Ap=new Map;function Qb(n,t){try{n.container.addComponent(t)}catch(e){Ss.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function qo(n){const t=n.name;if(Ap.has(t))return Ss.debug(`There were multiple attempts to register component ${t}.`),!1;Ap.set(t,n);for(const e of Mf.values())Qb(e,n);for(const e of BI.values())Qb(e,n);return!0}function hy(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function $n(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new uu("app","Firebase",HI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=UI;function Jw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Sp,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw mr.create("bad-app-name",{appName:String(r)});if(e||(e=$w()),!e)throw mr.create("no-options");const o=Mf.get(r);if(o){if(Aa(e,o.options)&&Aa(i,o.config))return o;throw mr.create("duplicate-app",{appName:r})}const c=new QC(r);for(const f of Ap.values())c.addComponent(f);const h=new FI(e,i,c);return Mf.set(r,h),h}function tT(n=Sp){const t=Mf.get(n);if(!t&&n===Sp&&$w())return Jw();if(!t)throw mr.create("no-app",{appName:n});return t}function gr(n,t,e){var i;let r=(i=zI[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ss.warn(h.join(" "));return}qo(new Ra(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebase-heartbeat-database",GI=1,Kc="firebase-heartbeat-store";let Wg=null;function eT(){return Wg||(Wg=lI(qI,GI,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Kc)}catch(e){console.warn(e)}}}}).catch(n=>{throw mr.create("idb-open",{originalErrorMessage:n.message})})),Wg}async function YI(n){try{const e=(await eT()).transaction(Kc),i=await e.objectStore(Kc).get(nT(n));return await e.done,i}catch(t){if(t instanceof Is)Ss.warn(t.message);else{const e=mr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ss.warn(e.message)}}}async function Xb(n,t){try{const i=(await eT()).transaction(Kc,"readwrite");await i.objectStore(Kc).put(t,nT(n)),await i.done}catch(e){if(e instanceof Is)Ss.warn(e.message);else{const i=mr.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ss.warn(i.message)}}}function nT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=1024,KI=30;class QI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new WI(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Wb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>KI){const c=ZI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ss.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Wb(),{heartbeatsToSend:i,unsentEntries:r}=XI(this._heartbeatsCache.heartbeats),o=Of(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ss.warn(e),""}}}function Wb(){return new Date().toISOString().substring(0,10)}function XI(n,t=$I){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),Zb(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Zb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class WI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LC()?jC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await YI(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Xb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return Xb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Zb(n){return Of(JSON.stringify({version:2,heartbeats:n})).length}function ZI(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(n){qo(new Ra("platform-logger",t=>new hI(t),"PRIVATE")),qo(new Ra("heartbeat",t=>new QI(t),"PRIVATE")),gr(Tp,Kb,n),gr(Tp,Kb,"esm2017"),gr("fire-js","")}JI("");function fy(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tN=iT,sT=new uu("auth","Firebase",iT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=new cy("@firebase/auth");function eN(n,...t){kf.logLevel<=Pt.WARN&&kf.warn(`Auth (${nl}): ${n}`,...t)}function yf(n,...t){kf.logLevel<=Pt.ERROR&&kf.error(`Auth (${nl}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,...t){throw my(n,...t)}function ui(n,...t){return my(n,...t)}function dy(n,t,e){const i=Object.assign(Object.assign({},tN()),{[t]:e});return new uu("auth","Firebase",i).create(t,{appName:n.name})}function pr(n){return dy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rT(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ji(n,"argument-error"),dy(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function my(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return sT.create(n,...t)}function wt(n,t,...e){if(!n)throw my(t,...e)}function bs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw yf(t),new Error(t)}function As(n,t){n||bs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nN(){return Jb()==="http:"||Jb()==="https:"}function Jb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nN()||MC()||"connection"in navigator)?navigator.onLine:!0}function sN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,e){this.shortDelay=t,this.longDelay=e,As(e>t,"Short delay should be less than long delay!"),this.isMobile=NC()||kC()}get(){return iN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(n,t){As(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oN=new fu(3e4,6e4);function py(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function il(n,t,e,i,r={}){return oT(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=hu(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:t,headers:f},o);return OC()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&cu(n.emulatorConfig.host)&&(m.credentials="include"),aT.fetch()(await lT(n,n.config.apiHost,e,h),m)})}async function oT(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},rN),t);try{const r=new cN(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Qh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Qh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Qh(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw dy(n,y,m);ji(n,y)}}catch(r){if(r instanceof Is)throw r;ji(n,"network-request-failed",{message:String(r)})}}async function lN(n,t,e,i,r={}){const o=await il(n,t,e,i,r);return"mfaPendingCredential"in o&&ji(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function lT(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?gy(n.config,r):`${n.config.apiScheme}://${r}`;return aN.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class cN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ui(this.auth,"network-request-failed")),oN.get())})}}function Qh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=ui(n,t,i);return r.customData._tokenResponse=e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(n,t){return il(n,"POST","/v1/accounts:delete",t)}async function Pf(n,t){return il(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hN(n,t=!1){const e=cn(n),i=await e.getIdToken(t),r=yy(i);wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Lc(Zg(r.auth_time)),issuedAtTime:Lc(Zg(r.iat)),expirationTime:Lc(Zg(r.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Zg(n){return Number(n)*1e3}function yy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const r=Gw(e);return r?JSON.parse(r):(yf("Failed to decode base64 JWT payload"),null)}catch(r){return yf("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function tx(n){const t=yy(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Is&&fN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function fN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Qc(n,Pf(e,{idToken:i}));wt(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?cT(o.providerUserInfo):[],h=gN(n.providerData,c),f=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),y=f?m:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function mN(n){const t=cn(n);await Vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gN(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function cT(n){return n.map(t=>{var{providerId:e}=t,i=fy(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,t){const e=await oT(n,{},async()=>{const i=hu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await lT(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",aT.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function yN(n,t){return il(n,"POST","/v2/accounts:revokeToken",py(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=tx(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await pN(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new jo;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(wt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(wt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ai{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=fy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Qc(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return hN(this,t)}reload(){return mN(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ai(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Vf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(pr(this.auth));const t=await this.getIdToken();return await Qc(this,uN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,h,f,m,y;const v=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,T=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,A=(c=e.photoURL)!==null&&c!==void 0?c:void 0,I=(h=e.tenantId)!==null&&h!==void 0?h:void 0,N=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,L=(m=e.createdAt)!==null&&m!==void 0?m:void 0,B=(y=e.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:X,emailVerified:st,isAnonymous:J,providerData:lt,stsTokenManager:O}=e;wt(X&&O,t,"internal-error");const C=jo.fromJSON(this.name,O);wt(typeof X=="string",t,"internal-error"),rr(v,t.name),rr(b,t.name),wt(typeof st=="boolean",t,"internal-error"),wt(typeof J=="boolean",t,"internal-error"),rr(T,t.name),rr(A,t.name),rr(I,t.name),rr(N,t.name),rr(L,t.name),rr(B,t.name);const D=new ai({uid:X,auth:t,email:b,emailVerified:st,displayName:v,isAnonymous:J,photoURL:A,phoneNumber:T,tenantId:I,stsTokenManager:C,createdAt:L,lastLoginAt:B});return lt&&Array.isArray(lt)&&(D.providerData=lt.map(P=>Object.assign({},P))),N&&(D._redirectEventId=N),D}static async _fromIdTokenResponse(t,e,i=!1){const r=new jo;r.updateFromServerResponse(e);const o=new ai({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Vf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];wt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?cT(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new jo;h.updateFromIdToken(i);const f=new ai({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Cp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Map;function xs(n){As(n instanceof Function,"Expected a class definition");let t=ex.get(n);return t?(As(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ex.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}uT.type="NONE";const nx=uT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n,t,e){return`firebase:${n}:${t}:${e}`}class Uo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=_f(this.userKey,r.apiKey,o),this.fullPersistenceKey=_f("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Pf(this.auth,{idToken:t}).catch(()=>{});return e?ai._fromGetAccountInfoResponse(this.auth,e,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Uo(xs(nx),t,i);const r=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=r[0]||xs(nx);const c=_f(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let v;if(typeof y=="string"){const b=await Pf(t,{idToken:y}).catch(()=>{});if(!b)break;v=await ai._fromGetAccountInfoResponse(t,b,y)}else v=ai._fromJSON(t,y);m!==o&&(h=v),o=m;break}}catch{}const f=r.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Uo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new Uo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pT(t))return"Blackberry";if(yT(t))return"Webos";if(fT(t))return"Safari";if((t.includes("chrome/")||dT(t))&&!t.includes("edge/"))return"Chrome";if(gT(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function hT(n=ln()){return/firefox\//i.test(n)}function fT(n=ln()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dT(n=ln()){return/crios\//i.test(n)}function mT(n=ln()){return/iemobile/i.test(n)}function gT(n=ln()){return/android/i.test(n)}function pT(n=ln()){return/blackberry/i.test(n)}function yT(n=ln()){return/webos/i.test(n)}function _y(n=ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _N(n=ln()){var t;return _y(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function vN(){return PC()&&document.documentMode===10}function _T(n=ln()){return _y(n)||gT(n)||yT(n)||pT(n)||/windows phone/i.test(n)||mT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,t=[]){let e;switch(n){case"Browser":e=ix(ln());break;case"Worker":e=`${ix(ln())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${nl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(n,t={}){return il(n,"GET","/v2/passwordPolicy",py(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=6;class wN{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:EN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sx(this),this.idTokenSubscription=new sx(this),this.beforeStateQueue=new bN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=xs(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Uo.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Pf(this,{idToken:t}),i=await ai._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(t);(!c||c===h)&&(f!=null&&f.user)&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Vf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=sN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(pr(this));const e=t?cn(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xN(this),e=new wN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new uu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await yN(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&xs(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Uo.create(this,[xs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&eN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sl(n){return cn(n)}class sx{constructor(t){this.auth=t,this.observer=null,this.addObserver=FC(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SN(n){vy=n}function AN(n){return vy.loadJS(n)}function RN(){return vy.gapiScript}function CN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(n,t){const e=hy(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Aa(o,t??{}))return r;ji(r,"already-initialized")}return e.initialize({options:t})}function NN(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(xs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function DN(n,t,e){const i=sl(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=bT(t),{host:c,port:h}=ON(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Aa(m,i.config.emulator)&&Aa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,cu(c)?(Qw(`${o}//${c}${f}`),Xw("Auth",!0)):MN()}function bT(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function ON(n){const t=bT(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:rx(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:rx(c)}}}function rx(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function MN(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return bs("not implemented")}_getIdTokenResponse(t){return bs("not implemented")}_linkToIdToken(t,e){return bs("not implemented")}_getReauthenticationResolver(t){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n,t){return lN(n,"POST","/v1/accounts:signInWithIdp",py(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="http://localhost";class Ca extends xT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ji("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=fy(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new Ca(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return zo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,zo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,zo(t,e)}buildRequest(){const t={requestUri:kN,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=hu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends fd{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends du{constructor(){super("facebook.com")}static credential(t){return Ca._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ca._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return _s.credentialFromTaggedObject(t)}static credentialFromError(t){return _s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return _s.credential(e,i)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends du{constructor(){super("github.com")}static credential(t){return Ca._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends du{constructor(){super("twitter.com")}static credential(t,e){return Ca._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return cr.credential(e,i)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await ai._fromIdTokenResponse(t,i,r),c=ax(i);return new Go({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=ax(i);return new Go({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function ax(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends Is{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Lf(t,e,i,r)}}function ET(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(n,o,t,i):o})}async function PN(n,t,e=!1){const i=await Qc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Go._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(n,t,e=!1){const{auth:i}=n;if($n(i.app))return Promise.reject(pr(i));const r="reauthenticate";try{const o=await Qc(n,ET(i,r,t,n),e);wt(o.idToken,i,"internal-error");const c=yy(o.idToken);wt(c,i,"internal-error");const{sub:h}=c;return wt(n.uid===h,i,"user-mismatch"),Go._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ji(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(n,t,e=!1){if($n(n.app))return Promise.reject(pr(n));const i="signIn",r=await ET(n,i,t),o=await Go._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}function jN(n,t,e,i){return cn(n).onIdTokenChanged(t,e,i)}function UN(n,t,e){return cn(n).beforeAuthStateChanged(t,e)}function wT(n,t,e,i){return cn(n).onAuthStateChanged(t,e,i)}function TT(n){return cn(n).signOut()}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=1e3,BN=10;class AT extends ST{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);vN()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,BN):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},zN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}AT.type="LOCAL";const HN=AT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends ST{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}RT.type="SESSION";const CT=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new dd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await FN(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=by("",20);r.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(v){const b=v;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return window}function GN(n){Pi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function YN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $N(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function KN(){return IT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="firebaseLocalStorageDb",QN=1,Uf="firebaseLocalStorage",DT="fbase_key";class mu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function md(n,t){return n.transaction([Uf],t?"readwrite":"readonly").objectStore(Uf)}function XN(){const n=indexedDB.deleteDatabase(NT);return new mu(n).toPromise()}function Ip(){const n=indexedDB.open(NT,QN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Uf,{keyPath:DT})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Uf)?t(i):(i.close(),await XN(),t(await Ip()))})})}async function ox(n,t,e){const i=md(n,!0).put({[DT]:t,value:e});return new mu(i).toPromise()}async function WN(n,t){const e=md(n,!1).get(t),i=await new mu(e).toPromise();return i===void 0?null:i.value}function lx(n,t){const e=md(n,!0).delete(t);return new mu(e).toPromise()}const ZN=800,JN=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>JN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(KN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await YN(),!this.activeServiceWorker)return;this.sender=new qN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$N()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ip();return await ox(t,jf,"1"),await lx(t,jf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>ox(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>WN(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>lx(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=md(r,!1).getAll();return new mu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const tD=OT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(n,t){return t?xs(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends xT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return zo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function eD(n){return LN(n.auth,new Ey(n),n.bypassAuthState)}function nD(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),VN(e,new Ey(n),n.bypassAuthState)}async function iD(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),PN(e,new Ey(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eD;case"linkViaPopup":case"linkViaRedirect":return iD;case"reauthViaPopup":case"reauthViaRedirect":return nD;default:ji(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new fu(2e3,1e4);async function rD(n,t,e){if($n(n.app))return Promise.reject(ui(n,"operation-not-supported-in-this-environment"));const i=sl(n);rT(n,t,fd);const r=xy(i,e);return new Ea(i,"signInViaPopup",t,r).executeNotNull()}class Ea extends MT{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=by();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sD.get())};t()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="pendingRedirect",vf=new Map;class oD extends MT{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=vf.get(this.auth._key());if(!t){try{const i=await lD(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}vf.set(this.auth._key(),t)}return this.bypassAuthState||vf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lD(n,t){const e=PT(t),i=kT(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}async function cD(n,t){return kT(n)._set(PT(t),"true")}function uD(n,t){vf.set(n._key(),t)}function kT(n){return xs(n._redirectPersistence)}function PT(n){return _f(aD,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n,t,e){return fD(n,t,e)}async function fD(n,t,e){if($n(n.app))return Promise.reject(pr(n));const i=sl(n);rT(n,t,fd),await i._initializationPromise;const r=xy(i,e);return await cD(r,i),r._openRedirect(i,t,"signInViaRedirect")}async function dD(n,t){return await sl(n)._initializationPromise,VT(n,t,!1)}async function VT(n,t,e=!1){if($n(n.app))return Promise.reject(pr(n));const i=sl(n),r=xy(i,t),c=await new oD(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=10*60*1e3;class gD{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!pD(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!LT(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(ui(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mD&&this.cachedEventUids.clear(),this.cachedEventUids.has(cx(t))}saveEventToCache(t){this.cachedEventUids.add(cx(t)),this.lastProcessedEventTime=Date.now()}}function cx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function LT({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function pD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(n,t={}){return il(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vD=/^https?/;async function bD(n){if(n.config.emulator)return;const{authorizedDomains:t}=await yD(n);for(const e of t)try{if(xD(e))return}catch{}ji(n,"unauthorized-domain")}function xD(n){const t=Rp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!vD.test(e))return!1;if(_D.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=new fu(3e4,6e4);function ux(){const n=Pi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function wD(n){return new Promise((t,e)=>{var i,r,o;function c(){ux(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ux(),e(ui(n,"network-request-failed"))},timeout:ED.get()})}if(!((r=(i=Pi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Pi().gapi)===null||o===void 0)&&o.load)c();else{const h=CN("iframefcb");return Pi()[h]=()=>{gapi.load?c():e(ui(n,"network-request-failed"))},AN(`${RN()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw bf=null,t})}let bf=null;function TD(n){return bf=bf||wD(n),bf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new fu(5e3,15e3),AD="__/auth/iframe",RD="emulator/auth/iframe",CD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ID=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ND(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?gy(t,RD):`https://${n.config.authDomain}/${AD}`,i={apiKey:t.apiKey,appName:n.name,v:nl},r=ID.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${hu(i).slice(1)}`}async function DD(n){const t=await TD(n),e=Pi().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:ND(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CD,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=ui(n,"network-request-failed"),h=Pi().setTimeout(()=>{o(c)},SD.get());function f(){Pi().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MD=500,kD=600,PD="_blank",VD="http://localhost";class hx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LD(n,t,e,i=MD,r=kD){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},OD),{width:i.toString(),height:r.toString(),top:o,left:c}),m=ln().toLowerCase();e&&(h=dT(m)?PD:e),hT(m)&&(t=t||VD,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[T,A])=>`${b}${T}=${A},`,"");if(_N(m)&&h!=="_self")return jD(t||"",h),new hx(null);const v=window.open(t||"",h,y);wt(v,n,"popup-blocked");try{v.focus()}catch{}return new hx(v)}function jD(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="__/auth/handler",zD="emulator/auth/handler",BD=encodeURIComponent("fac");async function fx(n,t,e,i,r,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:nl,eventId:r};if(t instanceof fd){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",HC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(t instanceof du){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${BD}=${encodeURIComponent(f)}`:"";return`${HD(n)}?${hu(h).slice(1)}${m}`}function HD({config:n}){return n.emulator?gy(n,zD):`https://${n.authDomain}/${UD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="webStorageSupport";class FD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CT,this._completeRedirectFn=VT,this._overrideRedirectResult=uD}async _openPopup(t,e,i,r){var o;As((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await fx(t,e,i,Rp(),r);return LD(t,c,by())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await fx(t,e,i,Rp(),r);return GN(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(As(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await DD(t),i=new gD(t);return e.register("authEvent",r=>(wt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Jg,{type:Jg},r=>{var o;const c=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Jg];c!==void 0&&e(!!c),ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=bD(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return _T()||fT()||_y()}}const qD=FD;var dx="@firebase/auth",mx="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $D(n){qo(new Ra("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(n)},m=new TN(i,r,o,f);return NN(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),qo(new Ra("auth-internal",t=>{const e=sl(t.getProvider("auth").getImmediate());return(i=>new GD(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(dx,mx,YD(n)),gr(dx,mx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=5*60,QD=Kw("authIdTokenMaxAge")||KD;let gx=null;const XD=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>QD)return;const r=e==null?void 0:e.token;gx!==r&&(gx=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function WD(n=tT()){const t=hy(n,"auth");if(t.isInitialized())return t.getImmediate();const e=IN(n,{popupRedirectResolver:qD,persistence:[tD,HN,CT]}),i=Kw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=XD(o.toString());UN(e,c,()=>c(e.currentUser)),jN(e,h=>c(h))}}const r=Yw("auth");return r&&DN(e,`http://${r}`),e}function ZD(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}SN({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=ui("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",ZD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$D("Browser");var JD="firebase",tO="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(JD,tO,"app");var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yr,jT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,C){function D(){}D.prototype=C.prototype,O.D=C.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(P,V,U){for(var M=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)M[Zt-2]=arguments[Zt];return C.prototype[V].apply(P,M)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,C,D){D||(D=0);var P=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)P[V]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(V=0;16>V;++V)P[V]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=O.g[0],D=O.g[1],V=O.g[2];var U=O.g[3],M=C+(U^D&(V^U))+P[0]+3614090360&4294967295;C=D+(M<<7&4294967295|M>>>25),M=U+(V^C&(D^V))+P[1]+3905402710&4294967295,U=C+(M<<12&4294967295|M>>>20),M=V+(D^U&(C^D))+P[2]+606105819&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(C^V&(U^C))+P[3]+3250441966&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(U^D&(V^U))+P[4]+4118548399&4294967295,C=D+(M<<7&4294967295|M>>>25),M=U+(V^C&(D^V))+P[5]+1200080426&4294967295,U=C+(M<<12&4294967295|M>>>20),M=V+(D^U&(C^D))+P[6]+2821735955&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(C^V&(U^C))+P[7]+4249261313&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(U^D&(V^U))+P[8]+1770035416&4294967295,C=D+(M<<7&4294967295|M>>>25),M=U+(V^C&(D^V))+P[9]+2336552879&4294967295,U=C+(M<<12&4294967295|M>>>20),M=V+(D^U&(C^D))+P[10]+4294925233&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(C^V&(U^C))+P[11]+2304563134&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(U^D&(V^U))+P[12]+1804603682&4294967295,C=D+(M<<7&4294967295|M>>>25),M=U+(V^C&(D^V))+P[13]+4254626195&4294967295,U=C+(M<<12&4294967295|M>>>20),M=V+(D^U&(C^D))+P[14]+2792965006&4294967295,V=U+(M<<17&4294967295|M>>>15),M=D+(C^V&(U^C))+P[15]+1236535329&4294967295,D=V+(M<<22&4294967295|M>>>10),M=C+(V^U&(D^V))+P[1]+4129170786&4294967295,C=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(C^D))+P[6]+3225465664&4294967295,U=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(U^C))+P[11]+643717713&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^C&(V^U))+P[0]+3921069994&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(V^U&(D^V))+P[5]+3593408605&4294967295,C=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(C^D))+P[10]+38016083&4294967295,U=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(U^C))+P[15]+3634488961&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^C&(V^U))+P[4]+3889429448&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(V^U&(D^V))+P[9]+568446438&4294967295,C=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(C^D))+P[14]+3275163606&4294967295,U=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(U^C))+P[3]+4107603335&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^C&(V^U))+P[8]+1163531501&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(V^U&(D^V))+P[13]+2850285829&4294967295,C=D+(M<<5&4294967295|M>>>27),M=U+(D^V&(C^D))+P[2]+4243563512&4294967295,U=C+(M<<9&4294967295|M>>>23),M=V+(C^D&(U^C))+P[7]+1735328473&4294967295,V=U+(M<<14&4294967295|M>>>18),M=D+(U^C&(V^U))+P[12]+2368359562&4294967295,D=V+(M<<20&4294967295|M>>>12),M=C+(D^V^U)+P[5]+4294588738&4294967295,C=D+(M<<4&4294967295|M>>>28),M=U+(C^D^V)+P[8]+2272392833&4294967295,U=C+(M<<11&4294967295|M>>>21),M=V+(U^C^D)+P[11]+1839030562&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^C)+P[14]+4259657740&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(D^V^U)+P[1]+2763975236&4294967295,C=D+(M<<4&4294967295|M>>>28),M=U+(C^D^V)+P[4]+1272893353&4294967295,U=C+(M<<11&4294967295|M>>>21),M=V+(U^C^D)+P[7]+4139469664&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^C)+P[10]+3200236656&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(D^V^U)+P[13]+681279174&4294967295,C=D+(M<<4&4294967295|M>>>28),M=U+(C^D^V)+P[0]+3936430074&4294967295,U=C+(M<<11&4294967295|M>>>21),M=V+(U^C^D)+P[3]+3572445317&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^C)+P[6]+76029189&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(D^V^U)+P[9]+3654602809&4294967295,C=D+(M<<4&4294967295|M>>>28),M=U+(C^D^V)+P[12]+3873151461&4294967295,U=C+(M<<11&4294967295|M>>>21),M=V+(U^C^D)+P[15]+530742520&4294967295,V=U+(M<<16&4294967295|M>>>16),M=D+(V^U^C)+P[2]+3299628645&4294967295,D=V+(M<<23&4294967295|M>>>9),M=C+(V^(D|~U))+P[0]+4096336452&4294967295,C=D+(M<<6&4294967295|M>>>26),M=U+(D^(C|~V))+P[7]+1126891415&4294967295,U=C+(M<<10&4294967295|M>>>22),M=V+(C^(U|~D))+P[14]+2878612391&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~C))+P[5]+4237533241&4294967295,D=V+(M<<21&4294967295|M>>>11),M=C+(V^(D|~U))+P[12]+1700485571&4294967295,C=D+(M<<6&4294967295|M>>>26),M=U+(D^(C|~V))+P[3]+2399980690&4294967295,U=C+(M<<10&4294967295|M>>>22),M=V+(C^(U|~D))+P[10]+4293915773&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~C))+P[1]+2240044497&4294967295,D=V+(M<<21&4294967295|M>>>11),M=C+(V^(D|~U))+P[8]+1873313359&4294967295,C=D+(M<<6&4294967295|M>>>26),M=U+(D^(C|~V))+P[15]+4264355552&4294967295,U=C+(M<<10&4294967295|M>>>22),M=V+(C^(U|~D))+P[6]+2734768916&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~C))+P[13]+1309151649&4294967295,D=V+(M<<21&4294967295|M>>>11),M=C+(V^(D|~U))+P[4]+4149444226&4294967295,C=D+(M<<6&4294967295|M>>>26),M=U+(D^(C|~V))+P[11]+3174756917&4294967295,U=C+(M<<10&4294967295|M>>>22),M=V+(C^(U|~D))+P[2]+718787259&4294967295,V=U+(M<<15&4294967295|M>>>17),M=D+(U^(V|~C))+P[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+U&4294967295}i.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var D=C-this.blockSize,P=this.B,V=this.h,U=0;U<C;){if(V==0)for(;U<=D;)r(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<C;)if(P[V++]=O.charCodeAt(U++),V==this.blockSize){r(this,P),V=0;break}}else for(;U<C;)if(P[V++]=O[U++],V==this.blockSize){r(this,P),V=0;break}}this.h=V,this.o+=C},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var D=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=D&255,D/=256;for(this.u(O),O=Array(16),C=D=0;4>C;++C)for(var P=0;32>P;P+=8)O[D++]=this.g[C]>>>P&255;return O};function o(O,C){var D=h;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=C(O)}function c(O,C){this.h=C;for(var D=[],P=!0,V=O.length-1;0<=V;V--){var U=O[V]|0;P&&U==C||(D[V]=U,P=!1)}this.g=D}var h={};function f(O){return-128<=O&&128>O?o(O,function(C){return new c([C|0],0>C?-1:0)}):new c([O|0],0>O?-1:0)}function m(O){if(isNaN(O)||!isFinite(O))return v;if(0>O)return N(m(-O));for(var C=[],D=1,P=0;O>=D;P++)C[P]=O/D|0,D*=4294967296;return new c(C,0)}function y(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return N(y(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(C,8)),P=v,V=0;V<O.length;V+=8){var U=Math.min(8,O.length-V),M=parseInt(O.substring(V,V+U),C);8>U?(U=m(Math.pow(C,U)),P=P.j(U).add(m(M))):(P=P.j(D),P=P.add(m(M)))}return P}var v=f(0),b=f(1),T=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-N(this).m();for(var O=0,C=1,D=0;D<this.g.length;D++){var P=this.i(D);O+=(0<=P?P:4294967296+P)*C,C*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(I(this))return"-"+N(this).toString(O);for(var C=m(Math.pow(O,6)),D=this,P="";;){var V=st(D,C).g;D=L(D,V.j(C));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=V,A(D))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function I(O){return O.h==-1}n.l=function(O){return O=L(this,O),I(O)?-1:A(O)?0:1};function N(O){for(var C=O.g.length,D=[],P=0;P<C;P++)D[P]=~O.g[P];return new c(D,~O.h).add(b)}n.abs=function(){return I(this)?N(this):this},n.add=function(O){for(var C=Math.max(this.g.length,O.g.length),D=[],P=0,V=0;V<=C;V++){var U=P+(this.i(V)&65535)+(O.i(V)&65535),M=(U>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);P=M>>>16,U&=65535,M&=65535,D[V]=M<<16|U}return new c(D,D[D.length-1]&-2147483648?-1:0)};function L(O,C){return O.add(N(C))}n.j=function(O){if(A(this)||A(O))return v;if(I(this))return I(O)?N(this).j(N(O)):N(N(this).j(O));if(I(O))return N(this.j(N(O)));if(0>this.l(T)&&0>O.l(T))return m(this.m()*O.m());for(var C=this.g.length+O.g.length,D=[],P=0;P<2*C;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<O.g.length;V++){var U=this.i(P)>>>16,M=this.i(P)&65535,Zt=O.i(V)>>>16,St=O.i(V)&65535;D[2*P+2*V]+=M*St,B(D,2*P+2*V),D[2*P+2*V+1]+=U*St,B(D,2*P+2*V+1),D[2*P+2*V+1]+=M*Zt,B(D,2*P+2*V+1),D[2*P+2*V+2]+=U*Zt,B(D,2*P+2*V+2)}for(P=0;P<C;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=C;P<2*C;P++)D[P]=0;return new c(D,0)};function B(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function X(O,C){this.g=O,this.h=C}function st(O,C){if(A(C))throw Error("division by zero");if(A(O))return new X(v,v);if(I(O))return C=st(N(O),C),new X(N(C.g),N(C.h));if(I(C))return C=st(O,N(C)),new X(N(C.g),C.h);if(30<O.g.length){if(I(O)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var D=b,P=C;0>=P.l(O);)D=J(D),P=J(P);var V=lt(D,1),U=lt(P,1);for(P=lt(P,2),D=lt(D,2);!A(P);){var M=U.add(P);0>=M.l(O)&&(V=V.add(D),U=M),P=lt(P,1),D=lt(D,1)}return C=L(O,V.j(C)),new X(V,C)}for(V=v;0<=O.l(C);){for(D=Math.max(1,Math.floor(O.m()/C.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=m(D),M=U.j(C);I(M)||0<M.l(O);)D-=P,U=m(D),M=U.j(C);A(U)&&(U=b),V=V.add(U),O=L(O,M)}return new X(V,O)}n.A=function(O){return st(this,O).h},n.and=function(O){for(var C=Math.max(this.g.length,O.g.length),D=[],P=0;P<C;P++)D[P]=this.i(P)&O.i(P);return new c(D,this.h&O.h)},n.or=function(O){for(var C=Math.max(this.g.length,O.g.length),D=[],P=0;P<C;P++)D[P]=this.i(P)|O.i(P);return new c(D,this.h|O.h)},n.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),D=[],P=0;P<C;P++)D[P]=this.i(P)^O.i(P);return new c(D,this.h^O.h)};function J(O){for(var C=O.g.length+1,D=[],P=0;P<C;P++)D[P]=O.i(P)<<1|O.i(P-1)>>>31;return new c(D,O.h)}function lt(O,C){var D=C>>5;C%=32;for(var P=O.g.length-D,V=[],U=0;U<P;U++)V[U]=0<C?O.i(U+D)>>>C|O.i(U+D+1)<<32-C:O.i(U+D);return new c(V,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,jT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,yr=c}).apply(typeof px<"u"?px:typeof self<"u"?self:typeof window<"u"?window:{});var Xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UT,Ic,zT,xf,Np,BT,HT,FT;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,E){return d==Array.prototype||d==Object.prototype||(d[_]=E.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xh=="object"&&Xh];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(d,_){if(_)t:{var E=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var q=d[R];if(!(q in E))break t;E=E[q]}d=d[d.length-1],R=E[d],_=_(R),_!=R&&_!=null&&t(E,d,{configurable:!0,writable:!0,value:_})}}function o(d,_){d instanceof String&&(d+="");var E=0,R=!1,q={next:function(){if(!R&&E<d.length){var W=E++;return{value:_(W,d[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(d){return d||function(){return o(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function m(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function y(d,_,E){return d.call.apply(d.bind,arguments)}function v(d,_,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),d.apply(_,q)}}return function(){return d.apply(_,arguments)}}function b(d,_,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:v,b.apply(null,arguments)}function T(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function A(d,_){function E(){}E.prototype=_.prototype,d.aa=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,q,W){for(var ct=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ct[Lt-2]=arguments[Lt];return _.prototype[q].apply(R,ct)}}function I(d){const _=d.length;if(0<_){const E=Array(_);for(let R=0;R<_;R++)E[R]=d[R];return E}return[]}function N(d,_){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(f(R)){const q=d.length||0,W=R.length||0;d.length=q+W;for(let ct=0;ct<W;ct++)d[q+ct]=R[ct]}else d.push(R)}}class L{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(d){return/^[\s\xa0]*$/.test(d)}function X(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function st(d){return st[" "](d),d}st[" "]=function(){};var J=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function lt(d,_,E){for(const R in d)_.call(E,d[R],R,d)}function O(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function C(d){const _={};for(const E in d)_[E]=d[E];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,_){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)d[E]=R[E];for(let W=0;W<D.length;W++)E=D[W],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function V(d){var _=1;d=d.split(":");const E=[];for(;0<_&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function U(d){h.setTimeout(()=>{throw d},0)}function M(){var d=kt;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Zt{constructor(){this.h=this.g=null}add(_,E){const R=St.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var St=new L(()=>new Q,d=>d.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,mt=!1,kt=new Zt,j=()=>{const d=h.Promise.resolve(void 0);ot=()=>{d.then(it)}};var it=()=>{for(var d;d=M();){try{d.h.call(d.g)}catch(E){U(E)}var _=St;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}mt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,_),h.removeEventListener("test",E,_)}catch{}return d}();function At(d,_){if(at.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(J){t:{try{st(_.nodeName);var q=!0;break t}catch{}q=!1}q||(_=null)}}else E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:yt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&At.aa.h.call(this)}}A(At,at);var yt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),re=0;function mi(d,_,E,R,q){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=q,this.key=++re,this.da=this.fa=!1}function Ns(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Hi(d){this.src=d,this.g={},this.h=0}Hi.prototype.add=function(d,_,E,R,q){var W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);var ct=kr(d,_,R,q);return-1<ct?(_=d[ct],E||(_.fa=!1)):(_=new mi(_,this.src,W,!!R,q),_.fa=E,d.push(_)),_};function Mr(d,_){var E=_.type;if(E in d.g){var R=d.g[E],q=Array.prototype.indexOf.call(R,_,void 0),W;(W=0<=q)&&Array.prototype.splice.call(R,q,1),W&&(Ns(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function kr(d,_,E,R){for(var q=0;q<d.length;++q){var W=d[q];if(!W.da&&W.listener==_&&W.capture==!!E&&W.ha==R)return q}return-1}var Pr="closure_lm_"+(1e6*Math.random()|0),fl={};function Tu(d,_,E,R,q){if(Array.isArray(_)){for(var W=0;W<_.length;W++)Tu(d,_[W],E,R,q);return null}return E=Su(E),d&&d[Le]?d.K(_,E,m(R)?!!R.capture:!1,q):Mn(d,_,E,!1,R,q)}function Mn(d,_,E,R,q,W){if(!_)throw Error("Invalid event type");var ct=m(q)?!!q.capture:!!q,Lt=ja(d);if(Lt||(d[Pr]=Lt=new Hi(d)),E=Lt.add(_,E,R,ct,W),E.proxy)return E;if(R=Ud(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)dt||(q=ct),q===void 0&&(q=!1),d.addEventListener(_.toString(),R,q);else if(d.attachEvent)d.attachEvent(Vr(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ud(){function d(E){return _.call(d.src,d.listener,E)}const _=zd;return d}function dl(d,_,E,R,q){if(Array.isArray(_))for(var W=0;W<_.length;W++)dl(d,_[W],E,R,q);else R=m(R)?!!R.capture:!!R,E=Su(E),d&&d[Le]?(d=d.i,_=String(_).toString(),_ in d.g&&(W=d.g[_],E=kr(W,E,R,q),-1<E&&(Ns(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete d.g[_],d.h--)))):d&&(d=ja(d))&&(_=d.g[_.toString()],d=-1,_&&(d=kr(_,E,R,q)),(E=-1<d?_[d]:null)&&La(E))}function La(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[Le])Mr(_.i,d);else{var E=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(E,R,d.capture):_.detachEvent?_.detachEvent(Vr(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=ja(_))?(Mr(E,d),E.h==0&&(E.src=null,_[Pr]=null)):Ns(d)}}}function Vr(d){return d in fl?fl[d]:fl[d]="on"+d}function zd(d,_){if(d.da)d=!0;else{_=new At(_,this);var E=d.listener,R=d.ha||d.src;d.fa&&La(d),d=E.call(R,_)}return d}function ja(d){return d=d[Pr],d instanceof Hi?d:null}var ml="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(d){return typeof d=="function"?d:(d[ml]||(d[ml]=function(_){return d.handleEvent(_)}),d[ml])}function me(){ut.call(this),this.i=new Hi(this),this.M=this,this.F=null}A(me,ut),me.prototype[Le]=!0,me.prototype.removeEventListener=function(d,_,E,R){dl(this,d,_,E,R)};function $t(d,_){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new at(_,d);else if(_ instanceof at)_.target=_.target||d;else{var q=_;_=new at(R,d),P(_,q)}if(q=!0,E)for(var W=E.length-1;0<=W;W--){var ct=_.g=E[W];q=En(ct,R,!0,_)&&q}if(ct=_.g=d,q=En(ct,R,!0,_)&&q,q=En(ct,R,!1,_)&&q,E)for(W=0;W<E.length;W++)ct=_.g=E[W],q=En(ct,R,!1,_)&&q}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var E=d.g[_],R=0;R<E.length;R++)Ns(E[R]);delete d.g[_],d.h--}}this.F=null},me.prototype.K=function(d,_,E,R){return this.i.add(String(d),_,!1,E,R)},me.prototype.L=function(d,_,E,R){return this.i.add(String(d),_,!0,E,R)};function En(d,_,E,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,W=0;W<_.length;++W){var ct=_[W];if(ct&&!ct.da&&ct.capture==E){var Lt=ct.listener,Ie=ct.ha||ct.src;ct.fa&&Mr(d.i,ct),q=Lt.call(Ie,R)!==!1&&q}}return q&&!R.defaultPrevented}function Ze(d,_,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function Au(d){d.g=Ze(()=>{d.g=null,d.i&&(d.i=!1,Au(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class Bd extends ut{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(d){ut.call(this),this.h=d,this.g={}}A(Lr,ut);var jr=[];function Ur(d){lt(d.g,function(_,E){this.g.hasOwnProperty(E)&&La(_)},d),d.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Ur(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ti=h.JSON.stringify,Ua=h.JSON.parse,zr=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function gl(){}gl.prototype.h=null;function pl(d){return d.h||(d.h=d.i())}function yl(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){at.call(this,"d")}A(qi,at);function _l(){at.call(this,"c")}A(_l,at);var gi={},vl=null;function Ds(){return vl=vl||new me}gi.La="serverreachability";function za(d){at.call(this,gi.La,d)}A(za,at);function Os(d){const _=Ds();$t(_,new za(_))}gi.STAT_EVENT="statevent";function Ru(d,_){at.call(this,gi.STAT_EVENT,d),this.stat=_}A(Ru,at);function le(d){const _=Ds();$t(_,new Ru(_,d))}gi.Ma="timingevent";function Ce(d,_){at.call(this,gi.Ma,d),this.size=_}A(Ce,at);function Ee(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function bl(d,_,E,R,q,W){d.info(function(){if(d.g)if(W)for(var ct="",Lt=W.split("&"),Ie=0;Ie<Lt.length;Ie++){var jt=Lt[Ie].split("=");if(1<jt.length){var Ue=jt[0];jt=jt[1];var Ne=Ue.split("_");ct=2<=Ne.length&&Ne[1]=="type"?ct+(Ue+"="+jt+"&"):ct+(Ue+"=redacted&")}}else ct=null;else ct=W;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+_+`
`+E+`
`+ct})}function Hd(d,_,E,R,q,W,ct){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+_+`
`+E+`
`+W+" "+ct})}function Ms(d,_,E,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Br(d,E)+(R?" "+R:"")})}function Cu(d,_){d.info(function(){return"TIMEOUT: "+_})}kn.prototype.info=function(){};function Br(d,_){if(!d.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var W=q[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ct=1;ct<q.length;ct++)q[ct]=""}}}}return ti(E)}catch{return _}}var ks={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pi;function yi(){}A(yi,gl),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},pi=new yi;function un(d,_,E,R){this.j=d,this.i=_,this.l=E,this.R=R||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ye}function ye(){this.i=null,this.g="",this.h=!1}var xl={},Ba={};function ei(d,_,E){d.L=1,d.v=Yr(wn(_)),d.m=E,d.P=!0,Yi(d,null)}function Yi(d,_){d.F=Date.now(),Hr(d),d.A=wn(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Rl(E.i,"t",R),d.C=0,E=d.j.J,d.h=new ye,d.g=qu(d.j,E?_:null,!d.m),0<d.O&&(d.M=new Bd(b(d.Y,d,d.g),d.O)),_=d.U,E=d.g,R=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(jr[0]=q.toString()),q=jr);for(var W=0;W<q.length;W++){var ct=Tu(E,q[W],R||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Os(),bl(d.i,d.u,d.A,d.l,d.R,d.m)}un.prototype.ca=function(d){d=d.target;const _=this.M;_&&jn(d)==3?_.j():this.Y(d)},un.prototype.Y=function(d){try{if(d==this.g)t:{const Ne=jn(this.g);var _=this.g.Ba();const ts=this.g.Z();if(!(3>Ne)&&(Ne!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||Ne!=4||_==7||(_==8||0>=ts?Os(3):Os(2)),Ps(this);var E=this.g.Z();this.X=E;e:if(Iu(this)){var R=Vu(this.g);d="";var q=R.length,W=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),_i(this);var ct="";break e}this.h.i=new h.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(W&&_==q-1)});R.length=0,this.h.g+=d,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=E==200,Hd(this.i,this.u,this.A,this.l,this.R,Ne,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ie=this.g;if((Lt=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Lt)){var jt=Lt;break e}}jt=null}if(E=jt)Ms(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fr(this,E);else{this.o=!1,this.s=3,le(12),Ye(this),_i(this);break t}}if(this.P){E=!0;let $e;for(;!this.J&&this.C<ct.length;)if($e=Nu(this,ct),$e==Ba){Ne==4&&(this.s=4,le(14),E=!1),Ms(this.i,this.l,null,"[Incomplete Response]");break}else if($e==xl){this.s=4,le(15),Ms(this.i,this.l,ct,"[Invalid Chunk]"),E=!1;break}else Ms(this.i,this.l,$e,null),Fr(this,$e);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||ct.length!=0||this.h.h||(this.s=1,le(16),E=!1),this.o=this.o&&E,!E)Ms(this.i,this.l,ct,"[Invalid Chunked Response]"),Ye(this),_i(this);else if(0<ct.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),ta(Ue),Ue.M=!0,le(11))}}else Ms(this.i,this.l,ct,null),Fr(this,ct);Ne==4&&Ye(this),this.o&&!this.J&&(Ne==4?Bu(this.j,this):(this.o=!1,Hr(this)))}else $d(this.g),E==400&&0<ct.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Ye(this),_i(this)}}}catch{}finally{}};function Iu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Nu(d,_){var E=d.C,R=_.indexOf(`
`,E);return R==-1?Ba:(E=Number(_.substring(E,R)),isNaN(E)?xl:(R+=1,R+E>_.length?Ba:(_=_.slice(R,R+E),d.C=R+E,_)))}un.prototype.cancel=function(){this.J=!0,Ye(this)};function Hr(d){d.S=Date.now()+d.I,Du(d,d.I)}function Du(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ee(b(d.ba,d),_)}function Ps(d){d.B&&(h.clearTimeout(d.B),d.B=null)}un.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Cu(this.i,this.A),this.L!=2&&(Os(),le(17)),Ye(this),this.s=2,_i(this)):Du(this,this.S-d)};function _i(d){d.j.G==0||d.J||Bu(d.j,d)}function Ye(d){Ps(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Ur(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Fr(d,_){try{var E=d.j;if(E.G!=0&&(E.g==d||El(E.h,d))){if(!d.K&&El(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Ja(E),Wa(E);else break t;Ol(E),le(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ee(b(E.Za,E),6e3));if(1>=Fa(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ji(E,11)}else if((d.K||E.g==d)&&Ja(E),!B(_))for(q=E.Da.g.parse(_),_=0;_<q.length;_++){let jt=q[_];if(E.T=jt[0],jt=jt[1],E.G==2)if(jt[0]=="c"){E.K=jt[1],E.ia=jt[2];const Ue=jt[3];Ue!=null&&(E.la=Ue,E.j.info("VER="+E.la));const Ne=jt[4];Ne!=null&&(E.Aa=Ne,E.j.info("SVER="+E.Aa));const ts=jt[5];ts!=null&&typeof ts=="number"&&0<ts&&(R=1.5*ts,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const $e=d.g;if($e){const Si=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var W=R.h;W.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(qa(W,W.h),W.h=null))}if(R.D){const kl=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(R.ya=kl,Jt(R.I,R.D,kl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ct=d;if(R.qa=Fu(R,R.J?R.ia:null,R.W),ct.K){hn(R.h,ct);var Lt=ct,Ie=R.L;Ie&&(Lt.I=Ie),Lt.B&&(Ps(Lt),Hr(Lt)),R.g=ct}else Uu(R);0<E.i.length&&Za(E)}else jt[0]!="stop"&&jt[0]!="close"||Ji(E,7);else E.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Ji(E,7):Nl(E):jt[0]!="noop"&&E.l&&E.l.ta(jt),E.v=0)}}Os(4)}catch{}}var Ou=class{constructor(d,_){this.g=d,this.map=_}};function $i(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ha(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Fa(d){return d.h?1:d.g?d.g.size:0}function El(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function qa(d,_){d.g?d.g.add(_):d.h=_}function hn(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}$i.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function wl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.D);return _}return I(d.i)}function Fd(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],E=d.length,R=0;R<E;R++)_.push(d[R]);return _}_=[],E=0;for(R in d)_[E++]=d[R];return _}function Ga(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var E=0;E<d;E++)_.push(E);return _}_=[],E=0;for(const R in d)_[E++]=R;return _}}}function Tl(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var E=Ga(d),R=Fd(d),q=R.length,W=0;W<q;W++)_.call(void 0,R[W],E&&E[W],d)}var qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qd(d,_){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),q=null;if(0<=R){var W=d[E].substring(0,R);q=d[E].substring(R+1)}else W=d[E];_(W,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function we(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof we){this.h=d.h,Gr(this,d.j),this.o=d.o,this.g=d.g,Vs(this,d.s),this.l=d.l;var _=d.i,E=new Qi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ki(this,E),this.m=d.m}else d&&(_=String(d).match(qr))?(this.h=!1,Gr(this,_[1]||"",!0),this.o=Pn(_[2]||""),this.g=Pn(_[3]||"",!0),Vs(this,_[4]),this.l=Pn(_[5]||"",!0),Ki(this,_[6]||"",!0),this.m=Pn(_[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}we.prototype.toString=function(){var d=[],_=this.j;_&&d.push($r(_,Sl,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push($r(_,Sl,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push($r(E,E.charAt(0)=="/"?Gd:Al,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",$r(E,Ya)),d.join("")};function wn(d){return new we(d)}function Gr(d,_,E){d.j=E?Pn(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Vs(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Ki(d,_,E){_ instanceof Qi?(d.i=_,ku(d.i,d.h)):(E||(_=$r(_,Yd)),d.i=new Qi(_,d.h))}function Jt(d,_,E){d.i.set(_,E)}function Yr(d){return Jt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Pn(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function $r(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,Mu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Mu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Sl=/[#\/\?@]/g,Al=/[#\?:]/g,Gd=/[#\?]/g,Yd=/[#\?@]/g,Ya=/#/g;function Qi(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function Vn(d){d.g||(d.g=new Map,d.h=0,d.i&&qd(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Qi.prototype,n.add=function(d,_){Vn(this),this.i=null,d=vi(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function Xi(d,_){Vn(d),_=vi(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Wi(d,_){return Vn(d),_=vi(d,_),d.g.has(_)}n.forEach=function(d,_){Vn(this),this.g.forEach(function(E,R){E.forEach(function(q){d.call(_,q,R,this)},this)},this)},n.na=function(){Vn(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let R=0;R<_.length;R++){const q=d[R];for(let W=0;W<q.length;W++)E.push(_[R])}return E},n.V=function(d){Vn(this);let _=[];if(typeof d=="string")Wi(this,d)&&(_=_.concat(this.g.get(vi(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)_=_.concat(d[E])}return _},n.set=function(d,_){return Vn(this),this.i=null,d=vi(this,d),Wi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Rl(d,_,E){Xi(d,_),0<E.length&&(d.i=null,d.g.set(vi(d,_),I(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var R=_[E];const W=encodeURIComponent(String(R)),ct=this.V(R);for(R=0;R<ct.length;R++){var q=W;ct[R]!==""&&(q+="="+encodeURIComponent(String(ct[R]))),d.push(q)}}return this.i=d.join("&")};function vi(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function ku(d,_){_&&!d.j&&(Vn(d),d.i=null,d.g.forEach(function(E,R){var q=R.toLowerCase();R!=q&&(Xi(this,R),Rl(this,q,E))},d)),d.j=_}function Kr(d,_){const E=new kn;if(h.Image){const R=new Image;R.onload=T(Ln,E,"TestLoadImage: loaded",!0,_,R),R.onerror=T(Ln,E,"TestLoadImage: error",!1,_,R),R.onabort=T(Ln,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=T(Ln,E,"TestLoadImage: timeout",!1,_,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function ni(d,_){const E=new kn,R=new AbortController,q=setTimeout(()=>{R.abort(),Ln(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(W=>{clearTimeout(q),W.ok?Ln(E,"TestPingServer: ok",!0,_):Ln(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Ln(E,"TestPingServer: error",!1,_)})}function Ln(d,_,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function Qr(){this.g=new zr}function bi(d,_,E){const R=E||"";try{Tl(d,function(q,W){let ct=q;m(q)&&(ct=ti(q)),_.push(R+W+"="+encodeURIComponent(ct))})}catch(q){throw _.push(R+"type="+encodeURIComponent("_badmap")),q}}function Ls(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Ls,gl),Ls.prototype.g=function(){return new Zi(this.l,this.j)},Ls.prototype.i=function(d){return function(){return d}}({});function Zi(d,_){me.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Zi,me),n=Zi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Ei(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?xi(this):Ei(this),this.readyState==3&&Cl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,xi(this))},n.Qa=function(d){this.g&&(this.response=d,xi(this))},n.ga=function(){this.g&&xi(this)};function xi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Ei(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function Ei(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Il(d){let _="";return lt(d,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function je(d,_,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=Il(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Jt(d,_,E))}function Gt(d){me.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Gt,me);var $a=/^https?$/i,Xr=["POST","PUT"];n=Gt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pi.g(),this.v=this.o?pl(this.o):pl(pi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(W){Pu(this,W);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())E.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),q=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Xr,_,void 0))||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ct]of E)this.g.setRequestHeader(W,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(d),this.u=!1}catch(W){Pu(this,W)}};function Pu(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Ka(d),wi(d)}function Ka(d){d.A||(d.A=!0,$t(d,"complete"),$t(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,$t(this,"complete"),$t(this,"abort"),wi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),Gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(d){if(d.h&&typeof c<"u"&&(!d.v[1]||jn(d)!=4||d.Z()!=2)){if(d.u&&jn(d)==4)Ze(d.Ea,0,d);else if($t(d,"readystatechange"),jn(d)==4){d.h=!1;try{const ct=d.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var R;if(R=ct===0){var q=String(d.D).match(qr)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),R=!$a.test(q?q.toLowerCase():"")}E=R}if(E)$t(d,"complete"),$t(d,"success");else{d.m=6;try{var W=2<jn(d)?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.Z()+"]",Ka(d)}}finally{wi(d)}}}}function wi(d,_){if(d.g){Wr(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||$t(d,"ready");try{E.onreadystatechange=R}catch{}}}function Wr(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function jn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ua(_)}};function Vu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function $d(d){const _={};d=(d.g&&2<=jn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(B(d[R]))continue;var E=V(d[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=_[q]||[];_[q]=W,W.push(E)}O(_,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Xa(d){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,d),this.cb=Zr("retryDelaySeedMs",1e4,d),this.Wa=Zr("forwardChannelMaxRetries",2,d),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new $i(d&&d.concurrentRequestLimit),this.Da=new Qr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xa.prototype,n.la=8,n.G=1,n.connect=function(d,_,E,R){le(0),this.W=d,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Fu(this,null,this.W),Za(this)};function Nl(d){if(Lu(d),d.G==3){var _=d.U++,E=wn(d.I);if(Jt(E,"SID",d.K),Jt(E,"RID",_),Jt(E,"TYPE","terminate"),Jr(d,E),_=new un(d,d.j,_),_.L=2,_.v=Yr(wn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=_.v,E=!0),E||(_.g=qu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Hr(_)}Hu(d)}function Wa(d){d.g&&(ta(d),d.g.cancel(),d.g=null)}function Lu(d){Wa(d),d.u&&(h.clearTimeout(d.u),d.u=null),Ja(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Za(d){if(!Ha(d.h)&&!d.s){d.s=!0;var _=d.Ga;ot||j(),mt||(ot(),mt=!0),kt.add(_,d),d.B=0}}function Kd(d,_){return Fa(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ee(b(d.Ga,d,_),Ml(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new un(this,this.j,d);let W=this.o;if(this.S&&(W?(W=C(W),P(W,this.S)):W=this.S),this.m!==null||this.O||(q.H=W,W=null),this.P)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=ju(this,q,_),E=wn(this.I),Jt(E,"RID",d),Jt(E,"CVER",22),this.D&&Jt(E,"X-HTTP-Session-Id",this.D),Jr(this,E),W&&(this.O?_="headers="+encodeURIComponent(String(Il(W)))+"&"+_:this.m&&je(E,this.m,W)),qa(this.h,q),this.Ua&&Jt(E,"TYPE","init"),this.P?(Jt(E,"$req",_),Jt(E,"SID","null"),q.T=!0,ei(q,E,null)):ei(q,E,_),this.G=2}}else this.G==3&&(d?Dl(this,d):this.i.length==0||Ha(this.h)||Dl(this))};function Dl(d,_){var E;_?E=_.l:E=d.U++;const R=wn(d.I);Jt(R,"SID",d.K),Jt(R,"RID",E),Jt(R,"AID",d.T),Jr(d,R),d.m&&d.o&&je(R,d.m,d.o),E=new un(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),_&&(d.i=_.D.concat(d.i)),_=ju(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),qa(d.h,E),ei(E,R,_)}function Jr(d,_){d.H&&lt(d.H,function(E,R){Jt(_,R,E)}),d.l&&Tl({},function(E,R){Jt(_,R,E)})}function ju(d,_,E){E=Math.min(d.i.length,E);var R=d.l?b(d.l.Na,d.l,d):null;t:{var q=d.i;let W=-1;for(;;){const ct=["count="+E];W==-1?0<E?(W=q[0].g,ct.push("ofs="+W)):W=0:ct.push("ofs="+W);let Lt=!0;for(let Ie=0;Ie<E;Ie++){let jt=q[Ie].g;const Ue=q[Ie].map;if(jt-=W,0>jt)W=Math.max(0,q[Ie].g-100),Lt=!1;else try{bi(Ue,ct,"req"+jt+"_")}catch{R&&R(Ue)}}if(Lt){R=ct.join("&");break t}}}return d=d.i.splice(0,E),_.D=d,R}function Uu(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ot||j(),mt||(ot(),mt=!0),kt.add(_,d),d.v=0}}function Ol(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ee(b(d.Fa,d),Ml(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ee(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),Wa(this),zu(this))};function ta(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function zu(d){d.g=new un(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=wn(d.qa);Jt(_,"RID","rpc"),Jt(_,"SID",d.K),Jt(_,"AID",d.T),Jt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&Jt(_,"TO",d.ja),Jt(_,"TYPE","xmlhttp"),Jr(d,_),d.m&&d.o&&je(_,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Yr(wn(_)),E.m=null,E.P=!0,Yi(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Wa(this),Ol(this),le(19))};function Ja(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Bu(d,_){var E=null;if(d.g==_){Ja(d),ta(d),d.g=null;var R=2}else if(El(d.h,_))E=_.D,hn(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var q=d.B;R=Ds(),$t(R,new Ce(R,E)),Za(d)}else Uu(d);else if(q=_.s,q==3||q==0&&0<_.X||!(R==1&&Kd(d,_)||R==2&&Ol(d)))switch(E&&0<E.length&&(_=d.h,_.i=_.i.concat(E)),q){case 1:Ji(d,5);break;case 4:Ji(d,10);break;case 3:Ji(d,6);break;default:Ji(d,2)}}}function Ml(d,_){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*_}function Ji(d,_){if(d.j.info("Error code "+_),_==2){var E=b(d.fb,d),R=d.Xa;const q=!R;R=new we(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Gr(R,"https"),Yr(R),q?Kr(R.toString(),E):ni(R.toString(),E)}else le(2);d.G=0,d.l&&d.l.sa(_),Hu(d),Lu(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Hu(d){if(d.G=0,d.ka=[],d.l){const _=wl(d.h);(_.length!=0||d.i.length!=0)&&(N(d.ka,_),N(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Fu(d,_,E){var R=E instanceof we?wn(E):new we(E);if(R.g!="")_&&(R.g=_+"."+R.g),Vs(R,R.s);else{var q=h.location;R=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var W=new we(null);R&&Gr(W,R),_&&(W.g=_),q&&Vs(W,q),E&&(W.l=E),R=W}return E=d.D,_=d.ya,E&&_&&Jt(R,E,_),Jt(R,"VER",d.la),Jr(d,R),R}function qu(d,_,E){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new Gt(new Ls({eb:E})):new Gt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}n=Gu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function to(){}to.prototype.g=function(d,_){return new fn(d,_)};function fn(d,_){me.call(this),this.g=new Xa(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!B(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Ti(this)}A(fn,me),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Nl(this.g)},fn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=ti(d),d=E);_.i.push(new Ou(_.Ya++,d)),_.G==3&&Za(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,fn.aa.N.call(this)};function Yu(d){qi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const E in _){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}A(Yu,qi);function $u(){_l.call(this),this.status=1}A($u,_l);function Ti(d){this.g=d}A(Ti,Gu),Ti.prototype.ua=function(){$t(this.g,"a")},Ti.prototype.ta=function(d){$t(this.g,new Yu(d))},Ti.prototype.sa=function(d){$t(this.g,new $u)},Ti.prototype.ra=function(){$t(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,FT=function(){return new to},HT=function(){return Ds()},BT=gi,Np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,xf=ks,Gi.COMPLETE="complete",zT=Gi,yl.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",me.prototype.listen=me.prototype.K,Ic=yl,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,UT=Gt}).apply(typeof Xh<"u"?Xh:typeof self<"u"?self:typeof window<"u"?window:{});const yx="@firebase/firestore",_x="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new cy("@firebase/firestore");function Oo(){return Ia.logLevel}function ht(n,...t){if(Ia.logLevel<=Pt.DEBUG){const e=t.map(wy);Ia.debug(`Firestore (${rl}): ${n}`,...e)}}function Rs(n,...t){if(Ia.logLevel<=Pt.ERROR){const e=t.map(wy);Ia.error(`Firestore (${rl}): ${n}`,...e)}}function Na(n,...t){if(Ia.logLevel<=Pt.WARN){const e=t.map(wy);Ia.warn(`Firestore (${rl}): ${n}`,...e)}}function wy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,qT(n,i,e)}function qT(n,t,e){let i=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Rs(i),new Error(i)}function Yt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||qT(t,r,i)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Is{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(sn.UNAUTHENTICATED))}shutdown(){}}class eO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class nO{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Yt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _r,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _r)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Yt(typeof i.accessToken=="string",31837,{l:i}),new GT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class iO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new iO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Yt(this.o===void 0,3512);const i=o=>{o.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Yt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new vx(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=aO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Nt(n,t){return n<t?-1:n>t?1:0}function Dp(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Nt(i,r);{const o=$T(),c=oO(o.encode(bx(n,e)),o.encode(bx(t,e)));return c!==0?c:Nt(i,r)}}e+=i>65535?2:1}return Nt(n.length,t.length)}function bx(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function oO(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Nt(n[e],t[e]);return Nt(n.length,t.length)}function Yo(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=-62135596800,Ex=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Ex);return new Re(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new pt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<xx)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ex}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-xx;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Re(0,0))}static max(){return new Tt(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="__name__";class ki{constructor(t,e,i){e===void 0?e=0:e>t.length&&xt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&xt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ki.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ki?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=ki.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Nt(t.length,e.length)}static compareSegments(t,e){const i=ki.isNumericId(t),r=ki.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?ki.extractNumericId(t).compare(ki.extractNumericId(e)):Dp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return yr.fromString(t.substring(4,t.length-2))}}class ue extends ki{construct(t,e,i){return new ue(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new pt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ue(e)}static emptyPath(){return new ue([])}}const lO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ki{construct(t,e,i){return new qe(t,e,i)}static isValidIdentifier(t){return lO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wx}static keyField(){return new qe([wx])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new pt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new pt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new pt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(e)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(ue.fromString(t))}static fromName(t){return new _t(ue.fromString(t).popFirst(5))}static empty(){return new _t(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new ue(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=-1;function cO(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(i===1e9?new Re(e+1,0):new Re(e,i));return new Er(r,_t.empty(),t)}function uO(n){return new Er(n.readTime,n.key,Xc)}class Er{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Er(Tt.min(),_t.empty(),Xc)}static max(){return new Er(Tt.max(),_t.empty(),Xc)}}function hO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=_t.comparator(n.documentKey,t.documentKey),e!==0?e:Nt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==fO)throw n;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&xt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new nt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof nt?e:nt.resolve(e)}catch(e){return nt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):nt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):nt.reject(e)}static resolve(t){return new nt((e,i)=>{e(t)})}static reject(t){return new nt((e,i)=>{i(t)})}static waitFor(t){return new nt((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=nt.resolve(!1);for(const i of t)e=e.next(r=>r?nt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new nt((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next(y=>{c[m]=y,++h,h===o&&i(c)},y=>r(y))}})}static doWhile(t,e){return new nt((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function mO(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ol(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}gd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy=-1;function pd(n){return n==null}function zf(n){return n===0&&1/n==-1/0}function gO(n){return typeof n=="number"&&Number.isInteger(n)&&!zf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="";function pO(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Tx(t)),t=yO(n.get(e),t);return Tx(t)}function yO(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case KT:e+="";break;default:e+=o}}return e}function Tx(n){return n+KT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Dr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function QT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,e){this.comparator=t,this.root=e||We.EMPTY}insert(t,e){return new de(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wh(this.root,t,this.comparator,!0)}}class Wh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??We.RED,this.left=r??We.EMPTY,this.right=o??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new We(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return We.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw xt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw xt(57766)}get value(){throw xt(16141)}get color(){throw xt(16727)}get left(){throw xt(29726)}get right(){throw xt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Ax(this.data.getIterator())}getIteratorFrom(t){return new Ax(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ve(this.comparator);return e.data=t,e}}class Ax{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Dn([])}unionWith(t){let e=new Ve(qe.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Dn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yo(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new XT("Invalid base64 string: "+o):o}}(t);return new Ge(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new Ge(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const _O=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wr(n){if(Yt(!!n,39018),typeof n=="string"){let t=0;const e=_O.exec(n);if(Yt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Tr(n){return typeof n=="string"?Ge.fromBase64String(n):Ge.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="server_timestamp",ZT="__type__",JT="__previous_value__",tS="__local_write_time__";function Ay(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[ZT])===null||e===void 0?void 0:e.stringValue)===WT}function yd(n){const t=n.mapValue.fields[JT];return Ay(t)?yd(t):t}function Wc(n){const t=wr(n.mapValue.fields[tS].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t,e,i,r,o,c,h,f,m,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const Bf="(default)";class $o{constructor(t,e){this.projectId=t,this.database=e||Bf}static empty(){return new $o("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(t){return t instanceof $o&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="__type__",bO="__max__",Zh={mapValue:{}},nS="__vector__",Hf="value";function Sr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ay(n)?4:EO(n)?9007199254740991:xO(n)?10:11:xt(28295,{value:n})}function Ui(n,t){if(n===t)return!0;const e=Sr(n);if(e!==Sr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Wc(n).isEqual(Wc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=wr(r.timestampValue),h=wr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return Tr(r.bytesValue).isEqual(Tr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return be(r.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(r.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return be(r.integerValue)===be(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=be(r.doubleValue),h=be(o.doubleValue);return c===h?zf(c)===zf(h):isNaN(c)&&isNaN(h)}return!1}(n,t);case 9:return Yo(n.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Sx(c)!==Sx(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ui(c[f],h[f])))return!1;return!0}(n,t);default:return xt(52216,{left:n})}}function Zc(n,t){return(n.values||[]).find(e=>Ui(e,t))!==void 0}function Ko(n,t){if(n===t)return 0;const e=Sr(n),i=Sr(t);if(e!==i)return Nt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,t.booleanValue);case 2:return function(o,c){const h=be(o.integerValue||o.doubleValue),f=be(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return Rx(n.timestampValue,t.timestampValue);case 4:return Rx(Wc(n),Wc(t));case 5:return Dp(n.stringValue,t.stringValue);case 6:return function(o,c){const h=Tr(o),f=Tr(c);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=Nt(h[m],f[m]);if(y!==0)return y}return Nt(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const h=Nt(be(o.latitude),be(c.latitude));return h!==0?h:Nt(be(o.longitude),be(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Cx(n.arrayValue,t.arrayValue);case 10:return function(o,c){var h,f,m,y;const v=o.fields||{},b=c.fields||{},T=(h=v[Hf])===null||h===void 0?void 0:h.arrayValue,A=(f=b[Hf])===null||f===void 0?void 0:f.arrayValue,I=Nt(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return I!==0?I:Cx(T,A)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===Zh.mapValue&&c===Zh.mapValue)return 0;if(o===Zh.mapValue)return 1;if(c===Zh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let v=0;v<f.length&&v<y.length;++v){const b=Dp(f[v],y[v]);if(b!==0)return b;const T=Ko(h[f[v]],m[y[v]]);if(T!==0)return T}return Nt(f.length,y.length)}(n.mapValue,t.mapValue);default:throw xt(23264,{Pe:e})}}function Rx(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Nt(n,t);const e=wr(n),i=wr(t),r=Nt(e.seconds,i.seconds);return r!==0?r:Nt(e.nanos,i.nanos)}function Cx(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Ko(e[r],i[r]);if(o)return o}return Nt(e.length,i.length)}function Qo(n){return Op(n)}function Op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=wr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Tr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return _t.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Op(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${Op(e.fields[c])}`;return r+"}"}(n.mapValue):xt(61005,{value:n})}function Ef(n){switch(Sr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yd(n);return t?16+Ef(t):16;case 5:return 2*n.stringValue.length;case 6:return Tr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Ef(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Dr(i.fields,(o,c)=>{r+=o.length+Ef(c)}),r}(n.mapValue);default:throw xt(13486,{value:n})}}function Mp(n){return!!n&&"integerValue"in n}function Ry(n){return!!n&&"arrayValue"in n}function Ix(n){return!!n&&"nullValue"in n}function Nx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wf(n){return!!n&&"mapValue"in n}function xO(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[eS])===null||e===void 0?void 0:e.stringValue)===nS}function jc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Dr(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=jc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=jc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function EO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(t){this.value=t}static empty(){return new bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!wf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=jc(e)}setAll(t){let e=qe.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=jc(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());wf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];wf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Dr(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new bn(jc(this.value))}}function iS(n){const t=[];return Dr(n.fields,(e,i)=>{const r=new qe([e]);if(wf(i)){const o=iS(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Dn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new rn(t,0,Tt.min(),Tt.min(),Tt.min(),bn.empty(),0)}static newFoundDocument(t,e,i,r){return new rn(t,1,e,Tt.min(),i,r,0)}static newNoDocument(t,e){return new rn(t,2,e,Tt.min(),Tt.min(),bn.empty(),0)}static newUnknownDocument(t,e){return new rn(t,3,e,Tt.min(),Tt.min(),bn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,e){this.position=t,this.inclusive=e}}function Dx(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=_t.comparator(_t.fromName(c.referenceValue),e.key):i=Ko(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ox(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ui(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,e="asc"){this.field=t,this.dir=e}}function wO(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class ke extends sS{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new SO(t,e,i):e==="array-contains"?new CO(t,i):e==="in"?new IO(t,i):e==="not-in"?new NO(t,i):e==="array-contains-any"?new DO(t,i):new ke(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new AO(t,i):new RO(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ko(e,this.value)):e!==null&&Sr(this.value)===Sr(e)&&this.matchesComparison(Ko(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends sS{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new zi(t,e)}matches(t){return rS(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function rS(n){return n.op==="and"}function aS(n){return TO(n)&&rS(n)}function TO(n){for(const t of n.filters)if(t instanceof zi)return!1;return!0}function kp(n){if(n instanceof ke)return n.field.canonicalString()+n.op.toString()+Qo(n.value);if(aS(n))return n.filters.map(t=>kp(t)).join(",");{const t=n.filters.map(e=>kp(e)).join(",");return`${n.op}(${t})`}}function oS(n,t){return n instanceof ke?function(i,r){return r instanceof ke&&i.op===r.op&&i.field.isEqual(r.field)&&Ui(i.value,r.value)}(n,t):n instanceof zi?function(i,r){return r instanceof zi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&oS(c,r.filters[h]),!0):!1}(n,t):void xt(19439)}function lS(n){return n instanceof ke?function(e){return`${e.field.canonicalString()} ${e.op} ${Qo(e.value)}`}(n):n instanceof zi?function(e){return e.op.toString()+" {"+e.getFilters().map(lS).join(" ,")+"}"}(n):"Filter"}class SO extends ke{constructor(t,e,i){super(t,e,i),this.key=_t.fromName(i.referenceValue)}matches(t){const e=_t.comparator(t.key,this.key);return this.matchesComparison(e)}}class AO extends ke{constructor(t,e){super(t,"in",e),this.keys=cS("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class RO extends ke{constructor(t,e){super(t,"not-in",e),this.keys=cS("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function cS(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>_t.fromName(i.referenceValue))}class CO extends ke{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ry(e)&&Zc(e.arrayValue,this.value)}}class IO extends ke{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Zc(this.value.arrayValue,e)}}class NO extends ke{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Zc(this.value.arrayValue,e)}}class DO extends ke{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ry(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Zc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Ie=null}}function Mx(n,t=null,e=[],i=[],r=null,o=null,c=null){return new OO(n,t,e,i,r,o,c)}function Cy(n){const t=Rt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>kp(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),pd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Qo(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Qo(i)).join(",")),t.Ie=e}return t.Ie}function Iy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!wO(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!oS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Ox(n.startAt,t.startAt)&&Ox(n.endAt,t.endAt)}function Pp(n){return _t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function MO(n,t,e,i,r,o,c,h){return new _d(n,t,e,i,r,o,c,h)}function uS(n){return new _d(n)}function kx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kO(n){return n.collectionGroup!==null}function Uc(n){const t=Rt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ve(qe.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new qf(o,i))}),e.has(qe.keyField().canonicalString())||t.Ee.push(new qf(qe.keyField(),i))}return t.Ee}function Vi(n){const t=Rt(n);return t.de||(t.de=PO(t,Uc(n))),t.de}function PO(n,t){if(n.limitType==="F")return Mx(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new qf(r.field,o)});const e=n.endAt?new Ff(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ff(n.startAt.position,n.startAt.inclusive):null;return Mx(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Vp(n,t,e){return new _d(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function vd(n,t){return Iy(Vi(n),Vi(t))&&n.limitType===t.limitType}function hS(n){return`${Cy(Vi(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>lS(r)).join(", ")}]`),pd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Qo(r)).join(",")),`Target(${i})`}(Vi(n))}; limitType=${n.limitType})`}function bd(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_t.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Uc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,h,f){const m=Dx(c,h,f);return c.inclusive?m<=0:m<0}(i.startAt,Uc(i),r)||i.endAt&&!function(c,h,f){const m=Dx(c,h,f);return c.inclusive?m>=0:m>0}(i.endAt,Uc(i),r))}(n,t)}function VO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fS(n){return(t,e)=>{let i=!1;for(const r of Uc(n)){const o=LO(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function LO(n,t,e){const i=n.field.isKeyField()?_t.comparator(t.key,e.key):function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Ko(f,m):xt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Dr(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return QT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new de(_t.comparator);function Cs(){return jO}const dS=new de(_t.comparator);function Nc(...n){let t=dS;for(const e of n)t=t.insert(e.key,e);return t}function mS(n){let t=dS;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function wa(){return zc()}function gS(){return zc()}function zc(){return new Pa(n=>n.toString(),(n,t)=>n.isEqual(t))}const UO=new de(_t.comparator),zO=new Ve(_t.comparator);function Vt(...n){let t=zO;for(const e of n)t=t.add(e);return t}const BO=new Ve(Nt);function HO(){return BO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(t)?"-0":t}}function pS(n){return{integerValue:""+n}}function FO(n,t){return gO(t)?pS(t):Ny(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function qO(n,t,e){return n instanceof Jc?function(r,o){const c={fields:{[ZT]:{stringValue:WT},[tS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ay(o)&&(o=yd(o)),o&&(c.fields[JT]=o),{mapValue:c}}(e,t):n instanceof tu?_S(n,t):n instanceof eu?vS(n,t):function(r,o){const c=yS(r,o),h=Px(c)+Px(r.Re);return Mp(c)&&Mp(r.Re)?pS(h):Ny(r.serializer,h)}(n,t)}function GO(n,t,e){return n instanceof tu?_S(n,t):n instanceof eu?vS(n,t):e}function yS(n,t){return n instanceof Gf?function(i){return Mp(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Jc extends xd{}class tu extends xd{constructor(t){super(),this.elements=t}}function _S(n,t){const e=bS(t);for(const i of n.elements)e.some(r=>Ui(r,i))||e.push(i);return{arrayValue:{values:e}}}class eu extends xd{constructor(t){super(),this.elements=t}}function vS(n,t){let e=bS(t);for(const i of n.elements)e=e.filter(r=>!Ui(r,i));return{arrayValue:{values:e}}}class Gf extends xd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function Px(n){return be(n.integerValue||n.doubleValue)}function bS(n){return Ry(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t,e){this.field=t,this.transform=e}}function $O(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof tu&&r instanceof tu||i instanceof eu&&r instanceof eu?Yo(i.elements,r.elements,Ui):i instanceof Gf&&r instanceof Gf?Ui(i.Re,r.Re):i instanceof Jc&&r instanceof Jc}(n.transform,t.transform)}class KO{constructor(t,e){this.version=t,this.transformResults=e}}class hi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Ed{}function xS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Dy(n.key,hi.none()):new gu(n.key,n.data,hi.none());{const e=n.data,i=bn.empty();let r=new Ve(qe.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Or(n.key,i,new Dn(r.toArray()),hi.none())}}function QO(n,t,e){n instanceof gu?function(r,o,c){const h=r.value.clone(),f=Lx(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,t,e):n instanceof Or?function(r,o,c){if(!Tf(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Lx(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(ES(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Bc(n,t,e,i){return n instanceof gu?function(o,c,h,f){if(!Tf(o.precondition,c))return h;const m=o.value.clone(),y=jx(o.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof Or?function(o,c,h,f){if(!Tf(o.precondition,c))return h;const m=jx(o.fieldTransforms,f,c),y=c.data;return y.setAll(ES(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,t,e,i):function(o,c,h){return Tf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,t,e)}function XO(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=yS(i.transform,r||null);o!=null&&(e===null&&(e=bn.empty()),e.set(i.field,o))}return e||null}function Vx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Yo(i,r,(o,c)=>$O(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class gu extends Ed{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Or extends Ed{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ES(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Lx(n,t,e){const i=new Map;Yt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,GO(c,h,e[r]))}return i}function jx(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,qO(o,c,t))}return i}class Dy extends Ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WO extends Ed{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&QO(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Bc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Bc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=gS();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=xS(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Yo(this.mutations,t.mutations,(e,i)=>Vx(e,i))&&Yo(this.baseMutations,t.baseMutations,(e,i)=>Vx(e,i))}}class Oy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Yt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return UO}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Oy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,zt;function eM(n){switch(n){case rt.OK:return xt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return xt(15467,{code:n})}}function wS(n){if(n===void 0)return Rs("GRPC error has no .code"),rt.UNKNOWN;switch(n){case Ae.OK:return rt.OK;case Ae.CANCELLED:return rt.CANCELLED;case Ae.UNKNOWN:return rt.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return rt.INTERNAL;case Ae.UNAVAILABLE:return rt.UNAVAILABLE;case Ae.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Ae.NOT_FOUND:return rt.NOT_FOUND;case Ae.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Ae.ABORTED:return rt.ABORTED;case Ae.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Ae.DATA_LOSS:return rt.DATA_LOSS;default:return xt(39323,{code:n})}}(zt=Ae||(Ae={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new yr([4294967295,4294967295],0);function Ux(n){const t=$T().encode(n),e=new jT;return e.update(t),new Uint8Array(e.digest())}function zx(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new yr([e,i],0),new yr([r,o],0)]}class My{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Dc(`Invalid padding: ${e}`);if(i<0)throw new Dc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=yr.fromNumber(this.pe)}we(t,e,i){let r=t.add(e.multiply(yr.fromNumber(i)));return r.compare(nM)===1&&(r=new yr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}Se(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=Ux(t),[i,r]=zx(e);for(let o=0;o<this.hashCount;o++){const c=this.we(i,r,o);if(!this.Se(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new My(o,r,e);return i.forEach(h=>c.insert(h)),c}insert(t){if(this.pe===0)return;const e=Ux(t),[i,r]=zx(e);for(let o=0;o<this.hashCount;o++){const c=this.we(i,r,o);this.be(c)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,pu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new wd(Tt.min(),r,new de(Nt),Cs(),Vt())}}class pu{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new pu(i,e,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,e,i,r){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=r}}class TS{constructor(t,e){this.targetId=t,this.Ce=e}}class SS{constructor(t,e,i=Ge.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Bx{constructor(){this.Fe=0,this.Me=Hx(),this.xe=Ge.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),e=Vt(),i=Vt();return this.Me.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:xt(38017,{changeType:o})}}),new pu(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=Hx()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class iM{constructor(t){this.ze=t,this.je=new Map,this.He=Cs(),this.Je=Jh(),this.Ye=Jh(),this.Ze=new de(Nt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:xt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,r)=>{this.it(r)&&e(r)})}ot(t){const e=t.targetId,i=t.Ce.count,r=this._t(e);if(r){const o=r.target;if(Pp(o))if(i===0){const c=new _t(o.path);this.tt(e,c,rn.newNoDocument(c,Tt.min()))}else Yt(i===1,20013,{expectedCount:i});else{const c=this.ut(e);if(c!==i){const h=this.ct(t),f=h?this.lt(h,t,c):1;if(f!==0){this.st(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,m)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Tr(i).toUint8Array()}catch(f){if(f instanceof XT)return Na("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new My(c,r,o)}catch(f){return Na(f instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.tt(e,o,null),r++)}),r}It(t){const e=new Map;this.je.forEach((o,c)=>{const h=this._t(c);if(h){if(o.current&&Pp(h.target)){const f=new _t(h.target.path);this.Et(f).has(c)||this.dt(c,f)||this.tt(c,f,rn.newNoDocument(f,t))}o.Le&&(e.set(c,o.qe()),o.Qe())}});let i=Vt();this.Ye.forEach((o,c)=>{let h=!0;c.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.He.forEach((o,c)=>c.setReadTime(t));const r=new wd(t,e,this.Ze,this.He,i);return this.He=Cs(),this.Je=Jh(),this.Ye=Jh(),this.Ze=new de(Nt),r}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,e)?r.$e(e,1):r.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new Bx,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Ve(Nt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Ve(Nt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ht("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Bx),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Jh(){return new de(_t.comparator)}function Hx(){return new de(_t.comparator)}const sM={asc:"ASCENDING",desc:"DESCENDING"},rM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aM={and:"AND",or:"OR"};class oM{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Lp(n,t){return n.useProto3Json||pd(t)?t:{value:t}}function Yf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function AS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function lM(n,t){return Yf(n,t.toTimestamp())}function Li(n){return Yt(!!n,49232),Tt.fromTimestamp(function(e){const i=wr(e);return new Re(i.seconds,i.nanos)}(n))}function ky(n,t){return jp(n,t).canonicalString()}function jp(n,t){const e=function(r){return new ue(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function RS(n){const t=ue.fromString(n);return Yt(OS(t),10190,{key:t.toString()}),t}function Up(n,t){return ky(n.databaseId,t.path)}function tp(n,t){const e=RS(t);if(e.get(1)!==n.databaseId.projectId)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new pt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new _t(IS(e))}function CS(n,t){return ky(n.databaseId,t)}function cM(n){const t=RS(n);return t.length===4?ue.emptyPath():IS(t)}function zp(n){return new ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IS(n){return Yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Fx(n,t,e){return{name:Up(n,t),fields:e.value.mapValue.fields}}function uM(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xt(39313,{state:m})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Yt(y===void 0||typeof y=="string",58123),Ge.fromBase64String(y||"")):(Yt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ge.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(m){const y=m.code===void 0?rt.UNKNOWN:wS(m.code);return new pt(y,m.message||"")}(c);e=new SS(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=tp(n,i.document.name),o=Li(i.document.updateTime),c=i.document.createTime?Li(i.document.createTime):Tt.min(),h=new bn({mapValue:{fields:i.document.fields}}),f=rn.newFoundDocument(r,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new Sf(m,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=tp(n,i.document),o=i.readTime?Li(i.readTime):Tt.min(),c=rn.newNoDocument(r,o),h=i.removedTargetIds||[];e=new Sf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=tp(n,i.document),o=i.removedTargetIds||[];e=new Sf([],o,r,null)}else{if(!("filter"in t))return xt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new tM(r,o),h=i.targetId;e=new TS(h,c)}}return e}function hM(n,t){let e;if(t instanceof gu)e={update:Fx(n,t.key,t.value)};else if(t instanceof Dy)e={delete:Up(n,t.key)};else if(t instanceof Or)e={update:Fx(n,t.key,t.data),updateMask:bM(t.fieldMask)};else{if(!(t instanceof WO))return xt(16599,{ft:t.type});e={verify:Up(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof Jc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof tu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof eu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Gf)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw xt(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:lM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xt(27497)}(n,t.precondition)),e}function fM(n,t){return n&&n.length>0?(Yt(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?Li(r.updateTime):Li(o);return c.isEqual(Tt.min())&&(c=Li(o)),new KO(c,r.transformResults||[])}(e,t))):[]}function dM(n,t){return{documents:[CS(n,t.path)]}}function mM(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=CS(n,r);const o=function(m){if(m.length!==0)return DS(zi.create(m,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(m){if(m.length!==0)return m.map(y=>function(b){return{field:ko(b.field),direction:yM(b.dir)}}(y))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Lp(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),{gt:e,parent:r}}function gM(n){let t=cM(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Yt(i===1,65062);const y=e.from[0];y.allDescendants?r=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=function(v){const b=NS(v);return b instanceof zi&&aS(b)?b.getFilters():[b]}(e.where));let c=[];e.orderBy&&(c=function(v){return v.map(b=>function(A){return new qf(Po(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(v){let b;return b=typeof v=="object"?v.value:v,pd(b)?null:b}(e.limit));let f=null;e.startAt&&(f=function(v){const b=!!v.before,T=v.values||[];return new Ff(T,b)}(e.startAt));let m=null;return e.endAt&&(m=function(v){const b=!v.before,T=v.values||[];return new Ff(T,b)}(e.endAt)),MO(t,r,c,o,h,"F",f,m)}function pM(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xt(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function NS(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Po(e.unaryFilter.field);return ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Po(e.unaryFilter.field);return ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Po(e.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(e.unaryFilter.field);return ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xt(61313);default:return xt(60726)}}(n):n.fieldFilter!==void 0?function(e){return ke.create(Po(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xt(58110);default:return xt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return zi.create(e.compositeFilter.filters.map(i=>NS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return xt(1026)}}(e.compositeFilter.op))}(n):xt(30097,{filter:n})}function yM(n){return sM[n]}function _M(n){return rM[n]}function vM(n){return aM[n]}function ko(n){return{fieldPath:n.canonicalString()}}function Po(n){return qe.fromServerFormat(n.fieldPath)}function DS(n){return n instanceof ke?function(e){if(e.op==="=="){if(Nx(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NAN"}};if(Ix(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Nx(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NAN"}};if(Ix(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(e.field),op:_M(e.op),value:e.value}}}(n):n instanceof zi?function(e){const i=e.getFilters().map(r=>DS(r));return i.length===1?i[0]:{compositeFilter:{op:vM(e.op),filters:i}}}(n):xt(54877,{filter:n})}function bM(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function OS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t,e,i,r,o=Tt.min(),c=Tt.min(),h=Ge.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t){this.wt=t}}function EM(n){const t=gM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.Cn=new TM}addToCollectionParentIndex(t,e){return this.Cn.add(e),nt.resolve()}getCollectionParents(t,e){return nt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return nt.resolve()}deleteFieldIndex(t,e){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,e){return nt.resolve()}getDocumentsMatchingTarget(t,e){return nt.resolve(null)}getIndexType(t,e){return nt.resolve(0)}getFieldIndexes(t,e){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,e){return nt.resolve(Er.min())}getMinOffsetFromCollectionGroup(t,e){return nt.resolve(Er.min())}updateCollectionGroup(t,e,i){return nt.resolve()}updateIndexEntries(t,e){return nt.resolve()}}class TM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ve(ue.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ve(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MS=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(MS,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Xo(0)}static lr(){return new Xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="LruGarbageCollector",SM=1048576;function Yx([n,t],[e,i]){const r=Nt(n,e);return r===0?Nt(t,i):r}class AM{constructor(t){this.Er=t,this.buffer=new Ve(Yx),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Yx(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class RM{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ht(Gx,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ol(e)?ht(Gx,"Ignoring IndexedDB error during garbage collection: ",e):await al(e)}await this.mr(3e5)})}}class CM{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return nt.resolve(gd.le);const i=new AM(e);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(qx)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qx):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,r,o,c,h,f,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,c=Date.now(),this.nthSequenceNumber(t,r))).next(v=>(i=v,h=Date.now(),this.removeTargets(t,i,e))).next(v=>(o=v,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(v=>(m=Date.now(),Oo()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${v} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:v})))}}function IM(n,t){return new CM(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.changes=new Pa(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?nt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Bc(i.mutation,r,Dn.empty(),Re.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Vt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Vt()){const r=wa();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=Nc();return o.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=wa();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Vt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,i,r){let o=Cs();const c=zc(),h=function(){return zc()}();return e.forEach((f,m)=>{const y=i.get(m.key);r.has(m.key)&&(y===void 0||y.mutation instanceof Or)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Bc(y.mutation,m,y.mutation.getFieldMask(),Re.now())):c.set(m.key,Dn.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((m,y)=>c.set(m,y)),e.forEach((m,y)=>{var v;return h.set(m,new DM(y,(v=c.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(t,e){const i=zc();let r=new de((c,h)=>c-h),o=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(f=>{const m=e.get(f);if(m===null)return;let y=i.get(f)||Dn.empty();y=h.applyToLocalView(m,y),i.set(f,y);const v=(r.get(h.batchId)||Vt()).add(f);r=r.insert(h.batchId,v)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,v=gS();y.forEach(b=>{if(!o.has(b)){const T=xS(e.get(b),i.get(b));T!==null&&v.set(b,T),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,m,v))}return nt.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return _t.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):kO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):nt.resolve(wa());let h=Xc,f=o;return c.next(m=>nt.forEach(m,(y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{f=f.insert(y,b)}))).next(()=>this.populateOverlays(t,m,o)).next(()=>this.computeViews(t,f,m,Vt())).next(y=>({batchId:h,changes:mS(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _t(e)).next(i=>{let r=Nc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=Nc();return this.indexManager.getCollectionParents(t,o).next(h=>nt.forEach(h,f=>{const m=function(v,b){return new _d(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,r).next(y=>{y.forEach((v,b)=>{c=c.insert(v,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))});let h=Nc();return c.forEach((f,m)=>{const y=o.get(f);y!==void 0&&Bc(y.mutation,m,Dn.empty(),Re.now()),bd(e,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return nt.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Li(r.createTime)}}(e)),nt.resolve()}getNamedQuery(t,e){return nt.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(r){return{name:r.name,query:EM(r.bundledQuery),readTime:Li(r.readTime)}}(e)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.overlays=new de(_t.comparator),this.Qr=new Map}getOverlay(t,e){return nt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=wa();return nt.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.bt(t,e,o)}),nt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),nt.resolve()}getOverlaysForCollection(t,e,i){const r=wa(),o=e.length+1,c=new _t(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return nt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new de((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=wa(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=wa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=r)););return nt.resolve(h)}bt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new JO(e,i));let o=this.Qr.get(e);o===void 0&&(o=Vt(),this.Qr.set(e,o)),this.Qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.$r=new Ve(Fe.Ur),this.Kr=new Ve(Fe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new Fe(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new Fe(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new _t(new ue([])),i=new Fe(e,t),r=new Fe(e,t+1),o=[];return this.Kr.forEachInRange([i,r],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new _t(new ue([])),i=new Fe(e,t),r=new Fe(e,t+1);let o=Vt();return this.Kr.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new Fe(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Fe{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return _t.comparator(t.key,e.key)||Nt(t.Zr,e.Zr)}static Wr(t,e){return Nt(t.Zr,e.Zr)||_t.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new Ve(Fe.Ur)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ZO(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Xr=this.Xr.add(new Fe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,e){return nt.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ti(i),o=r<0?0:r;return nt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Sy:this.nr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Fe(e,0),r=new Fe(e,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,r],c=>{const h=this.ei(c.Zr);o.push(h)}),nt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ve(Nt);return e.forEach(r=>{const o=new Fe(r,0),c=new Fe(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],h=>{i=i.add(h.Zr)})}),nt.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;_t.isDocumentKey(o)||(o=o.child(""));const c=new Fe(new _t(o),0);let h=new Ve(Nt);return this.Xr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(h=h.add(f.Zr)),!0)},c),nt.resolve(this.ni(h))}ni(t){const e=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Yt(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return nt.forEach(e.mutations,r=>{const o=new Fe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new Fe(e,0),r=this.Xr.firstAfterOrEqual(i);return nt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t){this.ii=t,this.docs=function(){return new de(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return nt.resolve(i?i.document.mutableCopy():rn.newInvalidDocument(e))}getEntries(t,e){let i=Cs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():rn.newInvalidDocument(r))}),nt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Cs();const c=e.path,h=new _t(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||hO(uO(y),i)<=0||(r.has(y.key)||bd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return nt.resolve(o)}getAllFromCollectionGroup(t,e,i,r){xt(9500)}si(t,e){return nt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new jM(this)}getSize(t){return nt.resolve(this.size)}}class jM extends NM{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),nt.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t){this.persistence=t,this.oi=new Pa(e=>Cy(e),Iy),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this._i=0,this.ai=new Py,this.targetCount=0,this.ui=Xo.cr()}forEachTarget(t,e){return this.oi.forEach((i,r)=>e(r)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),nt.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Xo(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,nt.resolve()}updateTargetData(t,e){return this.Tr(e),nt.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.oi.forEach((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),nt.waitFor(o).next(()=>r)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return nt.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),nt.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),nt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),nt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return nt.resolve(i)}containsKey(t,e){return nt.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t,e){this.ci={},this.overlays={},this.li=new gd(0),this.hi=!1,this.hi=!0,this.Pi=new PM,this.referenceDelegate=t(this),this.Ti=new UM(this),this.indexManager=new wM,this.remoteDocumentCache=function(r){return new LM(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new xM(e),this.Ei=new MM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new kM,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new VM(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){ht("MemoryPersistence","Starting transaction:",t);const r=new zM(this.li.next());return this.referenceDelegate.di(),i(r).next(o=>this.referenceDelegate.Ai(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ri(t,e){return nt.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class zM extends dO{constructor(t){super(),this.currentSequenceNumber=t}}class Vy{constructor(t){this.persistence=t,this.Vi=new Py,this.mi=null}static fi(t){return new Vy(t)}get gi(){if(this.mi)return this.mi;throw xt(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),nt.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),nt.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),nt.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.gi,i=>{const r=_t.fromPath(i);return this.pi(t,r).next(o=>{o||e.removeEntry(r,Tt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return nt.or([()=>nt.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class $f{constructor(t,e){this.persistence=t,this.yi=new Pa(i=>pO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=IM(this,e)}static fi(t,e){return new $f(t,e)}di(){}Ai(t){return nt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.Sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Sr(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return nt.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(o=>o?nt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.si(t,c=>this.Dr(t,c,e).next(h=>{h||(i++,o.removeEntry(c,Tt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),nt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),nt.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),nt.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ef(t.data.value)),e}Dr(t,e,i){return nt.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.yi.get(e);return nt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ds=i,this.As=r}static Rs(t,e){let i=Vt(),r=Vt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ly(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return VC()?8:mO(ln())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ws(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Ss(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new BM;return this.bs(t,e,c).next(h=>{if(o.result=h,this.fs)return this.Ds(t,e,c,h.size)})}).next(()=>o.result)}Ds(t,e,i,r){return i.documentReadCount<this.gs?(Oo()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Mo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),nt.resolve()):(Oo()<=Pt.DEBUG&&ht("QueryEngine","Query:",Mo(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Oo()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Mo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(e))):nt.resolve())}ws(t,e){if(kx(e))return nt.resolve(null);let i=Vi(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Vp(e,null,"F"),i=Vi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=Vt(...o);return this.ys.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const m=this.vs(e,h);return this.Cs(e,m,c,f.readTime)?this.ws(t,Vp(e,null,"F")):this.Fs(t,m,e,f)}))})))}Ss(t,e,i,r){return kx(e)||r.isEqual(Tt.min())?nt.resolve(null):this.ys.getDocuments(t,i).next(o=>{const c=this.vs(e,o);return this.Cs(e,c,i,r)?nt.resolve(null):(Oo()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mo(e)),this.Fs(t,c,e,cO(r,Xc)).next(h=>h))})}vs(t,e){let i=new Ve(fS(t));return e.forEach((r,o)=>{bd(t,o)&&(i=i.add(o))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}bs(t,e,i){return Oo()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Mo(e)),this.ys.getDocumentsMatchingQuery(t,e,Er.min(),i)}Fs(t,e,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LocalStore",FM=3e8;class qM{constructor(t,e,i,r){this.persistence=t,this.Ms=e,this.serializer=r,this.xs=new de(Nt),this.Os=new Pa(o=>Cy(o),Iy),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function GM(n,t,e,i){return new qM(n,t,e,i)}async function PS(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let f=Vt();for(const m of r){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next(m=>({ks:m,removedBatchIds:c,addedBatchIds:h}))})})}function YM(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,y){const v=m.batch,b=v.keys();let T=nt.resolve();return b.forEach(A=>{T=T.next(()=>y.getEntry(f,A)).next(I=>{const N=m.docVersions.get(A);Yt(N!==null,48541),I.version.compareTo(N)<0&&(v.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),y.addEntry(I)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,v))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Vt();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function VS(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function $M(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Bs.newChangeBuffer({trackRemovals:!0});r=e.xs;const h=[];t.targetChanges.forEach((y,v)=>{const b=r.get(v);if(!b)return;h.push(e.Ti.removeMatchingKeys(o,y.removedDocuments,v).next(()=>e.Ti.addMatchingKeys(o,y.addedDocuments,v)));let T=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(v)!==null?T=T.withResumeToken(Ge.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,i)),r=r.insert(v,T),function(I,N,L){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=FM?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(b,T,y)&&h.push(e.Ti.updateTargetData(o,T))});let f=Cs(),m=Vt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(KM(o,c,t.documentUpdates).next(y=>{f=y.qs,m=y.Qs})),!i.isEqual(Tt.min())){const y=e.Ti.getLastRemoteSnapshotVersion(o).next(v=>e.Ti.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return nt.waitFor(h).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(e.xs=r,o))}function KM(n,t,e){let i=Vt(),r=Vt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=Cs();return e.forEach((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(Tt.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):ht(jy,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{qs:c,Qs:r}})}function QM(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Sy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function XM(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ti.getTargetData(i,t).next(o=>o?(r=o,nt.resolve(r)):e.Ti.allocateTargetId(i).next(c=>(r=new ur(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.xs=e.xs.insert(i.targetId,i),e.Os.set(t,i.targetId)),i})}async function Bp(n,t,e){const i=Rt(n),r=i.xs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!ol(c))throw c;ht(jy,`Failed to update sequence numbers for target ${t}: ${c}`)}i.xs=i.xs.remove(t),i.Os.delete(r.target)}function $x(n,t,e){const i=Rt(n);let r=Tt.min(),o=Vt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,y){const v=Rt(f),b=v.Os.get(y);return b!==void 0?nt.resolve(v.xs.get(b)):v.Ti.getTargetData(m,y)}(i,c,Vi(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,h.targetId).next(f=>{o=f})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,t,e?r:Tt.min(),e?o:Vt())).next(h=>(WM(i,VO(t),h),{documents:h,$s:o})))}function WM(n,t,e){let i=n.Ns.get(t)||Tt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Ns.set(t,i)}class Kx{constructor(){this.activeTargetIds=HO()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZM{constructor(){this.xo=new Kx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new Kx,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="ConnectivityMonitor";class Xx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ht(Qx,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ht(Qx,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function Hp(){return tf===null?tf=function(){return 268435456+Math.round(2147483648*Math.random())}():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ek{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Bf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,e,i,r,o){const c=Hp(),h=this.jo(t,e.toUriEncodedString());ht(ep,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,r,o);const{host:m}=new URL(h),y=cu(m);return this.Jo(t,h,f,i,y).then(v=>(ht(ep,`Received RPC '${t}' ${c}: `,v),v),v=>{throw Na(ep,`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v})}Yo(t,e,i,r,o,c){return this.zo(t,e,i,r,o)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}jo(t,e){const i=tk[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class ik extends ek{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=Hp();return new Promise((h,f)=>{const m=new UT;m.setWithCredentials(!0),m.listenOnce(zT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case xf.NO_ERROR:const v=m.getResponseJson();ht(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(v)),h(v);break;case xf.TIMEOUT:ht(en,`RPC '${t}' ${c} timed out`),f(new pt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const b=m.getStatus();if(ht(en,`RPC '${t}' ${c} failed with status:`,b,"response text:",m.getResponseText()),b>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const I=function(L){const B=L.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(B)>=0?B:rt.UNKNOWN}(A.status);f(new pt(I,A.message))}else f(new pt(rt.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pt(rt.UNAVAILABLE,"Connection failed."));break;default:xt(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ht(en,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(r);ht(en,`RPC '${t}' ${c} sending request:`,r),m.send(e,"POST",y,i,15)})}T_(t,e,i){const r=Hp(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=FT(),h=HT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ht(en,`Creating RPC '${t}' stream ${r}: ${y}`,f);const v=c.createWebChannel(y,f);let b=!1,T=!1;const A=new nk({Zo:N=>{T?ht(en,`Not sending because RPC '${t}' stream ${r} is closed:`,N):(b||(ht(en,`Opening RPC '${t}' stream ${r} transport.`),v.open(),b=!0),ht(en,`RPC '${t}' stream ${r} sending:`,N),v.send(N))},Xo:()=>v.close()}),I=(N,L,B)=>{N.listen(L,X=>{try{B(X)}catch(st){setTimeout(()=>{throw st},0)}})};return I(v,Ic.EventType.OPEN,()=>{T||(ht(en,`RPC '${t}' stream ${r} transport opened.`),A.__())}),I(v,Ic.EventType.CLOSE,()=>{T||(T=!0,ht(en,`RPC '${t}' stream ${r} transport closed`),A.u_())}),I(v,Ic.EventType.ERROR,N=>{T||(T=!0,Na(en,`RPC '${t}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),A.u_(new pt(rt.UNAVAILABLE,"The operation could not be completed")))}),I(v,Ic.EventType.MESSAGE,N=>{var L;if(!T){const B=N.data[0];Yt(!!B,16349);const X=B,st=(X==null?void 0:X.error)||((L=X[0])===null||L===void 0?void 0:L.error);if(st){ht(en,`RPC '${t}' stream ${r} received error:`,st);const J=st.status;let lt=function(D){const P=Ae[D];if(P!==void 0)return wS(P)}(J),O=st.message;lt===void 0&&(lt=rt.INTERNAL,O="Unknown error status: "+J+" with message "+st.message),T=!0,A.u_(new pt(lt,O)),v.close()}else ht(en,`RPC '${t}' stream ${r} received:`,B),A.c_(B)}}),I(h,BT.STAT_EVENT,N=>{N.stat===Np.PROXY?ht(en,`RPC '${t}' stream ${r} detected buffering proxy`):N.stat===Np.NOPROXY&&ht(en,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(n){return new oM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.xi=t,this.timerId=e,this.I_=i,this.E_=r,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(t){this.cancel();const e=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),r=Math.max(0,e-i);r>0&&ht("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.A_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.V_=Date.now(),t())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="PersistentStream";class jS{constructor(t,e,i,r,o,c,h,f){this.xi=t,this.y_=i,this.w_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new LS(t,e)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(t){this.k_(),this.stream.send(t)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(t,e){this.k_(),this.q_(),this.C_.cancel(),this.S_++,t!==4?this.C_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Rs(e.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}Q_(){}auth(){this.state=1;const t=this.U_(this.S_),e=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.S_===e&&this.K_(i,r)},i=>{t(()=>{const r=new pt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(r)})})}K_(t,e){const i=this.U_(this.S_);this.stream=this.G_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.W_(r))}),this.stream.onMessage(r=>{i(()=>++this.v_==1?this.z_(r):this.onNext(r))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(t){return ht(Wx,`close with error: ${t}`),this.stream=null,this.close(4,t)}U_(t){return e=>{this.xi.enqueueAndForget(()=>this.S_===t?e():(ht(Wx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sk extends jS{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}G_(t,e){return this.connection.T_("Listen",t,e)}z_(t){return this.onNext(t)}onNext(t){this.C_.reset();const e=uM(this.serializer,t),i=function(o){if(!("targetChange"in o))return Tt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Tt.min():c.readTime?Li(c.readTime):Tt.min()}(t);return this.listener.j_(e,i)}H_(t){const e={};e.database=zp(this.serializer),e.addTarget=function(o,c){let h;const f=c.target;if(h=Pp(f)?{documents:dM(o,f)}:{query:mM(o,f).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=AS(o,c.resumeToken);const m=Lp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Tt.min())>0){h.readTime=Yf(o,c.snapshotVersion.toTimestamp());const m=Lp(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,t);const i=pM(this.serializer,t);i&&(e.labels=i),this.L_(e)}J_(t){const e={};e.database=zp(this.serializer),e.removeTarget=t,this.L_(e)}}class rk extends jS{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(t,e){return this.connection.T_("Write",t,e)}z_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.X_()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.C_.reset();const e=fM(t.writeResults,t.commitTime),i=Li(t.commitTime);return this.listener.ea(i,e)}ta(){const t={};t.database=zp(this.serializer),this.L_(t)}Z_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>hM(this.serializer,i))};this.L_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{}class ok extends ak{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.na=!1}ra(){if(this.na)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,r){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(t,jp(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(rt.UNKNOWN,o.toString())})}Yo(t,e,i,r,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Yo(t,jp(e,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pt(rt.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class lk{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(t){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.aa("Offline")))}set(t){this.la(),this.ia=0,t==="Online"&&(this.oa=!1),this.aa(t)}aa(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ua(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Rs(e),this.oa=!1):ht("OnlineStateTracker",e)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class ck{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(c=>{i.enqueueAndForget(async()=>{Va(this)&&(ht(Da,"Restarting streams for network reachability change."),await async function(f){const m=Rt(f);m.Ta.add(4),await yu(m),m.da.set("Unknown"),m.Ta.delete(4),await Sd(m)}(this))})}),this.da=new lk(i,r)}}async function Sd(n){if(Va(n))for(const t of n.Ia)await t(!0)}async function yu(n){for(const t of n.Ia)await t(!1)}function US(n,t){const e=Rt(n);e.Pa.has(t.targetId)||(e.Pa.set(t.targetId,t),Hy(e)?By(e):ll(e).M_()&&zy(e,t))}function Uy(n,t){const e=Rt(n),i=ll(e);e.Pa.delete(t),i.M_()&&zS(e,t),e.Pa.size===0&&(i.M_()?i.N_():Va(e)&&e.da.set("Unknown"))}function zy(n,t){if(n.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ll(n).H_(t)}function zS(n,t){n.Aa.Ke(t),ll(n).J_(t)}function By(n){n.Aa=new iM({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n.Pa.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),ll(n).start(),n.da._a()}function Hy(n){return Va(n)&&!ll(n).F_()&&n.Pa.size>0}function Va(n){return Rt(n).Ta.size===0}function BS(n){n.Aa=void 0}async function uk(n){n.da.set("Online")}async function hk(n){n.Pa.forEach((t,e)=>{zy(n,t)})}async function fk(n,t){BS(n),Hy(n)?(n.da.ca(t),By(n)):n.da.set("Unknown")}async function dk(n,t,e){if(n.da.set("Online"),t instanceof SS&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Pa.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Pa.delete(h),r.Aa.removeTarget(h))}(n,t)}catch(i){ht(Da,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Kf(n,i)}else if(t instanceof Sf?n.Aa.Xe(t):t instanceof TS?n.Aa.ot(t):n.Aa.nt(t),!e.isEqual(Tt.min()))try{const i=await VS(n.localStore);e.compareTo(i)>=0&&await function(o,c){const h=o.Aa.It(c);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Pa.get(m);y&&o.Pa.set(m,y.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,m)=>{const y=o.Pa.get(f);if(!y)return;o.Pa.set(f,y.withResumeToken(Ge.EMPTY_BYTE_STRING,y.snapshotVersion)),zS(o,f);const v=new ur(y.target,f,m,y.sequenceNumber);zy(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){ht(Da,"Failed to raise snapshot:",i),await Kf(n,i)}}async function Kf(n,t,e){if(!ol(t))throw t;n.Ta.add(1),await yu(n),n.da.set("Offline"),e||(e=()=>VS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ht(Da,"Retrying IndexedDB access"),await e(),n.Ta.delete(1),await Sd(n)})}function HS(n,t){return t().catch(e=>Kf(n,e,t))}async function Ad(n){const t=Rt(n),e=Ar(t);let i=t.ha.length>0?t.ha[t.ha.length-1].batchId:Sy;for(;mk(t);)try{const r=await QM(t.localStore,i);if(r===null){t.ha.length===0&&e.N_();break}i=r.batchId,gk(t,r)}catch(r){await Kf(t,r)}FS(t)&&qS(t)}function mk(n){return Va(n)&&n.ha.length<10}function gk(n,t){n.ha.push(t);const e=Ar(n);e.M_()&&e.Y_&&e.Z_(t.mutations)}function FS(n){return Va(n)&&!Ar(n).F_()&&n.ha.length>0}function qS(n){Ar(n).start()}async function pk(n){Ar(n).ta()}async function yk(n){const t=Ar(n);for(const e of n.ha)t.Z_(e.mutations)}async function _k(n,t,e){const i=n.ha.shift(),r=Oy.from(i,t,e);await HS(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Ad(n)}async function vk(n,t){t&&Ar(n).Y_&&await async function(i,r){if(function(c){return eM(c)&&c!==rt.ABORTED}(r.code)){const o=i.ha.shift();Ar(i).O_(),await HS(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Ad(i)}}(n,t),FS(n)&&qS(n)}async function Zx(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ht(Da,"RemoteStore received new credentials");const i=Va(e);e.Ta.add(3),await yu(e),i&&e.da.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ta.delete(3),await Sd(e)}async function bk(n,t){const e=Rt(n);t?(e.Ta.delete(2),await Sd(e)):t||(e.Ta.add(2),await yu(e),e.da.set("Unknown"))}function ll(n){return n.Ra||(n.Ra=function(e,i,r){const o=Rt(e);return o.ra(),new sk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{e_:uk.bind(null,n),n_:hk.bind(null,n),i_:fk.bind(null,n),j_:dk.bind(null,n)}),n.Ia.push(async t=>{t?(n.Ra.O_(),Hy(n)?By(n):n.da.set("Unknown")):(await n.Ra.stop(),BS(n))})),n.Ra}function Ar(n){return n.Va||(n.Va=function(e,i,r){const o=Rt(e);return o.ra(),new rk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:pk.bind(null,n),i_:vk.bind(null,n),X_:yk.bind(null,n),ea:_k.bind(null,n)}),n.Ia.push(async t=>{t?(n.Va.O_(),await Ad(n)):(await n.Va.stop(),n.ha.length>0&&(ht(Da,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new Fy(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qy(n,t){if(Rs("AsyncQueue",`${t}: ${n}`),ol(n))return new pt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(t){return new Bo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||_t.comparator(e.key,i.key):(e,i)=>_t.comparator(e.key,i.key),this.keyedMap=Nc(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Bo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.ma=new de(_t.comparator)}track(t){const e=t.doc.key,i=this.ma.get(e);i?t.type!==0&&i.type===3?this.ma=this.ma.insert(e,t):t.type===3&&i.type!==1?this.ma=this.ma.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ma=this.ma.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ma=this.ma.remove(e):t.type===1&&i.type===2?this.ma=this.ma.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ma=this.ma.insert(e,{type:2,doc:t.doc}):xt(63341,{Vt:t,fa:i}):this.ma=this.ma.insert(e,t)}ga(){const t=[];return this.ma.inorderTraversal((e,i)=>{t.push(i)}),t}}class Wo{constructor(t,e,i,r,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(h=>{c.push({type:0,doc:h})}),new Wo(t,e,Bo.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(t=>t.Sa())}}class Ek{constructor(){this.queries=tE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=tE(),o.forEach((c,h)=>{for(const f of h.ya)f.onError(i)})})(this,new pt(rt.ABORTED,"Firestore shutting down"))}}function tE(){return new Pa(n=>hS(n),vd)}async function wk(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.wa()&&t.Sa()&&(i=2):(o=new xk,i=t.Sa()?0:1);try{switch(i){case 0:o.pa=await e.onListen(r,!0);break;case 1:o.pa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=qy(c,`Initialization of query '${Mo(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.ya.push(t),t.Da(e.onlineState),o.pa&&t.va(o.pa)&&Gy(e)}async function Tk(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.ya.indexOf(t);c>=0&&(o.ya.splice(c,1),o.ya.length===0?r=t.Sa()?0:1:!o.wa()&&t.Sa()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function Sk(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.ya)h.va(r)&&(i=!0);c.pa=r}}i&&Gy(e)}function Ak(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.ya)o.onError(e);i.queries.delete(t)}function Gy(n){n.ba.forEach(t=>{t.next()})}var Fp,eE;(eE=Fp||(Fp={})).Ca="default",eE.Cache="cache";class Rk{constructor(t,e,i){this.query=t,this.Fa=e,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=i||{}}va(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Wo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Ma?this.Oa(t)&&(this.Fa.next(t),e=!0):this.Na(t,this.onlineState)&&(this.Ba(t),e=!0),this.xa=t,e}onError(t){this.Fa.error(t)}Da(t){this.onlineState=t;let e=!1;return this.xa&&!this.Ma&&this.Na(this.xa,t)&&(this.Ba(this.xa),e=!0),e}Na(t,e){if(!t.fromCache||!this.Sa())return!0;const i=e!=="Offline";return(!this.options.La||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Oa(t){if(t.docChanges.length>0)return!0;const e=this.xa&&this.xa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ba(t){t=Wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Ma=!0,this.Fa.next(t)}Sa(){return this.options.source!==Fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.key=t}}class YS{constructor(t){this.key=t}}class Ck{constructor(t,e){this.query=t,this.Ga=e,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Vt(),this.mutatedKeys=Vt(),this.Ha=fS(t),this.Ja=new Bo(this.Ha)}get Ya(){return this.Ga}Za(t,e){const i=e?e.Xa:new Jx,r=e?e.Ja:this.Ja;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,m=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((y,v)=>{const b=r.get(y),T=bd(this.query,v)?v:null,A=!!b&&this.mutatedKeys.has(b.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let N=!1;b&&T?b.data.isEqual(T.data)?A!==I&&(i.track({type:3,doc:T}),N=!0):this.eu(b,T)||(i.track({type:2,doc:T}),N=!0,(f&&this.Ha(T,f)>0||m&&this.Ha(T,m)<0)&&(h=!0)):!b&&T?(i.track({type:0,doc:T}),N=!0):b&&!T&&(i.track({type:1,doc:b}),N=!0,(f||m)&&(h=!0)),N&&(T?(c=c.add(T),o=I?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{Ja:c,Xa:i,Cs:h,mutatedKeys:o}}eu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ja;this.Ja=t.Ja,this.mutatedKeys=t.mutatedKeys;const c=t.Xa.ga();c.sort((y,v)=>function(T,A){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xt(20277,{Vt:N})}};return I(T)-I(A)}(y.type,v.type)||this.Ha(y.doc,v.doc)),this.tu(i),r=r!=null&&r;const h=e&&!r?this.nu():[],f=this.ja.size===0&&this.current&&!r?1:0,m=f!==this.za;return this.za=f,c.length!==0||m?{snapshot:new Wo(this.query,t.Ja,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ru:h}:{ru:h}}Da(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Jx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(t){return!this.Ga.has(t)&&!!this.Ja.has(t)&&!this.Ja.get(t).hasLocalMutations}tu(t){t&&(t.addedDocuments.forEach(e=>this.Ga=this.Ga.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ga=this.Ga.delete(e)),this.current=t.current)}nu(){if(!this.current)return[];const t=this.ja;this.ja=Vt(),this.Ja.forEach(i=>{this.iu(i.key)&&(this.ja=this.ja.add(i.key))});const e=[];return t.forEach(i=>{this.ja.has(i)||e.push(new YS(i))}),this.ja.forEach(i=>{t.has(i)||e.push(new GS(i))}),e}su(t){this.Ga=t.$s,this.ja=Vt();const e=this.Za(t.documents);return this.applyChanges(e,!0)}ou(){return Wo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Yy="SyncEngine";class Ik{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Nk{constructor(t){this.key=t,this._u=!1}}class Dk{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new Pa(h=>hS(h),vd),this.cu=new Map,this.lu=new Set,this.hu=new de(_t.comparator),this.Pu=new Map,this.Tu=new Py,this.Iu={},this.Eu=new Map,this.du=Xo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function Ok(n,t,e=!0){const i=ZS(n);let r;const o=i.uu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ou()):r=await $S(i,t,e,!0),r}async function Mk(n,t){const e=ZS(n);await $S(e,t,!0,!1)}async function $S(n,t,e,i){const r=await XM(n.localStore,Vi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await kk(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&US(n.remoteStore,r),h}async function kk(n,t,e,i,r){n.Ru=(v,b,T)=>async function(I,N,L,B){let X=N.view.Za(L);X.Cs&&(X=await $x(I.localStore,N.query,!1).then(({documents:O})=>N.view.Za(O,X)));const st=B&&B.targetChanges.get(N.targetId),J=B&&B.targetMismatches.get(N.targetId)!=null,lt=N.view.applyChanges(X,I.isPrimaryClient,st,J);return iE(I,N.targetId,lt.ru),lt.snapshot}(n,v,b,T);const o=await $x(n.localStore,t,!0),c=new Ck(t,o.$s),h=c.Za(o.documents),f=pu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),m=c.applyChanges(h,n.isPrimaryClient,f);iE(n,e,m.ru);const y=new Ik(t,e,c);return n.uu.set(t,y),n.cu.has(e)?n.cu.get(e).push(t):n.cu.set(e,[t]),m.snapshot}async function Pk(n,t,e){const i=Rt(n),r=i.uu.get(t),o=i.cu.get(r.targetId);if(o.length>1)return i.cu.set(r.targetId,o.filter(c=>!vd(c,t))),void i.uu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Bp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&Uy(i.remoteStore,r.targetId),qp(i,r.targetId)}).catch(al)):(qp(i,r.targetId),await Bp(i.localStore,r.targetId,!0))}async function Vk(n,t){const e=Rt(n),i=e.uu.get(t),r=e.cu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Uy(e.remoteStore,i.targetId))}async function Lk(n,t,e){const i=qk(n);try{const r=await function(c,h){const f=Rt(c),m=Re.now(),y=h.reduce((T,A)=>T.add(A.key),Vt());let v,b;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=Cs(),I=Vt();return f.Bs.getEntries(T,y).next(N=>{A=N,A.forEach((L,B)=>{B.isValidDocument()||(I=I.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,A)).next(N=>{v=N;const L=[];for(const B of h){const X=XO(B,v.get(B.key).overlayedDocument);X!=null&&L.push(new Or(B.key,X,iS(X.value.mapValue),hi.exists(!0)))}return f.mutationQueue.addMutationBatch(T,m,L,h)}).next(N=>{b=N;const L=N.applyToLocalDocumentSet(v,I);return f.documentOverlayCache.saveOverlays(T,N.batchId,L)})}).then(()=>({batchId:b.batchId,changes:mS(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,f){let m=c.Iu[c.currentUser.toKey()];m||(m=new de(Nt)),m=m.insert(h,f),c.Iu[c.currentUser.toKey()]=m}(i,r.batchId,e),await _u(i,r.changes),await Ad(i.remoteStore)}catch(r){const o=qy(r,"Failed to persist write");e.reject(o)}}async function KS(n,t){const e=Rt(n);try{const i=await $M(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.Pu.get(o);c&&(Yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c._u=!0:r.modifiedDocuments.size>0?Yt(c._u,14607):r.removedDocuments.size>0&&(Yt(c._u,42227),c._u=!1))}),await _u(e,i,t)}catch(i){await al(i)}}function nE(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.uu.forEach((o,c)=>{const h=c.view.Da(t);h.snapshot&&r.push(h.snapshot)}),function(c,h){const f=Rt(c);f.onlineState=h;let m=!1;f.queries.forEach((y,v)=>{for(const b of v.ya)b.Da(h)&&(m=!0)}),m&&Gy(f)}(i.eventManager,t),r.length&&i.au.j_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function jk(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Pu.get(t),o=r&&r.key;if(o){let c=new de(_t.comparator);c=c.insert(o,rn.newNoDocument(o,Tt.min()));const h=Vt().add(o),f=new wd(Tt.min(),new Map,new de(Nt),c,h);await KS(i,f),i.hu=i.hu.remove(o),i.Pu.delete(t),$y(i)}else await Bp(i.localStore,t,!1).then(()=>qp(i,t,e)).catch(al)}async function Uk(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await YM(e.localStore,t);XS(e,i,null),QS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await _u(e,r)}catch(r){await al(r)}}async function zk(n,t,e){const i=Rt(n);try{const r=await function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next(v=>(Yt(v!==null,37113),y=v.keys(),f.mutationQueue.removeMutationBatch(m,v))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(i.localStore,t);XS(i,t,e),QS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await _u(i,r)}catch(r){await al(r)}}function QS(n,t){(n.Eu.get(t)||[]).forEach(e=>{e.resolve()}),n.Eu.delete(t)}function XS(n,t,e){const i=Rt(n);let r=i.Iu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Iu[i.currentUser.toKey()]=r}}function qp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.cu.get(t))n.uu.delete(i),e&&n.au.Vu(i,e);n.cu.delete(t),n.isPrimaryClient&&n.Tu.Hr(t).forEach(i=>{n.Tu.containsKey(i)||WS(n,i)})}function WS(n,t){n.lu.delete(t.path.canonicalString());const e=n.hu.get(t);e!==null&&(Uy(n.remoteStore,e),n.hu=n.hu.remove(t),n.Pu.delete(e),$y(n))}function iE(n,t,e){for(const i of e)i instanceof GS?(n.Tu.addReference(i.key,t),Bk(n,i)):i instanceof YS?(ht(Yy,"Document no longer in limbo: "+i.key),n.Tu.removeReference(i.key,t),n.Tu.containsKey(i.key)||WS(n,i.key)):xt(19791,{mu:i})}function Bk(n,t){const e=t.key,i=e.path.canonicalString();n.hu.get(e)||n.lu.has(i)||(ht(Yy,"New document in limbo: "+e),n.lu.add(i),$y(n))}function $y(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const t=n.lu.values().next().value;n.lu.delete(t);const e=new _t(ue.fromString(t)),i=n.du.next();n.Pu.set(i,new Nk(e)),n.hu=n.hu.insert(e,i),US(n.remoteStore,new ur(Vi(uS(e.path)),i,"TargetPurposeLimboResolution",gd.le))}}async function _u(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.uu.isEmpty()||(i.uu.forEach((h,f)=>{c.push(i.Ru(f,t,e).then(m=>{var y;if((m||e)&&i.isPrimaryClient){const v=m?!m.fromCache:(y=e==null?void 0:e.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){r.push(m);const v=Ly.Rs(f.targetId,m);o.push(v)}}))}),await Promise.all(c),i.au.j_(r),await async function(f,m){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>nt.forEach(m,b=>nt.forEach(b.ds,T=>y.persistence.referenceDelegate.addReference(v,b.targetId,T)).next(()=>nt.forEach(b.As,T=>y.persistence.referenceDelegate.removeReference(v,b.targetId,T)))))}catch(v){if(!ol(v))throw v;ht(jy,"Failed to update sequence numbers: "+v)}for(const v of m){const b=v.targetId;if(!v.fromCache){const T=y.xs.get(b),A=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(A);y.xs=y.xs.insert(b,I)}}}(i.localStore,o))}async function Hk(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ht(Yy,"User change. New user:",t.toKey());const i=await PS(e.localStore,t);e.currentUser=t,function(o,c){o.Eu.forEach(h=>{h.forEach(f=>{f.reject(new pt(rt.CANCELLED,c))})}),o.Eu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await _u(e,i.ks)}}function Fk(n,t){const e=Rt(n),i=e.Pu.get(t);if(i&&i._u)return Vt().add(i.key);{let r=Vt();const o=e.cu.get(t);if(!o)return r;for(const c of o){const h=e.uu.get(c);r=r.unionWith(h.view.Ya)}return r}}function ZS(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jk.bind(null,t),t.au.j_=Sk.bind(null,t.eventManager),t.au.Vu=Ak.bind(null,t.eventManager),t}function qk(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Uk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zk.bind(null,t),t}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Td(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),await this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)}Su(t,e){return null}bu(t,e){return null}wu(t){return GM(this.persistence,new HM,t.initialUser,this.serializer)}yu(t){return new kS(Vy.fi,this.serializer)}pu(t){return new ZM}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class Gk extends Qf{constructor(t){super(),this.cacheSizeBytes=t}Su(t,e){Yt(this.persistence.referenceDelegate instanceof $f,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new RM(i,t.asyncQueue,e)}yu(t){const e=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new kS(i=>$f.fi(i,e),this.serializer)}}class Gp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hk.bind(null,this.syncEngine),await bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Ek}()}createDatastore(t){const e=Td(t.databaseInfo.databaseId),i=function(o){return new ik(o)}(t.databaseInfo);return function(o,c,h,f){return new ok(o,c,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,h){return new ck(i,r,o,c,h)}(this.localStore,this.datastore,t.asyncQueue,e=>nE(this.syncEngine,e,0),function(){return Xx.C()?new Xx:new JM}())}createSyncEngine(t,e){return function(r,o,c,h,f,m,y){const v=new Dk(r,o,c,h,f,m);return y&&(v.Au=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Rt(r);ht(Da,"RemoteStore shutting down."),o.Ta.add(5),await yu(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.vu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.vu(this.observer.error,t):Rs("Uncaught Error in snapshot listener:",t.toString()))}Cu(){this.muted=!0}vu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="FirestoreClient";class $k{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=sn.UNAUTHENTICATED,this.clientId=Ty.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{ht(Rr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ht(Rr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=qy(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function ip(n,t){n.asyncQueue.verifyOperationInProgress(),ht(Rr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await PS(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function sE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await Kk(n);ht(Rr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>Zx(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>Zx(t.remoteStore,r)),n._onlineComponents=t}async function Kk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ht(Rr,"Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Na("Error using user provided cache. Falling back to memory cache: "+e),await ip(n,new Qf)}}else ht(Rr,"Using default OfflineComponentProvider"),await ip(n,new Gk(void 0));return n._offlineComponents}async function JS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ht(Rr,"Using user provided OnlineComponentProvider"),await sE(n,n._uninitializedComponentsProvider._online)):(ht(Rr,"Using default OnlineComponentProvider"),await sE(n,new Gp))),n._onlineComponents}function Qk(n){return JS(n).then(t=>t.syncEngine)}async function Xk(n){const t=await JS(n),e=t.eventManager;return e.onListen=Ok.bind(null,t.syncEngine),e.onUnlisten=Pk.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Mk.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Vk.bind(null,t.syncEngine),e}function Wk(n,t,e={}){const i=new _r;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,h,f,m){const y=new Yk({next:b=>{y.Cu(),c.enqueueAndForget(()=>Tk(o,v)),b.fromCache&&f.source==="server"?m.reject(new pt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),v=new Rk(h,y,{includeMetadataChanges:!0,La:!0});return wk(o,v)}(await Xk(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n,t,e){if(!e)throw new pt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function n1(n,t,e,i){if(t===!0&&i===!0)throw new pt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function aE(n){if(!_t.isDocumentKey(n))throw new pt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oE(n){if(_t.isDocumentKey(n))throw new pt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ky(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xt(12329,{type:typeof n})}function Cr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Ky(n);throw new pt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firestore.googleapis.com",lE=!0;class cE{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new pt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i1,this.ssl=lE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:lE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=MS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<SM)throw new pt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}n1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=t1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rd{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new pt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new YT;switch(i.type){case"firstParty":return new sO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=rE.get(e);i&&(ht("ComponentProvider","Removing Datastore"),rE.delete(e),i.terminate())}(this),Promise.resolve()}}function s1(n,t,e,i={}){var r;n=Cr(n,Rd);const o=cu(t),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;o&&(Qw(`https://${f}`),Xw("Firestore",!0)),c.host!==i1&&c.host!==f&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:i});if(!Aa(m,h)&&(n._setSettings(m),i.mockUserToken)){let y,v;if(typeof i.mockUserToken=="string")y=i.mockUserToken,v=sn.MOCK_USER;else{y=RC(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new pt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new sn(b)}n._authCredentials=new eO(new GT(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vu(this.firestore,t,this._query)}}class On{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new On(this.firestore,t,this._key)}}class ws extends vu{constructor(t,e,i){super(t,e,uS(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new On(this.firestore,null,new _t(t))}withConverter(t){return new ws(this.firestore,t,this._path)}}function mn(n,t,...e){if(n=cn(n),e1("collection","path",t),n instanceof Rd){const i=ue.fromString(t,...e);return oE(i),new ws(n,null,i)}{if(!(n instanceof On||n instanceof ws))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return oE(i),new ws(n.firestore,null,i)}}function Qy(n,t,...e){if(n=cn(n),arguments.length===1&&(t=Ty.newId()),e1("doc","path",t),n instanceof Rd){const i=ue.fromString(t,...e);return aE(i),new On(n,null,new _t(i))}{if(!(n instanceof On||n instanceof ws))throw new pt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ue.fromString(t,...e));return aE(i),new On(n.firestore,n instanceof ws?n.converter:null,new _t(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class hE{constructor(t=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new LS(this,"async_queue_retry"),this.ec=()=>{const i=np();i&&ht(uE,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=t;const e=np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.nc(),this.rc(t)}enterRestrictedMode(t){if(!this.ju){this.ju=!0,this.Zu=t||!1;const e=np();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ec)}}enqueue(t){if(this.nc(),this.ju)return new Promise(()=>{});const e=new _r;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.zu.push(t),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(t){if(!ol(t))throw t;ht(uE,"Operation failed with retryable error: "+t)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(t){const e=this.tc.then(()=>(this.Yu=!0,t().catch(i=>{throw this.Ju=i,this.Yu=!1,Rs("INTERNAL UNHANDLED ERROR: ",fE(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=e,e}enqueueAfterDelay(t,e,i){this.nc(),this.Xu.indexOf(t)>-1&&(e=0);const r=Fy.createAndSchedule(this,t,e,i,o=>this.oc(o));return this.Hu.push(r),r}nc(){this.Ju&&xt(47125,{_c:fE(this.Ju)})}verifyOperationInProgress(){}async ac(){let t;do t=this.tc,await t;while(t!==this.tc)}uc(t){for(const e of this.Hu)if(e.timerId===t)return!0;return!1}cc(t){return this.ac().then(()=>{this.Hu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Hu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.ac()})}lc(t){this.Xu.push(t)}oc(t){const e=this.Hu.indexOf(t);this.Hu.splice(e,1)}}function fE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class cl extends Rd{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new hE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hE(t),this._firestoreClient=void 0,await t}}}function r1(n,t){const e=typeof n=="object"?n:tT(),i=typeof n=="string"?n:Bf,r=hy(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=SC("firestore");o&&s1(r,...o)}return r}function Xy(n){if(n._terminated)throw new pt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Zk(n),n._firestoreClient}function Zk(n){var t,e,i;const r=n._freezeSettings(),o=function(h,f,m,y){return new vO(h,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,t1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new $k(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Oa(Ge.fromBase64String(t))}catch(e){throw new pt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Oa(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new pt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new pt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new pt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=/^__.*__$/;class tP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Or(t,this.data,this.fieldMask,e,this.fieldTransforms):new gu(t,this.data,e,this.fieldTransforms)}}class a1{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Or(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function o1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xt(40011,{hc:n})}}class Wy{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(t){return new Wy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Tc({path:i,Ec:!1});return r.dc(t),r}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Tc({path:i,Ec:!1});return r.Pc(),r}Rc(t){return this.Tc({path:void 0,Ec:!0})}Vc(t){return Xf(t,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Pc(){if(this.path)for(let t=0;t<this.path.length;t++)this.dc(this.path.get(t))}dc(t){if(t.length===0)throw this.Vc("Document fields must not be empty");if(o1(this.hc)&&Jk.test(t))throw this.Vc('Document fields cannot begin and end with "__"')}}class eP{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Td(t)}gc(t,e,i,r=!1){return new Wy({hc:t,methodName:e,fc:i,path:qe.emptyPath(),Ec:!1,mc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l1(n){const t=n._freezeSettings(),e=Td(n._databaseId);return new eP(n._databaseId,!!t.ignoreUndefinedProperties,e)}function nP(n,t,e,i,r,o={}){const c=n.gc(o.merge||o.mergeFields?2:0,t,e,r);Jy("Data must be an object, but it was:",c,i);const h=c1(i,c);let f,m;if(o.merge)f=new Dn(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const v of o.mergeFields){const b=Yp(t,v,e);if(!c.contains(b))throw new pt(rt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);h1(y,b)||y.push(b)}f=new Dn(y),m=c.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,m=c.fieldTransforms;return new tP(new bn(h),f,m)}class Nd extends xu{_toFieldTransform(t){if(t.hc!==2)throw t.hc===1?t.Vc(`${this._methodName}() can only appear at the top level of your update data`):t.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nd}}class Zy extends xu{_toFieldTransform(t){return new YO(t.path,new Jc)}isEqual(t){return t instanceof Zy}}function iP(n,t,e,i){const r=n.gc(1,t,e);Jy("Data must be an object, but it was:",r,i);const o=[],c=bn.empty();Dr(i,(f,m)=>{const y=t_(t,f,e);m=cn(m);const v=r.Ac(y);if(m instanceof Nd)o.push(y);else{const b=Dd(m,v);b!=null&&(o.push(y),c.set(y,b))}});const h=new Dn(o);return new a1(c,h,r.fieldTransforms)}function sP(n,t,e,i,r,o){const c=n.gc(1,t,e),h=[Yp(t,i,e)],f=[r];if(o.length%2!=0)throw new pt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<o.length;b+=2)h.push(Yp(t,o[b])),f.push(o[b+1]);const m=[],y=bn.empty();for(let b=h.length-1;b>=0;--b)if(!h1(m,h[b])){const T=h[b];let A=f[b];A=cn(A);const I=c.Ac(T);if(A instanceof Nd)m.push(T);else{const N=Dd(A,I);N!=null&&(m.push(T),y.set(T,N))}}const v=new Dn(m);return new a1(y,v,c.fieldTransforms)}function Dd(n,t){if(u1(n=cn(n)))return Jy("Unsupported field value:",t,n),c1(n,t);if(n instanceof xu)return function(i,r){if(!o1(r.hc))throw r.Vc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Vc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Ec&&t.hc!==4)throw t.Vc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let f=Dd(h,r.Rc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=cn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return FO(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Re.fromDate(i);return{timestampValue:Yf(r.serializer,o)}}if(i instanceof Re){const o=new Re(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yf(r.serializer,o)}}if(i instanceof Cd)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Oa)return{bytesValue:AS(r.serializer,i._byteString)};if(i instanceof On){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ky(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Id)return function(c,h){return{mapValue:{fields:{[eS]:{stringValue:nS},[Hf]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.Vc("VectorValues must only contain numeric values.");return Ny(h.serializer,m)})}}}}}}(i,r);throw r.Vc(`Unsupported field value: ${Ky(i)}`)}(n,t)}function c1(n,t){const e={};return QT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dr(n,(i,r)=>{const o=Dd(r,t.Ic(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function u1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Re||n instanceof Cd||n instanceof Oa||n instanceof On||n instanceof xu||n instanceof Id)}function Jy(n,t,e){if(!u1(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=Ky(e);throw i==="an object"?t.Vc(n+" a custom object"):t.Vc(n+" "+i)}}function Yp(n,t,e){if((t=cn(t))instanceof bu)return t._internalPath;if(typeof t=="string")return t_(n,t);throw Xf("Field path arguments must be of type string or ",n,!1,void 0,e)}const rP=new RegExp("[~\\*/\\[\\]]");function t_(n,t,e){if(t.search(rP)>=0)throw Xf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new bu(...t.split("."))._internalPath}catch{throw Xf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Xf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new pt(rt.INVALID_ARGUMENT,h+n+f)}function h1(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(d1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class aP extends f1{data(){return super.data()}}function d1(n,t){return typeof t=="string"?t_(n,t):t instanceof bu?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m1{convertValue(t,e="none"){switch(Sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw xt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Dr(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[Hf].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>be(c.doubleValue));return new Id(o)}convertGeoPoint(t){return new Cd(be(t.latitude),be(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=yd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Wc(t));default:return null}}convertTimestamp(t){const e=wr(t);return new Re(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ue.fromString(t);Yt(OS(i),9688,{name:t});const r=new $o(i.get(1),i.get(3)),o=new _t(i.popFirst(5));return r.isEqual(e)||Rs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class g1 extends f1{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(d1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Hc extends g1{data(t={}){return super.data(t)}}class p1{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Oc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Hc(this._firestore,this._userDataWriter,i.key,i,new Oc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new pt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>{const f=new Hc(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Oc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Hc(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Oc(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:cP(h.type),doc:f,oldIndex:m,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xt(61501,{type:n})}}class uP extends m1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Oa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new On(this.firestore,null,e)}}function Xn(n){n=Cr(n,vu);const t=Cr(n.firestore,cl),e=Xy(t),i=new uP(t);return oP(n._query),Wk(e,n._query).then(r=>new p1(t,i,n,r))}function hP(n,t,e,...i){n=Cr(n,On);const r=Cr(n.firestore,cl),o=l1(r);let c;return c=typeof(t=cn(t))=="string"||t instanceof bu?sP(o,"updateDoc",n._key,t,e,i):iP(o,"updateDoc",n._key,t),Md(r,[c.toMutation(n._key,hi.exists(!0))])}function y1(n){return Md(Cr(n.firestore,cl),[new Dy(n._key,hi.none())])}function Od(n,t){const e=Cr(n.firestore,cl),i=Qy(n),r=lP(n.converter,t);return Md(e,[nP(l1(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,hi.exists(!1))]).then(()=>i)}function Md(n,t){return function(i,r){const o=new _r;return i.asyncQueue.enqueueAndForget(async()=>Lk(await Qk(i),r,o)),o.promise}(Xy(n),t)}function kd(){return new Zy("serverTimestamp")}(function(t,e=!0){(function(r){rl=r})(nl),qo(new Ra("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new cl(new nO(i.getProvider("auth-internal")),new rO(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $o(m.options.projectId,y)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),gr(yx,_x,t),gr(yx,_x,"esm2017")})();const sp=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:m1,Bytes:Oa,CollectionReference:ws,DocumentReference:On,DocumentSnapshot:g1,FieldPath:bu,FieldValue:xu,Firestore:cl,FirestoreError:pt,GeoPoint:Cd,Query:vu,QueryDocumentSnapshot:Hc,QuerySnapshot:p1,SnapshotMetadata:Oc,Timestamp:Re,VectorValue:Id,_AutoId:Ty,_ByteString:Ge,_DatabaseId:$o,_DocumentKey:_t,_EmptyAuthCredentialsProvider:YT,_FieldPath:qe,_cast:Cr,_logWarn:Na,_validateIsNotUsedTogether:n1,addDoc:Od,collection:mn,connectFirestoreEmulator:s1,deleteDoc:y1,doc:Qy,ensureFirestoreConfigured:Xy,executeWrite:Md,getDocs:Xn,getFirestore:r1,serverTimestamp:kd,updateDoc:hP},Symbol.toStringTag,{value:"Module"})),fP={apiKey:"AIzaSyCPiaYsbahfmpHvYfw5BeIhujrXPKk2HrI",authDomain:"my-portfolio-a6566.firebaseapp.com",projectId:"my-portfolio-a6566",storageBucket:"my-portfolio-a6566.firebasestorage.app",messagingSenderId:"228977176391",appId:"1:228977176391:web:6a86aa876cc60769886662",measurementId:"G-SE3JCN37R3"},_1=Jw(fP),Kn=WD(_1),dE=new _s,Me=r1(_1),dP=({pageName:n})=>{const t=di(),[e,i]=F.useState(!1),[r,o]=F.useState(!1);F.useEffect(()=>{const m=wT(Kn,y=>{o(!!y)});return()=>m()},[]);const c=async()=>{await TT(Kn),i(!1)},h=m=>t.pathname===m,f=m=>`transition hover:text-blue-200 ${h(m)?"text-orange-400 font-bold underline":"text-white"}`;return x.jsx("nav",{className:"bg-gradient-to-r from-blue-900 via-blue-700 to-blue-400 text-white p-4 shadow-md",children:x.jsxs("div",{className:"flex justify-between items-center w-full px-4 py-3",children:[x.jsxs("div",{className:"flex items-center space-x-2 text-xl font-bold",children:[x.jsx("img",{src:ud,alt:"Logo",className:"w-10"}),x.jsx("span",{children:n})]}),x.jsx("button",{className:"md:hidden text-white text-2xl",onClick:()=>i(!e),children:"☰"}),x.jsx("div",{className:`${e?"flex":"hidden"} md:flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6 absolute md:static top-16 right-4 bg-blue-800 md:bg-transparent p-4 md:p-0 rounded-lg md:rounded-none shadow-md md:shadow-none z-50`,children:r?x.jsxs(x.Fragment,{children:[x.jsx(vs,{to:"/admin",className:f("/admin"),children:"Admin"}),x.jsx("button",{onClick:c,className:`
                  px-4 py-2 rounded-md 
                  bg-gradient-to-r from-yellow-600 via-orange-500 to-red-600 
                  text-white font-bold 
                  shadow-lg 
                  hover:from-yellow-300 hover:via-orange-400 hover:to-red-500 
                  transition duration-300
                `,children:"Logout"})]}):x.jsx(vs,{to:"/login",className:`
                px-4 py-2 rounded-md 
                bg-gradient-to-r from-yellow-600 via-orange-500 to-red-600 
                text-white font-bold 
                shadow-lg 
                hover:from-yellow-300 hover:via-orange-400 hover:to-red-500 
                transition duration-300
              `,children:"Login"})})]})})},mP=()=>{const[n,t]=F.useState([]),[e,i]=F.useState(!0);if(F.useEffect(()=>{Xn(mn(Me,"perfil")).then(o=>{const c=[];o.forEach(h=>{const f=h.data();c.push({id:h.id,perfil:f.perfil||{},contatos:f.contatos||{},endereco:f.endereco||{},redes_sociais:f.redes_sociais||{},formacao:f.formacao||{}})}),t(c),i(!1)})},[]),e)return x.jsx("div",{className:"text-center text-blue-900 py-8",children:"Carregando perfis..."});const r=n.filter(o=>o.perfil.ativo);return r.length===0?x.jsx("div",{className:"text-center text-gray-500 py-8",children:"Nenhum perfil ativo encontrado."}):x.jsx("div",{className:"max-w-4xl mx-auto p-4 grid gap-8",children:r.map((o,c)=>x.jsxs("div",{className:"bg-gradient-to-r from-blue-400 via-blue-400 to-blue rounded-2xl shadow-xl border-2 border-blue-500 hover:shadow-2xl transition overflow-hidden flex flex-col items-center md:items-stretch animate-slide-card"+(c>0?" mt-2":""),style:{animationDelay:`${c*80}ms`},children:[x.jsx("div",{className:"w-full flex flex-col items-center bg-gradient-to-b from-gray-100 via-gray-200 to-gray-300 rounded-2xl shadow border border-blue-200 p-6 mb-4 animate-slide-down",style:{margin:20},children:x.jsxs("div",{className:"flex flex-col items-center w-full",children:[o.perfil.foto&&x.jsx("div",{className:"flex justify-center w-full mb-4",children:x.jsx("img",{src:o.perfil.foto,alt:o.perfil.nomeCompleto,className:"rounded-full object-cover border-4 border-blue-300 shadow transition-transform duration-700 ease-out hover:scale-105",style:{width:"6rem",height:"6rem",maxWidth:"100%"},sizes:"(max-width: 640px) 96px, (max-width: 1024px) 128px, 160px",srcSet:o.perfil.foto+" 96w,"+o.perfil.foto+" 128w,"+o.perfil.foto+" 160w"})}),x.jsx("div",{className:"w-full flex justify-center",children:x.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-extrabold text-blue-900 mb-0 text-center tracking-tight transition-all duration-700 ease-out hover:text-blue-600 hover:scale-105",children:o.perfil.nomeCompleto})})]})}),x.jsxs("div",{className:"flex-1 flex flex-col md:flex-row md:flex-wrap gap-4 w-full p-4",children:[x.jsxs("div",{className:"w-full bg-white/70 rounded-xl shadow border border-blue-200 p-4 mb-4",children:[x.jsx("div",{className:"border-b border-blue-200 mb-2 pb-1",children:x.jsxs("h3",{className:"font-semibold text-blue-700 flex items-center gap-2 text-lg",children:[x.jsx("span",{children:"📝"}),"Bio"]})}),x.jsx("p",{className:"text-gray-700 mb-2 whitespace-pre-line",children:o.perfil.bio})]}),x.jsxs("div",{className:"w-full bg-white/70 rounded-xl shadow border border-blue-200 p-4 mb-4",children:[x.jsx("div",{className:"border-b border-blue-200 mb-2 pb-1",children:x.jsxs("h4",{className:"font-semibold text-blue-700 flex items-center gap-2 text-base",children:[x.jsx("span",{children:"💡"}),"Soft Skills"]})}),x.jsx("p",{className:"text-gray-700",children:o.perfil.softSkills})]}),x.jsxs("div",{className:"flex-1 min-w-[260px] bg-white/70 rounded-xl shadow border border-blue-200 p-4",children:[x.jsx("div",{className:"border-b border-blue-200 mb-2 pb-1",children:x.jsxs("h3",{className:"font-semibold text-blue-700 flex items-center gap-2 text-lg",children:[x.jsx("span",{children:"📞"}),"Contatos"]})}),x.jsxs("ul",{className:"text-gray-700 space-y-1",children:[x.jsxs("li",{children:[x.jsx("b",{children:"Email:"})," ",x.jsx("a",{href:`mailto:${o.contatos.email}`,className:"underline text-blue-700",children:o.contatos.email})]}),x.jsxs("li",{children:[x.jsx("b",{children:"Telefone:"})," ",x.jsx("a",{href:`tel:${o.contatos.telefone}`,className:"underline text-blue-700",children:o.contatos.telefone})]})]})]}),x.jsxs("div",{className:"flex-1 min-w-[260px] bg-white/70 rounded-xl shadow border border-blue-200 p-4",children:[x.jsx("div",{className:"border-b border-blue-200 mb-2 pb-1",children:x.jsxs("h3",{className:"font-semibold text-blue-700 flex items-center gap-2 text-lg",children:[x.jsx("span",{children:"🏠"}),"Endereço"]})}),x.jsxs("ul",{className:"text-gray-700 space-y-1",children:[x.jsxs("li",{children:[x.jsx("b",{children:"Bairro:"})," ",o.endereco.bairro]}),x.jsxs("li",{children:[x.jsx("b",{children:"Cidade:"})," ",o.endereco.cidade]}),x.jsxs("li",{children:[x.jsx("b",{children:"Estado:"})," ",o.endereco.estado]}),x.jsxs("li",{children:[x.jsx("b",{children:"CEP:"})," ",o.endereco.cep]})]})]}),x.jsxs("div",{className:"flex-1 min-w-[260px] bg-white/70 rounded-xl shadow border border-blue-200 p-4",children:[x.jsx("div",{className:"border-b border-blue-200 mb-2 pb-1",children:x.jsxs("h3",{className:"font-semibold text-blue-700 flex items-center gap-2 text-lg",children:[x.jsx("span",{children:"🌐"}),"Redes Sociais"]})}),x.jsxs("ul",{className:"flex flex-wrap gap-3 text-blue-800",children:[o.redes_sociais.linkedin&&x.jsx("li",{children:x.jsx("a",{href:o.redes_sociais.linkedin,target:"_blank",rel:"noopener noreferrer",className:"underline flex items-center gap-1",children:"in"})}),o.redes_sociais.github&&x.jsx("li",{children:x.jsx("a",{href:o.redes_sociais.github,target:"_blank",rel:"noopener noreferrer",className:"underline flex items-center gap-1",children:"GitHub"})}),o.redes_sociais.instagram&&x.jsx("li",{children:x.jsx("a",{href:o.redes_sociais.instagram,target:"_blank",rel:"noopener noreferrer",className:"underline flex items-center gap-1",children:"Instagram"})}),o.redes_sociais.facebook&&x.jsx("li",{children:x.jsx("a",{href:o.redes_sociais.facebook,target:"_blank",rel:"noopener noreferrer",className:"underline flex items-center gap-1",children:"Facebook"})}),o.redes_sociais.telegram&&x.jsx("li",{children:x.jsx("a",{href:o.redes_sociais.telegram,target:"_blank",rel:"noopener noreferrer",className:"underline flex items-center gap-1",children:"Telegram"})}),o.redes_sociais.whatsapp&&x.jsx("li",{children:x.jsx("a",{href:o.redes_sociais.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"underline flex items-center gap-1",children:"WhatsApp"})})]})]}),x.jsxs("div",{className:"flex-1 min-w-[260px] bg-white/70 rounded-xl shadow border border-blue-200 p-4",children:[x.jsx("div",{className:"border-b border-blue-200 mb-2 pb-1",children:x.jsxs("h3",{className:"font-semibold text-blue-700 flex items-center gap-2 text-lg",children:[x.jsx("span",{children:"🎓"}),"Formação"]})}),x.jsxs("ul",{className:"text-gray-700 space-y-1",children:[x.jsxs("li",{children:[x.jsx("b",{children:"Curso:"})," ",o.formacao.curso]}),x.jsxs("li",{children:[x.jsx("b",{children:"Instituição:"})," ",o.formacao.instituicao]}),x.jsxs("li",{children:[x.jsx("b",{children:"Ano de Conclusão:"})," ",o.formacao.anoConclusao]}),x.jsxs("li",{children:[x.jsx("b",{children:"Nível:"})," ",o.formacao.nivel]})]})]})]})]},o.id))})};function rp(n){if(n&&typeof n=="object"&&"seconds"in n)return new Date(n.seconds*1e3).toLocaleDateString();if(typeof n=="string"&&n.length>0){const t=new Date(n);return isNaN(t.getTime())?n:t.toLocaleDateString()}return""}const gP=()=>{const[n,t]=F.useState([]),[e,i]=F.useState(!0);return F.useEffect(()=>{Xn(mn(Me,"projetos")).then(r=>{const o=[];r.forEach(c=>{const h=c.data();o.push({id:c.id,nome:h.nome||"",descricao:h.descricao||"",imagemCapa:h.imagemCapa||"",gifPreview:h.gifPreview||"",linkDetalhes:h.linkDetalhes||"",linkRepositorio:h.linkRepositorio||"",linkDemo:h.linkDemo||"",tecnologias:Array.isArray(h.tecnologias)?h.tecnologias:[],dataPublicacao:h.dataPublicacao||"",status:h.status||"",destaque:!!h.destaque,created_at:h.created_at||"",updated_at:h.updated_at||""})}),t(o),i(!1)})},[]),e?x.jsx("div",{className:"text-center text-blue-900 py-8",children:"Carregando projetos..."}):n.length===0?x.jsx("div",{className:"text-center text-gray-500 py-8",children:"Nenhum projeto encontrado."}):x.jsx("div",{className:"max-w-4xl mx-auto p-4 grid gap-8",children:x.jsxs("div",{className:"w-full bg-gradient-to-b from-gray-100 via-gray-200 to-gray-300 rounded-2xl shadow border border-blue-200 p-8 mb-8 animate-slide-down",style:{margin:20},children:[x.jsx("h4",{className:"text-xl font-bold text-blue-900 mb-6 text-center tracking-tight",children:"Projetos"}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full justify-center items-stretch",children:n.map((r,o)=>x.jsxs("div",{className:"bg-white/70 rounded-xl shadow border border-blue-200 p-4 flex flex-col items-center animate-slide-card",style:{animationDelay:`${o*80}ms`},children:[r.imagemCapa&&x.jsx("img",{src:r.imagemCapa,alt:r.nome,className:"w-24 h-24 rounded-lg object-cover border-4 border-blue-300 shadow mb-2"}),r.gifPreview&&x.jsx("img",{src:r.gifPreview,alt:r.nome+" preview",className:"w-24 h-24 rounded-lg object-cover border-2 border-blue-200 shadow mb-2"}),x.jsx("h5",{className:"text-base font-bold text-blue-800 mb-1 text-center",children:r.nome}),x.jsxs("div",{className:"w-full mb-1 text-sm",children:[x.jsx("span",{className:"font-semibold text-blue-700",children:"📝 Descrição:"})," ",x.jsx("span",{className:"text-gray-700",children:r.descricao})]}),x.jsxs("div",{className:"w-full mb-1 text-sm",children:[x.jsx("span",{className:"font-semibold text-blue-700",children:"🚀 Tecnologias:"})," ",x.jsx("span",{className:"text-gray-700",children:r.tecnologias.join(", ")})]}),x.jsxs("div",{className:"w-full mb-1 text-sm",children:[x.jsx("span",{className:"font-semibold text-blue-700",children:"📅 Publicação:"})," ",x.jsx("span",{className:"text-gray-700",children:rp(r.dataPublicacao)})]}),x.jsxs("div",{className:"w-full mb-1 text-sm",children:[x.jsx("span",{className:"font-semibold text-blue-700",children:"🔖 Status:"})," ",x.jsx("span",{className:"text-gray-700",children:r.status})]}),x.jsxs("div",{className:"w-full mb-1 text-sm",children:[x.jsx("span",{className:"font-semibold text-blue-700",children:"🌟 Destaque:"})," ",x.jsx("span",{className:"text-gray-700",children:r.destaque?"Sim":"Não"})]}),x.jsxs("div",{className:"w-full flex flex-wrap gap-2 mt-2 justify-center",children:[r.linkDetalhes&&x.jsx("a",{href:r.linkDetalhes,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 text-xs",children:"Detalhes"}),r.linkRepositorio&&x.jsx("a",{href:r.linkRepositorio,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 text-xs",children:"Repositório"}),r.linkDemo&&x.jsx("a",{href:r.linkDemo,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 text-xs",children:"Demo"})]}),x.jsxs("div",{className:"w-full mt-2 text-xs text-gray-500 text-center",children:[x.jsxs("div",{children:[x.jsx("b",{children:"Criado em:"})," ",rp(r.created_at)]}),x.jsxs("div",{children:[x.jsx("b",{children:"Atualizado em:"})," ",rp(r.updated_at)]})]})]},r.id))})]})})},pP=()=>{const[n,t]=F.useState([]),[e,i]=F.useState(!0);return F.useEffect(()=>{Xn(mn(Me,"conferencias")).then(r=>{const o=[];r.forEach(c=>{const h=c.data();o.push({id:c.id,nome:h.nome||"",local:h.local||"",imagem:h.imagem||"",site:h.site||""})}),t(o),i(!1)})},[]),e?x.jsx("div",{className:"text-center text-blue-900 py-8",children:"Carregando conferências..."}):n.length===0?x.jsx("div",{className:"text-center text-gray-500 py-8",children:"Nenhuma conferência encontrada."}):x.jsx("footer",{className:"max-w-4xl mx-auto p-4 grid gap-8",children:x.jsxs("div",{className:"w-full bg-gradient-to-b from-gray-100 via-gray-200 to-gray-300 rounded-2xl shadow border border-blue-200 p-8 mb-8 animate-slide-down",style:{margin:20},children:[x.jsx("h4",{className:"text-xl font-bold text-blue-900 mb-6 text-center tracking-tight",children:"Conferências e Comunidade"}),n.length===0?x.jsx("div",{className:"text-center text-gray-500 py-8",children:"Nenhuma conferência encontrada."}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 w-full justify-center items-stretch",children:n.map(r=>x.jsxs("div",{className:"bg-white/70 rounded-xl shadow border border-blue-200 p-4 flex flex-col items-center",children:[r.imagem&&x.jsx("img",{src:r.imagem,alt:r.nome,className:"w-20 h-20 rounded-full object-cover border-4 border-blue-300 shadow mb-2"}),x.jsx("h5",{className:"text-base font-bold text-blue-800 mb-1 text-center",children:r.nome}),x.jsxs("div",{className:"w-full mb-1 text-sm",children:[x.jsx("span",{className:"font-semibold text-blue-700",children:"📍 Local:"})," ",x.jsx("span",{className:"text-gray-700",children:r.local})]}),x.jsxs("div",{className:"w-full text-sm",children:[x.jsx("span",{className:"font-semibold text-blue-700",children:"🌐 Site:"})," ",r.site?x.jsx("a",{href:r.site,target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-700 break-all",children:r.site}):x.jsx("span",{className:"text-gray-500",children:"Não informado"})]})]},r.id))})]})})},yP=()=>x.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-400 via-blue-500 to-blue-700",children:[x.jsx(dP,{pageName:"Seja bem-vindo ao meu portfólio"}),x.jsxs("main",{className:"max-w-5xl mx-auto flex flex-col gap-12 px-2 md:px-6 py-10",children:[x.jsx("section",{className:"w-full flex flex-col items-center",children:x.jsx(mP,{})}),x.jsxs("section",{className:"w-full flex flex-col items-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4 text-center tracking-tight"}),x.jsx(gP,{})]}),x.jsxs("section",{className:"w-full flex flex-col items-center",children:[x.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-4 text-center tracking-tight"}),x.jsx(pP,{})]})]})]});function _P(){const n=ld(),t=async()=>{try{await TT(Kn),n("/login")}catch(e){e instanceof Error&&alert("Erro ao fazer logout: "+e.message)}};return x.jsx("button",{onClick:t,className:`
        px-4 py-2 rounded-md 
        bg-gradient-to-r from-yellow-600 via-orange-500 to-red-600 
        text-white font-bold 
        shadow-lg 
        hover:from-yellow-300 hover:via-orange-400 hover:to-red-500 
        transition
        duration-300
      `,children:"Logout"})}const e_=({pageName:n})=>{const t=di(),[e,i]=F.useState(!1),r=c=>t.pathname===c,o=c=>`transition hover:text-blue-200 ${r(c)?"text-orange-400 font-bold underline":"text-white"}`;return x.jsx("nav",{className:"bg-gradient-to-r from-blue-900 via-blue-700 to-blue-400 text-white p-4 relative",children:x.jsxs("div",{className:"flex justify-between items-center w-full px-4 py-3",children:[x.jsxs("div",{className:"flex items-center text-white text-xl font-bold space-x-2",children:[x.jsx("img",{src:ud,alt:"Logo",className:"w-10"}),x.jsx("span",{children:n})]}),x.jsx("button",{onClick:()=>i(!e),className:"md:hidden text-white focus:outline-none",children:x.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),x.jsxs("div",{className:`${e?"flex":"hidden"} flex-col md:flex md:flex-row items-center space-y-3 md:space-y-0 md:space-x-6 absolute md:static top-16 right-4 bg-blue-800 md:bg-transparent p-4 md:p-0 rounded-lg md:rounded-none shadow-md md:shadow-none z-50`,children:[x.jsx(vs,{to:"/",className:`${o("/")} w-full text-center`,children:"Home"}),x.jsx(vs,{to:"/admin",className:`${o("/admin")} w-full text-center`,children:"Admin"}),x.jsx(vs,{to:"/admin/profile",className:`${o("/admin/profile")} w-full text-center`,children:"Profile"}),x.jsx(vs,{to:"/admin/projects",className:`${o("/admin/projects")} w-full text-center`,children:"Projetos"}),x.jsx("div",{className:"w-full",children:x.jsx(_P,{})})]})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function vP(n,t,e,i){function r(o){return o instanceof e?o:new e(function(c){c(o)})}return new(e||(e=Promise))(function(o,c){function h(y){try{m(i.next(y))}catch(v){c(v)}}function f(y){try{m(i.throw(y))}catch(v){c(v)}}function m(y){y.done?o(y.value):r(y.value).then(h,f)}m((i=i.apply(n,[])).next())})}function bP(n,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(y){return f([m,y])}}function f(m){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=m[0]&2?r.return:m[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,m[1])).done)return o;switch(r=0,o&&(m=[m[0]&2,o.value]),m[0]){case 0:case 1:o=m;break;case 4:return e.label++,{value:m[1],done:!1};case 5:e.label++,r=m[1],m=[0];continue;case 7:m=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(m[0]===6||m[0]===2)){e=0;continue}if(m[0]===3&&(!o||m[1]>o[0]&&m[1]<o[3])){e.label=m[1];break}if(m[0]===6&&e.label<o[1]){e.label=o[1],o=m;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(m);break}o[2]&&e.ops.pop(),e.trys.pop();continue}m=t.call(n,e)}catch(y){m=[6,y],r=0}finally{i=o=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vo=function(){return Vo=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Vo.apply(this,arguments)},v1=function(n){return{loading:n==null,value:n}},xP=function(){return function(n,t){switch(t.type){case"error":return Vo(Vo({},n),{error:t.error,loading:!1,value:void 0});case"reset":return v1(t.defaultValue);case"value":return Vo(Vo({},n),{error:void 0,loading:!1,value:t.value});default:return n}}},EP=function(n){var t=n?n():void 0,e=F.useReducer(xP(),v1(t)),i=e[0],r=e[1],o=F.useCallback(function(){var f=n?n():void 0;r({type:"reset",defaultValue:f})},[n]),c=F.useCallback(function(f){r({type:"error",error:f})},[]),h=F.useCallback(function(f){r({type:"value",value:f})},[]);return F.useMemo(function(){return{error:i.error,loading:i.loading,reset:o,setError:c,setValue:h,value:i.value}},[i.error,i.loading,o,c,h,i.value])},Eu=function(n,t){var e=EP(function(){return n.currentUser}),i=e.error,r=e.loading,o=e.setError,c=e.setValue,h=e.value;return F.useEffect(function(){var f=wT(n,function(m){return vP(void 0,void 0,void 0,function(){var y;return bP(this,function(v){switch(v.label){case 0:return[3,4];case 1:return v.trys.push([1,3,,4]),[4,t.onUserChanged(m)];case 2:return v.sent(),[3,4];case 3:return y=v.sent(),o(y),[3,4];case 4:return c(m),[2]}})})},o);return function(){f()}},[n]),[h,r,i]};const wP=()=>{const[n]=Eu(Kn);return n?x.jsxs("div",{className:"bg-gradient-to-r m-10 from-blue-900 via-blue-700 to-blue-600 text-white p-8 rounded-xl shadow-lg mb-8 flex flex-col md:flex-row items-center gap-6",children:[n.photoURL&&x.jsx("img",{src:n.photoURL,alt:n.displayName||"Usuário",className:"w-24 h-24 rounded-full border-4 border-white shadow-lg mb-4 md:mb-0"}),x.jsxs("div",{children:[x.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Bem-vindo, ",n.displayName||n.email,"!"]}),x.jsx("p",{className:"text-lg md:text-xl text-blue-100",children:"Esta é a área administrativa do sistema. Aproveite suas ferramentas!"})]})]}):null};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wu(n){return n+.5|0}const hr=(n,t,e)=>Math.max(Math.min(n,e),t);function Mc(n){return hr(wu(n*2.55),0,255)}function vr(n){return hr(wu(n*255),0,255)}function ys(n){return hr(wu(n/2.55)/100,0,1)}function mE(n){return hr(wu(n*100),0,100)}const Yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},$p=[..."0123456789ABCDEF"],TP=n=>$p[n&15],SP=n=>$p[(n&240)>>4]+$p[n&15],ef=n=>(n&240)>>4===(n&15),AP=n=>ef(n.r)&&ef(n.g)&&ef(n.b)&&ef(n.a);function RP(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Yn[n[1]]*17,g:255&Yn[n[2]]*17,b:255&Yn[n[3]]*17,a:t===5?Yn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Yn[n[1]]<<4|Yn[n[2]],g:Yn[n[3]]<<4|Yn[n[4]],b:Yn[n[5]]<<4|Yn[n[6]],a:t===9?Yn[n[7]]<<4|Yn[n[8]]:255})),e}const CP=(n,t)=>n<255?t(n):"";function IP(n){var t=AP(n)?TP:SP;return n?"#"+t(n.r)+t(n.g)+t(n.b)+CP(n.a,t):void 0}const NP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function DP(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function OP(n,t,e){const i=b1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function MP(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function n_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),f=MP(e,i,r,y,o),f=f*60+.5),[f|0,m||0,h]}function i_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(vr)}function s_(n,t,e){return i_(b1,n,t,e)}function kP(n,t,e){return i_(OP,n,t,e)}function PP(n,t,e){return i_(DP,n,t,e)}function x1(n){return(n%360+360)%360}function VP(n){const t=NP.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Mc(+t[5]):vr(+t[5]));const r=x1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=kP(r,o,c):t[1]==="hsv"?i=PP(r,o,c):i=s_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function LP(n,t){var e=n_(n);e[0]=x1(e[0]+t),e=s_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function jP(n){if(!n)return;const t=n_(n),e=t[0],i=mE(t[1]),r=mE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${ys(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const gE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UP(){const n={},t=Object.keys(pE),e=Object.keys(gE);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,gE[o]);o=parseInt(pE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let nf;function zP(n){nf||(nf=UP(),nf.transparent=[0,0,0,0]);const t=nf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const BP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function HP(n){const t=BP.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Mc(c):hr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Mc(i):hr(i,0,255)),r=255&(t[4]?Mc(r):hr(r,0,255)),o=255&(t[6]?Mc(o):hr(o,0,255)),{r:i,g:r,b:o,a:e}}}function FP(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ys(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ap=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,No=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function qP(n,t,e){const i=No(ys(n.r)),r=No(ys(n.g)),o=No(ys(n.b));return{r:vr(ap(i+e*(No(ys(t.r))-i))),g:vr(ap(r+e*(No(ys(t.g))-r))),b:vr(ap(o+e*(No(ys(t.b))-o))),a:n.a+e*(t.a-n.a)}}function sf(n,t,e){if(n){let i=n_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=s_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function E1(n,t){return n&&Object.assign(t||{},n)}function yE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=vr(n[3]))):(t=E1(n,{r:0,g:0,b:0,a:1}),t.a=vr(t.a)),t}function GP(n){return n.charAt(0)==="r"?HP(n):VP(n)}class nu{constructor(t){if(t instanceof nu)return t;const e=typeof t;let i;e==="object"?i=yE(t):e==="string"&&(i=RP(t)||zP(t)||GP(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=E1(this._rgb);return t&&(t.a=ys(t.a)),t}set rgb(t){this._rgb=yE(t)}rgbString(){return this._valid?FP(this._rgb):void 0}hexString(){return this._valid?IP(this._rgb):void 0}hslString(){return this._valid?jP(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*r.r+.5,i.g=255&m*i.g+o*r.g+.5,i.b=255&m*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=qP(this._rgb,t._rgb,e)),this}clone(){return new nu(this.rgb)}alpha(t){return this._rgb.a=vr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=wu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return sf(this._rgb,2,t),this}darken(t){return sf(this._rgb,2,-t),this}saturate(t){return sf(this._rgb,1,t),this}desaturate(t){return sf(this._rgb,1,-t),this}rotate(t){return LP(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ms(){}const YP=(()=>{let n=0;return()=>n++})();function se(n){return n==null}function Pe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ft(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Zn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Di(n,t){return Zn(n)?n:t}function Wt(n,t){return typeof n>"u"?t:n}const $P=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function oe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Xt(n,t,e,i){let r,o,c;if(Pe(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Ft(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Wf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Zf(n){if(Pe(n))return n.map(Zf);if(Ft(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Zf(n[e[r]]);return t}return n}function w1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function KP(n,t,e,i){if(!w1(n))return;const r=t[n],o=e[n];Ft(r)&&Ft(o)?iu(r,o,i):t[n]=Zf(o)}function iu(n,t,e){const i=Pe(t)?t:[t],r=i.length;if(!Ft(n))return n;e=e||{};const o=e.merger||KP;let c;for(let h=0;h<r;++h){if(c=i[h],!Ft(c))continue;const f=Object.keys(c);for(let m=0,y=f.length;m<y;++m)o(f[m],n,c,e)}return n}function Fc(n,t){return iu(n,t,{merger:QP})}function QP(n,t,e){if(!w1(n))return;const i=t[n],r=e[n];Ft(i)&&Ft(r)?Fc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Zf(r))}const _E={"":n=>n,x:n=>n.x,y:n=>n.y};function XP(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function WP(n){const t=XP(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Zo(n,t){return(_E[t]||(_E[t]=WP(t)))(n)}function r_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const su=n=>typeof n<"u",Ir=n=>typeof n=="function",vE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function ZP(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const on=Math.PI,br=2*on,Jf=Number.POSITIVE_INFINITY,JP=on/180,oi=on/2,pa=on/4,bE=on*2/3,T1=Math.log10,xr=Math.sign;function Af(n,t,e){return Math.abs(n-t)<e}function xE(n){const t=Math.round(n);n=Af(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(T1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function t4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function e4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function td(n){return!e4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function n4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function i4(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ta(n){return n*(on/180)}function s4(n){return n*(180/on)}function EE(n){if(!Zn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function r4(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*on&&(o+=br),{angle:o,distance:r}}function a4(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function ya(n){return(n%br+br)%br}function o4(n,t,e,i){const r=ya(n),o=ya(t),c=ya(e),h=ya(o-r),f=ya(c-r),m=ya(r-o),y=ya(r-c);return r===o||r===c||i||h>f&&m<y}function li(n,t,e){return Math.max(t,Math.min(e,n))}function l4(n){return li(n,-32768,32767)}function Lo(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function a_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Kp=(n,t,e,i)=>a_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),c4=(n,t,e)=>a_(n,e,i=>n[i][t]>=e);function u4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const S1=["push","pop","shift","splice","unshift"];function h4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),S1.forEach(e=>{const i="_onData"+r_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function wE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(S1.forEach(o=>{delete n[o]}),delete n._chartjs)}function A1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const R1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function C1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,R1.call(window,()=>{i=!1,n.apply(t,e)}))}}function f4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const o_=n=>n==="start"?"left":n==="end"?"right":"center",nn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,d4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,rf=n=>n===0||n===1,TE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*br/e)),SE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*br/e)+1,qc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*oi)+1,easeOutSine:n=>Math.sin(n*oi),easeInOutSine:n=>-.5*(Math.cos(on*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>rf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>rf(n)?n:TE(n,.075,.3),easeOutElastic:n=>rf(n)?n:SE(n,.075,.3),easeInOutElastic(n){return rf(n)?n:n<.5?.5*TE(n*2,.1125,.45):.5+.5*SE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-qc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?qc.easeInBounce(n*2)*.5:qc.easeOutBounce(n*2-1)*.5+.5};function I1(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function AE(n){return I1(n)?n:new nu(n)}function op(n){return I1(n)?n:new nu(n).saturate(.5).darken(.1).hexString()}const m4=["x","y","borderWidth","radius","tension"],g4=["color","borderColor","backgroundColor"];function p4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:g4},numbers:{type:"number",properties:m4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function y4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const RE=new Map;function _4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=RE.get(e);return i||(i=new Intl.NumberFormat(n,t),RE.set(e,i)),i}function N1(n,t,e){return _4(t,e).format(n)}const v4={values(n){return Pe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(r="scientific"),o=b4(n,e)}const c=T1(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),N1(n,i,f)}};function b4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var D1={formatters:v4};function x4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:D1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ma=Object.create(null),Qp=Object.create(null);function Gc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function lp(n,t,e){return typeof t=="string"?iu(Gc(n,t),e):iu(Gc(n,""),t)}class E4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>op(r.backgroundColor),this.hoverBorderColor=(i,r)=>op(r.borderColor),this.hoverColor=(i,r)=>op(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return lp(this,t,e)}get(t){return Gc(this,t)}describe(t,e){return lp(Qp,t,e)}override(t,e){return lp(Ma,t,e)}route(t,e,i,r){const o=Gc(this,t),c=Gc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[r];return Ft(f)?Object.assign({},m,f):Wt(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var xe=new E4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[p4,y4,x4]);function w4(n){return!n||se(n.size)||se(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function CE(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function _a(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function IE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function NE(n,t,e,i){O1(n,t,e,i,null)}function O1(n,t,e,i,r){let o,c,h,f,m,y,v,b;const T=t.pointStyle,A=t.rotation,I=t.radius;let N=(A||0)*JP;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(N),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),T){default:r?n.ellipse(e,i,r/2,I,0,0,br):n.arc(e,i,I,0,br),n.closePath();break;case"triangle":y=r?r/2:I,n.moveTo(e+Math.sin(N)*y,i-Math.cos(N)*I),N+=bE,n.lineTo(e+Math.sin(N)*y,i-Math.cos(N)*I),N+=bE,n.lineTo(e+Math.sin(N)*y,i-Math.cos(N)*I),n.closePath();break;case"rectRounded":m=I*.516,f=I-m,c=Math.cos(N+pa)*f,v=Math.cos(N+pa)*(r?r/2-m:f),h=Math.sin(N+pa)*f,b=Math.sin(N+pa)*(r?r/2-m:f),n.arc(e-v,i-h,m,N-on,N-oi),n.arc(e+b,i-c,m,N-oi,N),n.arc(e+v,i+h,m,N,N+oi),n.arc(e-b,i+c,m,N+oi,N+on),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*I,y=r?r/2:f,n.rect(e-y,i-f,2*y,2*f);break}N+=pa;case"rectRot":v=Math.cos(N)*(r?r/2:I),c=Math.cos(N)*I,h=Math.sin(N)*I,b=Math.sin(N)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+b,i-c),n.lineTo(e+v,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":N+=pa;case"cross":v=Math.cos(N)*(r?r/2:I),c=Math.cos(N)*I,h=Math.sin(N)*I,b=Math.sin(N)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":v=Math.cos(N)*(r?r/2:I),c=Math.cos(N)*I,h=Math.sin(N)*I,b=Math.sin(N)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),N+=pa,v=Math.cos(N)*(r?r/2:I),c=Math.cos(N)*I,h=Math.sin(N)*I,b=Math.sin(N)*(r?r/2:I),n.moveTo(e-v,i-h),n.lineTo(e+v,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(N)*I,h=Math.sin(N)*I,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(N)*(r?r/2:I),i+Math.sin(N)*I);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function M1(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function l_(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function c_(n){n.restore()}function T4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),se(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function S4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=r.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function A4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function ru(n,t,e,i,r,o={}){const c=Pe(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=r.string,T4(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&A4(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),se(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),S4(n,e,i,m,o),i+=Number(r.lineHeight);n.restore()}function ed(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*on,on,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,on,oi,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,oi,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-oi,!0),n.lineTo(e+c.topLeft,i)}const R4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,C4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function I4(n,t){const e=(""+n).match(R4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const N4=n=>+n||0;function k1(n,t){const e={},i=Ft(t),r=i?Object.keys(t):t,o=Ft(n)?i?c=>Wt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=N4(o(c));return e}function P1(n){return k1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Ho(n){return k1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Jn(n){const t=P1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function an(n,t){n=n||{},t=t||xe.font;let e=Wt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Wt(n.style,t.style);i&&!(""+i).match(C4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Wt(n.family,t.family),lineHeight:I4(Wt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Wt(n.weight,t.weight),string:""};return r.string=w4(r),r}function af(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function D4(n,t,e){const{min:i,max:r}=n,o=$P(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function ul(n,t){return Object.assign(Object.create(n),t)}function u_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=U1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>u_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return L1(h,f,()=>U4(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return OE(h).includes(f)},ownKeys(h){return OE(h)},set(h,f,m){const y=h._storage||(h._storage=r());return h[f]=y[f]=m,delete h._keys,!0}})}function Jo(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:V1(n,i),setContext:o=>Jo(n,o,e,i),override:o=>Jo(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return L1(o,c,()=>M4(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function V1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ir(e)?e:()=>e,isIndexable:Ir(i)?i:()=>i}}const O4=(n,t)=>n?n+r_(t):t,h_=(n,t)=>Ft(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function L1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function M4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Ir(h)&&c.isScriptable(t)&&(h=k4(t,h,n,e)),Pe(h)&&h.length&&(h=P4(t,h,n,c.isIndexable)),h_(t,h)&&(h=Jo(h,r,o&&o[t],c)),h}function k4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),h_(n,f)&&(f=f_(r._scopes,r,n,f)),f}function P4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Ft(t[0])){const f=t,m=r._scopes.filter(y=>y!==f);t=[];for(const y of f){const v=f_(m,r,n,y);t.push(Jo(v,o,c&&c[n],h))}}return t}function j1(n,t,e){return Ir(n)?n(t,e):n}const V4=(n,t)=>n===!0?t:typeof n=="string"?Zo(t,n):void 0;function L4(n,t,e,i,r){for(const o of t){const c=V4(e,o);if(c){n.add(c);const h=j1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function f_(n,t,e,i){const r=t._rootScopes,o=j1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=DE(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=DE(h,c,o,f,i),f===null)?!1:u_(Array.from(h),[""],r,o,()=>j4(t,e,i))}function DE(n,t,e,i,r){for(;e;)e=L4(n,t,e,i,r);return e}function j4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Pe(r)&&Ft(e)?e:r||{}}function U4(n,t,e,i){let r;for(const o of t)if(r=U1(O4(o,n),e),typeof r<"u")return h_(n,r)?f_(e,i,n,r):r}function U1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function OE(n){let t=n._keys;return t||(t=n._keys=z4(n._scopes)),t}function z4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function d_(){return typeof window<"u"&&typeof document<"u"}function m_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function nd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Pd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function B4(n,t){return Pd(n).getPropertyValue(t)}const H4=["top","right","bottom","left"];function Sa(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=H4[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const F4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function q4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(F4(r,o,n.target))h=r,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function xa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Pd(e),o=r.boxSizing==="border-box",c=Sa(r,"padding"),h=Sa(r,"border","width"),{x:f,y:m,box:y}=q4(n,e),v=c.left+(y&&h.left),b=c.top+(y&&h.top);let{width:T,height:A}=t;return o&&(T-=c.width+h.width,A-=c.height+h.height),{x:Math.round((f-v)/T*e.width/i),y:Math.round((m-b)/A*e.height/i)}}function G4(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&m_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Pd(o),f=Sa(h,"border","width"),m=Sa(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=nd(h.maxWidth,o,"clientWidth"),r=nd(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Jf,maxHeight:r||Jf}}const of=n=>Math.round(n*10)/10;function Y4(n,t,e,i){const r=Pd(n),o=Sa(r,"margin"),c=nd(r.maxWidth,n,"clientWidth")||Jf,h=nd(r.maxHeight,n,"clientHeight")||Jf,f=G4(n,t,e);let{width:m,height:y}=f;if(r.boxSizing==="content-box"){const b=Sa(r,"border","width"),T=Sa(r,"padding");m-=T.width+b.width,y-=T.height+b.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=of(Math.min(m,c,f.maxWidth)),y=of(Math.min(y,h,f.maxHeight)),m&&!y&&(y=of(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,m=of(Math.floor(y*i))),{width:m,height:y}}function ME(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const $4=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};d_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function kE(n,t){const e=B4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const K4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Q4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Fo(n,t,e){return n?K4(t,e):Q4()}function z1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function B1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function lf(n,t,e){return n.options.clip?n[e]:t[e]}function X4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:lf(e,t,"left"),right:lf(e,t,"right"),top:lf(i,t,"top"),bottom:lf(i,t,"bottom")}:t}function W4(n,t){const e=t._clip;if(e.disabled)return!1;const i=X4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Z4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=R1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var gs=new Z4;const PE="transparent",J4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=AE(n||PE),r=i.valid&&AE(t||PE);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class tV{constructor(t,e,i,r){const o=e[i];r=af([t.to,r,o,t.from]);const c=af([t.from,o,r]);this._active=!0,this._fn=t.fn||J4[t.type||typeof c],this._easing=qc[t.easing]||qc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=af([t.to,e,r,t.from]),this._from=af([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class H1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ft(t))return;const e=Object.keys(xe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Ft(o))return;const c={};for(const h of e)c[h]=o[h];(Pe(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=nV(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&eV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[m];let v=o[m];const b=i.get(m);if(v)if(b&&v.active()){v.update(b,y,h);continue}else v.cancel();if(!b||!b.duration){t[m]=y;continue}o[m]=v=new tV(b,t,m,y),r.push(v)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return gs.add(this._chart,i),!0}}function eV(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function nV(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function VE(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function iV(n,t,e){if(e===!1)return!1;const i=VE(n,e),r=VE(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function sV(n){let t,e,i,r;return Ft(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function F1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function LE(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let y=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(y=!0,i.all)continue;break}m=n.values[f],Zn(m)&&(o||t===0||xr(t)===xr(m))&&(t+=m)}return!y&&!i.all?0:t}function rV(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,y;for(f=0,m=c.length;f<m;++f)y=c[f],h[f]={[r]:y,[o]:n[y]};return h}function cp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function aV(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function oV(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function lV(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function jE(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function UE(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,y=aV(o,c,i),v=t.length;let b;for(let T=0;T<v;++T){const A=t[T],{[f]:I,[m]:N}=A,L=A._stacks||(A._stacks={});b=L[m]=lV(r,y,I),b[h]=N,b._top=jE(b,c,!0,i.type),b._bottom=jE(b,c,!1,i.type);const B=b._visualValues||(b._visualValues={});B[h]=N}}function up(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function cV(n,t){return ul(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function uV(n,t,e){return ul(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Tc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const hp=n=>n==="reset"||n==="none",zE=(n,t)=>t?n:Object.assign({},n),hV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:F1(e,!0),values:null};class Yc{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=cp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Tc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(v,b,T,A)=>v==="x"?b:v==="r"?A:T,o=e.xAxisID=Wt(i.xAxisID,up(t,"x")),c=e.yAxisID=Wt(i.yAxisID,up(t,"y")),h=e.rAxisID=Wt(i.rAxisID,up(t,"r")),f=e.indexAxis,m=e.iAxisID=r(f,o,c,h),y=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&wE(this._data,this),t._stacked&&Tc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ft(e)){const r=this._cachedMeta;this._data=rV(e,r)}else if(i!==e){if(i){wE(i,this);const r=this._cachedMeta;Tc(r),r._parsed=[]}e&&Object.isExtensible(e)&&h4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=cp(e.vScale,e),e.stack!==i.stack&&(r=!0,Tc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(UE(this,e._parsed),e._stacked=cp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,v,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{Pe(r[t])?b=this.parseArrayData(i,r,t,e):Ft(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const T=()=>v[h]===null||m&&v[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=v=b[y],f&&(T()&&(f=!1),m=v);i._sorted=f}c&&UE(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),y=o===c,v=new Array(r);let b,T,A;for(b=0,T=r;b<T;++b)A=b+i,v[b]={[h]:y||o.parse(m[A],A),[f]:c.parse(e[A],A)};return v}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,m,y,v;for(f=0,m=r;f<m;++f)y=f+i,v=e[y],h[f]={x:o.parse(v[0],y),y:c.parse(v[1],y)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(r);let y,v,b,T;for(y=0,v=r;y<v;++y)b=y+i,T=e[b],m[y]={x:o.parse(Zo(T,h),b),y:c.parse(Zo(T,f),b)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:F1(r,!0),values:e._stacks[t.axis]._visualValues};return LE(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=LE(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=hV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=oV(h);let b,T;function A(){T=r[b];const I=T[h.axis];return!Zn(T[t.axis])||y>I||v<I}for(b=0;b<c&&!(!A()&&(this.updateRangeFromParsed(m,t,T,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(m,t,T,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],Zn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=sV(Wt(this.options.clip,iV(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const v=r[y];v.hidden||(v.active&&m?c.push(v):v.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=uV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=cV(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&su(i);if(h)return zE(h,f);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),v=r?[`${t}Hover`,"hover",t,""]:[t,""],b=m.getOptionScopes(this.getDataset(),y),T=Object.keys(xe.elements[t]),A=()=>this.getContext(i,r,e),I=m.resolveNamedOptions(b,T,A,v);return I.$shared&&(I.$shared=f,o[c]=Object.freeze(zE(I,f))),I}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),v);f=y.createResolver(b,this.getContext(t,i,e))}const m=new H1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||hp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){hp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!hp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Tc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Bt(Yc,"defaults",{}),Bt(Yc,"datasetElementType",null),Bt(Yc,"dataElementType",null);function fV(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=A1(i.sort((r,o)=>r-o))}return n._cache.$bar}function dV(n){const t=n.iScale,e=fV(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(su(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function mV(n,t,e,i){const r=e.barThickness;let o,c;return se(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function gV(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const m=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:m}}function pV(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),t[e.axis]=m,t._custom={barStart:f,barEnd:m,start:r,end:o,min:c,max:h}}function q1(n,t,e,i){return Pe(n)?pV(n,t,e,i):t[e.axis]=e.parse(n,i),t}function BE(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let m,y,v,b;for(m=e,y=e+i;m<y;++m)b=t[m],v={},v[r.axis]=h||r.parse(c[m],m),f.push(q1(b,v,o,m));return f}function fp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function yV(n,t,e){return n!==0?xr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function _V(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function vV(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:y}=_V(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=m:(e._bottom||0)===i?r=y:(o[HE(y,c,h,f)]=!0,r=m)),o[HE(r,c,h,f)]=!0,n.borderSkipped=o}function HE(n,t,e,i){return i?(n=bV(n,t,e),n=FE(n,e,t)):n=FE(n,t,e),n}function bV(n,t,e){return n===t?e:n===e?t:n}function FE(n,t,e){return n==="start"?t:n==="end"?e:n}function xV(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Rf extends Yc{parsePrimitiveData(t,e,i,r){return BE(t,e,i,r)}parseArrayData(t,e,i,r){return BE(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?h:f,y=c.axis==="x"?h:f,v=[];let b,T,A,I;for(b=i,T=i+r;b<T;++b)I=e[b],A={},A[o.axis]=o.parse(Zo(I,m),b),v.push(q1(Zo(I,y),A,c,b));return v}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=fp(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),y=this._getRuler(),{sharedOptions:v,includeOptions:b}=this._getSharedOptions(e,r);for(let T=e;T<e+i;T++){const A=this.getParsed(T),I=o||se(A[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(T),N=this._calculateBarIndexPixels(T,y),L=(A._stacks||{})[h.axis],B={horizontal:m,base:I.base,enableBorderRadius:!L||fp(A._custom)||c===L._top||c===L._bottom,x:m?I.head:N.center,y:m?N.center:I.head,height:m?N.size:Math.abs(I.size),width:m?Math.abs(I.size):N.size};b&&(B.options=v||this.resolveDataElementOptions(T,t[T].active?"active":r));const X=B.options||t[T].options;vV(B,X,L,c),xV(B,X,y.ratio),this.updateElement(t[T],T,B,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],m=y=>{const v=y._parsed.find(T=>T[i.axis]===f),b=v&&v[y.vScale.axis];if(se(b)||isNaN(b))return!0};for(const y of r)if(!(e!==void 0&&m(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||dV(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),m=f._custom,y=fp(m);let v=f[e.axis],b=0,T=i?this.applyStack(e,f,i):v,A,I;T!==v&&(b=T-v,T=v),y&&(v=m.barStart,T=m.barEnd-m.barStart,v!==0&&xr(v)!==xr(m.barEnd)&&(b=0),b+=v);const N=!se(o)&&!y?o:b;let L=e.getPixelForValue(N);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(b+T):A=L,I=A-L,Math.abs(I)<c){I=yV(I,e,h)*c,v===h&&(L-=I/2);const B=e.getPixelForDecimal(0),X=e.getPixelForDecimal(1),st=Math.min(B,X),J=Math.max(B,X);L=Math.max(Math.min(L,J),st),A=L+I,i&&!y&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(A)-e.getValueForPixel(L))}if(L===e.getPixelForValue(h)){const B=xr(I)*e.getLineWidthForValue(h)/2;L+=B,I-=B}return{size:I,base:L,head:A,center:A+I/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Wt(r.maxBarThickness,1/0);let h,f;if(e.grouped){const m=o?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?gV(t,e,r,m):mV(t,e,r,m),v=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);h=y.start+y.chunk*v+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}Bt(Rf,"id","bar"),Bt(Rf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Bt(Rf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function va(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class g_{constructor(t){Bt(this,"options");this.options=t||{}}static override(t){Object.assign(g_.prototype,t)}init(){}formats(){return va()}parse(){return va()}format(){return va()}add(){return va()}diff(){return va()}startOf(){return va()}endOf(){return va()}}var EV={_date:g_};function wV(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?c4:Kp;if(i){if(r._sharedOptions){const y=o[0],v=typeof y.getRange=="function"&&y.getRange(t);if(v){const b=m(o,t,e-v),T=m(o,t,e+v);return{lo:b.lo,hi:T.hi}}}}else{const y=m(o,t,e);if(f){const{vScale:v}=r._cachedMeta,{_parsed:b}=n,T=b.slice(0,y.lo+1).reverse().findIndex(I=>!se(I[v.axis]));y.lo-=Math.max(0,T);const A=b.slice(y.hi).findIndex(I=>!se(I[v.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function Vd(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:y}=o[h],{lo:v,hi:b}=wV(o[h],t,c,r);for(let T=v;T<=b;++T){const A=y[T];A.skip||i(A,m,T)}}}function TV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function dp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Vd(n,e,t,function(h,f,m){!r&&!M1(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function SV(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:v}=r4(c,{x:t.x,y:t.y});o4(v,m,y)&&r.push({element:c,datasetIndex:h,index:f})}return Vd(n,e,t,o),r}function AV(n,t,e,i,r,o){let c=[];const h=TV(e);let f=Number.POSITIVE_INFINITY;function m(y,v,b){const T=y.inRange(t.x,t.y,r);if(i&&!T)return;const A=y.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!T)return;const N=h(t,A);N<f?(c=[{element:y,datasetIndex:v,index:b}],f=N):N===f&&c.push({element:y,datasetIndex:v,index:b})}return Vd(n,e,t,m),c}function mp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?SV(n,t,e,r):AV(n,t,e,i,r,o)}function qE(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Vd(n,e,t,(f,m,y)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:m,index:y}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var RV={modes:{index(n,t,e,i){const r=xa(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?dp(n,r,o,i,c):mp(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,v=m.data[y];v&&!v.skip&&f.push({element:v,datasetIndex:m.index,index:y})}),f):[]},dataset(n,t,e,i){const r=xa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?dp(n,r,o,i,c):mp(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const r=xa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return dp(n,r,o,i,c)},nearest(n,t,e,i){const r=xa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return mp(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=xa(t,n);return qE(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=xa(t,n);return qE(n,r,"y",e.intersect,i)}}};const G1=["left","top","right","bottom"];function Sc(n,t){return n.filter(e=>e.pos===t)}function GE(n,t){return n.filter(e=>G1.indexOf(e.pos)===-1&&e.box.axis===t)}function Ac(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function CV(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function IV(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!G1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function NV(n,t){const e=IV(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=y?y*r:f&&t.availableHeight)}return e}function DV(n){const t=CV(n),e=Ac(t.filter(m=>m.box.fullSize),!0),i=Ac(Sc(t,"left"),!0),r=Ac(Sc(t,"right")),o=Ac(Sc(t,"top"),!0),c=Ac(Sc(t,"bottom")),h=GE(t,"x"),f=GE(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Sc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function YE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Y1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function OV(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!Ft(r)){e.size&&(n[r]-=e.size);const v=i[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?o.height:o.width),e.size=v.size/v.count,n[r]+=e.size}o.getPadding&&Y1(c,o.getPadding());const h=Math.max(0,t.outerWidth-YE(c,n,"left","right")),f=Math.max(0,t.outerHeight-YE(c,n,"top","bottom")),m=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:y}:{same:y,other:m}}function MV(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function kV(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function kc(n,t,e,i){const r=[];let o,c,h,f,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,kV(h.horizontal,t));const{same:v,other:b}=OV(t,e,h,i);m|=v&&r.length,y=y||b,f.fullSize||r.push(h)}return m&&kc(r,t,e,i)||y}function cf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function $E(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const v=t.w*y,b=m.size||f.height;su(m.start)&&(c=m.start),f.fullSize?cf(f,r.left,c,e.outerWidth-r.right-r.left,b):cf(f,t.left+m.placed,c,v,b),m.start=c,m.placed+=v,c=f.bottom}else{const v=t.h*y,b=m.size||f.width;su(m.start)&&(o=m.start),f.fullSize?cf(f,o,r.top,b,e.outerHeight-r.bottom-r.top):cf(f,o,t.top+m.placed,b,v),m.start=o,m.placed+=v,o=f.right}}t.x=o,t.y=c}var Qn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Jn(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=DV(n.boxes),f=h.vertical,m=h.horizontal;Xt(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const y=f.reduce((I,N)=>N.box.options&&N.box.options.display===!1?I:I+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),b=Object.assign({},r);Y1(b,Jn(i));const T=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),A=NV(f.concat(m),v);kc(h.fullSize,T,v,A),kc(f,T,v,A),kc(m,T,v,A)&&kc(f,T,v,A),MV(T),$E(h.leftAndTop,T,v,A),T.x+=T.w,T.y+=T.h,$E(h.rightAndBottom,T,v,A),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Xt(h.chartArea,I=>{const N=I.box;Object.assign(N,n.chartArea),N.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class $1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class PV extends $1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Cf="$chartjs",VV={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},KE=n=>n===null||n==="";function LV(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Cf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",KE(r)){const o=kE(n,"width");o!==void 0&&(n.width=o)}if(KE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=kE(n,"height");o!==void 0&&(n.height=o)}return n}const K1=$4?{passive:!0}:!1;function jV(n,t,e){n&&n.addEventListener(t,e,K1)}function UV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,K1)}function zV(n,t){const e=VV[n.type]||n.type,{x:i,y:r}=xa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function id(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function BV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||id(h.addedNodes,i),c=c&&!id(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function HV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||id(h.removedNodes,i),c=c&&!id(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const au=new Map;let QE=0;function Q1(){const n=window.devicePixelRatio;n!==QE&&(QE=n,au.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function FV(n,t){au.size||window.addEventListener("resize",Q1),au.set(n,t)}function qV(n){au.delete(n),au.size||window.removeEventListener("resize",Q1)}function GV(n,t,e){const i=n.canvas,r=i&&m_(i);if(!r)return;const o=C1((h,f)=>{const m=r.clientWidth;e(h,f),m<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,y=f.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(r),FV(n,o),c}function gp(n,t,e){e&&e.disconnect(),t==="resize"&&qV(n)}function YV(n,t,e){const i=n.canvas,r=C1(o=>{n.ctx!==null&&e(zV(o,n))},n);return jV(i,t,r),r}class $V extends $1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(LV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Cf])return!1;const i=e[Cf].initial;["height","width"].forEach(o=>{const c=i[o];se(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Cf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:BV,detach:HV,resize:GV}[e]||YV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:gp,detach:gp,resize:gp}[e]||UV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return Y4(t,e,i,r)}isAttached(t){const e=t&&m_(t);return!!(e&&e.isConnected)}}function KV(n){return!d_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?PV:$V}class Nr{constructor(){Bt(this,"x");Bt(this,"y");Bt(this,"active",!1);Bt(this,"options");Bt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return td(this.x)&&td(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}Bt(Nr,"defaults",{}),Bt(Nr,"defaultRoutes");function QV(n,t){const e=n.options.ticks,i=XV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?ZV(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>r)return JV(t,m,o,c/r),m;const y=WV(o,t,r);if(c>0){let v,b;const T=c>1?Math.round((f-h)/(c-1)):null;for(uf(t,m,y,se(T)?0:h-T,h),v=0,b=c-1;v<b;v++)uf(t,m,y,o[v],o[v+1]);return uf(t,m,y,f,se(T)?t.length:f+T),m}return uf(t,m,y),m}function XV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function WV(n,t,e){const i=tL(n),r=t.length/e;if(!i)return Math.max(r,1);const o=t4(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function ZV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function JV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function uf(n,t,e,i,r){const o=Wt(i,0),c=Math.min(Wt(r,n.length),n.length);let h=0,f,m,y;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function tL(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const eL=n=>n==="left"?"right":n==="right"?"left":n,XE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,WE=(n,t)=>Math.min(t||n,n);function ZE(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function nL(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(r-1))/2,f+=r<t?m:-m,f<o-h||f>c+h)))return f}function iL(n,t){Xt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Rc(n){return n.drawTicks?n.tickLength:0}function JE(n,t){if(!n.display)return 0;const e=an(n.font,t),i=Jn(n.padding);return(Pe(n.text)?n.text.length:1)*e.lineHeight+i.height}function sL(n,t){return ul(n,{scale:t,type:"scale"})}function rL(n,t,e){return ul(n,{tick:e,index:t,type:"tick"})}function aL(n,t,e){let i=o_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=eL(i)),i}function oL(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:y}=f;let v=0,b,T,A;const I=c-r,N=h-o;if(n.isHorizontal()){if(T=nn(i,o,h),Ft(e)){const L=Object.keys(e)[0],B=e[L];A=y[L].getPixelForValue(B)+I-t}else e==="center"?A=(m.bottom+m.top)/2+I-t:A=XE(n,e,t);b=h-o}else{if(Ft(e)){const L=Object.keys(e)[0],B=e[L];T=y[L].getPixelForValue(B)-N+t}else e==="center"?T=(m.left+m.right)/2-N+t:T=XE(n,e,t);A=nn(i,c,r),v=e==="left"?-oi:oi}return{titleX:T,titleY:A,maxWidth:b,rotation:v}}class hl extends Nr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=Di(t,Number.POSITIVE_INFINITY),e=Di(e,Number.NEGATIVE_INFINITY),i=Di(i,Number.POSITIVE_INFINITY),r=Di(r,Number.NEGATIVE_INFINITY),{min:Di(t,i),max:Di(e,r),minDefined:Zn(t),maxDefined:Zn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:Di(e,Di(i,e)),max:Di(i,Di(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=D4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?ZE(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=QV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=oe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=WE(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,m;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),v=y.widest.width,b=y.highest.height,T=li(this.chart.width-v,0,this.maxWidth);h=t.offset?this.maxWidth/i:T/(i-1),v+6>h&&(h=T/(i-(t.offset?.5:1)),f=this.maxHeight-Rc(t.grid)-e.padding-JE(t.title,this.chart.options.font),m=Math.sqrt(v*v+b*b),c=s4(Math.min(Math.asin(li((y.highest.height+6)/h,-1,1)),Math.asin(li(f/m,-1,1))-Math.asin(li(b/m,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=JE(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Rc(o)+f):(t.height=this.maxHeight,t.width=Rc(o)+f),i.display&&this.ticks.length){const{first:m,last:y,widest:v,highest:b}=this._getLabelSizes(),T=i.padding*2,A=Ta(this.labelRotation),I=Math.cos(A),N=Math.sin(A);if(h){const L=i.mirror?0:N*v.width+I*b.height;t.height=Math.min(this.maxHeight,t.height+L+T)}else{const L=i.mirror?0:I*v.width+N*b.height;t.width=Math.min(this.maxWidth,t.width+L+T)}this._calculatePadding(m,y,N,I)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,T=0;f?m?(b=r*t.width,T=i*e.height):(b=i*t.height,T=r*e.width):o==="start"?T=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,T=e.width/2),this.paddingLeft=Math.max((b-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((T-v+c)*this.width/(this.width-v),0)}else{let y=e.height/2,v=t.height/2;o==="start"?(y=0,v=t.height):o==="end"&&(y=e.height,v=0),this.paddingTop=y+c,this.paddingBottom=v+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)se(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=ZE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/WE(e,i));let m=0,y=0,v,b,T,A,I,N,L,B,X,st,J;for(v=0;v<e;v+=f){if(A=t[v].label,I=this._resolveTickFontOptions(v),r.font=N=I.string,L=o[N]=o[N]||{data:{},gc:[]},B=I.lineHeight,X=st=0,!se(A)&&!Pe(A))X=CE(r,L.data,L.gc,X,A),st=B;else if(Pe(A))for(b=0,T=A.length;b<T;++b)J=A[b],!se(J)&&!Pe(J)&&(X=CE(r,L.data,L.gc,X,J),st+=B);c.push(X),h.push(st),m=Math.max(X,m),y=Math.max(st,y)}iL(o,e);const lt=c.indexOf(m),O=h.indexOf(y),C=D=>({width:c[D]||0,height:h[D]||0});return{first:C(0),last:C(e-1),widest:C(lt),highest:C(O),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return l4(this._alignToPixels?_a(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=rL(this.getContext(),t,i))}return this.$context||(this.$context=sL(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ta(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,m=this.isHorizontal(),v=this.ticks.length+(f?1:0),b=Rc(o),T=[],A=h.setContext(this.getContext()),I=A.display?A.width:0,N=I/2,L=function(Q){return _a(i,Q,I)};let B,X,st,J,lt,O,C,D,P,V,U,M;if(c==="top")B=L(this.bottom),O=this.bottom-b,D=B-N,V=L(t.top)+N,M=t.bottom;else if(c==="bottom")B=L(this.top),V=t.top,M=L(t.bottom)-N,O=B+N,D=this.top+b;else if(c==="left")B=L(this.right),lt=this.right-b,C=B-N,P=L(t.left)+N,U=t.right;else if(c==="right")B=L(this.left),P=t.left,U=L(t.right)-N,lt=B+N,C=this.left+b;else if(e==="x"){if(c==="center")B=L((t.top+t.bottom)/2+.5);else if(Ft(c)){const Q=Object.keys(c)[0],ot=c[Q];B=L(this.chart.scales[Q].getPixelForValue(ot))}V=t.top,M=t.bottom,O=B+N,D=O+b}else if(e==="y"){if(c==="center")B=L((t.left+t.right)/2);else if(Ft(c)){const Q=Object.keys(c)[0],ot=c[Q];B=L(this.chart.scales[Q].getPixelForValue(ot))}lt=B-N,C=lt-b,P=t.left,U=t.right}const Zt=Wt(r.ticks.maxTicksLimit,v),St=Math.max(1,Math.ceil(v/Zt));for(X=0;X<v;X+=St){const Q=this.getContext(X),ot=o.setContext(Q),mt=h.setContext(Q),kt=ot.lineWidth,j=ot.color,it=mt.dash||[],ut=mt.dashOffset,at=ot.tickWidth,dt=ot.tickColor,At=ot.tickBorderDash||[],yt=ot.tickBorderDashOffset;st=nL(this,X,f),st!==void 0&&(J=_a(i,st,kt),m?lt=C=P=U=J:O=D=V=M=J,T.push({tx1:lt,ty1:O,tx2:C,ty2:D,x1:P,y1:V,x2:U,y2:M,width:kt,color:j,borderDash:it,borderDashOffset:ut,tickWidth:at,tickColor:dt,tickBorderDash:At,tickBorderDashOffset:yt}))}return this._ticksLength=v,this._borderValue=B,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:y,mirror:v}=o,b=Rc(i.grid),T=b+y,A=v?-y:T,I=-Ta(this.labelRotation),N=[];let L,B,X,st,J,lt,O,C,D,P,V,U,M="middle";if(r==="top")lt=this.bottom-A,O=this._getXAxisLabelAlignment();else if(r==="bottom")lt=this.top+A,O=this._getXAxisLabelAlignment();else if(r==="left"){const St=this._getYAxisLabelAlignment(b);O=St.textAlign,J=St.x}else if(r==="right"){const St=this._getYAxisLabelAlignment(b);O=St.textAlign,J=St.x}else if(e==="x"){if(r==="center")lt=(t.top+t.bottom)/2+T;else if(Ft(r)){const St=Object.keys(r)[0],Q=r[St];lt=this.chart.scales[St].getPixelForValue(Q)+T}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")J=(t.left+t.right)/2-T;else if(Ft(r)){const St=Object.keys(r)[0],Q=r[St];J=this.chart.scales[St].getPixelForValue(Q)}O=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?M="top":f==="end"&&(M="bottom"));const Zt=this._getLabelSizes();for(L=0,B=h.length;L<B;++L){X=h[L],st=X.label;const St=o.setContext(this.getContext(L));C=this.getPixelForTick(L)+o.labelOffset,D=this._resolveTickFontOptions(L),P=D.lineHeight,V=Pe(st)?st.length:1;const Q=V/2,ot=St.color,mt=St.textStrokeColor,kt=St.textStrokeWidth;let j=O;c?(J=C,O==="inner"&&(L===B-1?j=this.options.reverse?"left":"right":L===0?j=this.options.reverse?"right":"left":j="center"),r==="top"?m==="near"||I!==0?U=-V*P+P/2:m==="center"?U=-Zt.highest.height/2-Q*P+P:U=-Zt.highest.height+P/2:m==="near"||I!==0?U=P/2:m==="center"?U=Zt.highest.height/2-Q*P:U=Zt.highest.height-V*P,v&&(U*=-1),I!==0&&!St.showLabelBackdrop&&(J+=P/2*Math.sin(I))):(lt=C,U=(1-V)*P/2);let it;if(St.showLabelBackdrop){const ut=Jn(St.backdropPadding),at=Zt.heights[L],dt=Zt.widths[L];let At=U-ut.top,yt=0-ut.left;switch(M){case"middle":At-=at/2;break;case"bottom":At-=at;break}switch(O){case"center":yt-=dt/2;break;case"right":yt-=dt;break;case"inner":L===B-1?yt-=dt:L>0&&(yt-=dt/2);break}it={left:yt,top:At,width:dt+ut.width,height:at+ut.height,color:St.backdropColor}}N.push({label:st,font:D,textOffset:U,options:{rotation:I,color:ot,strokeColor:mt,strokeWidth:kt,textAlign:j,textBaseline:M,translation:[J,lt],backdrop:it}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ta(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,y;return e==="left"?r?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y+=f)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y=this.left)):e==="right"?r?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y-=f)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,y,v,b;this.isHorizontal()?(m=_a(t,this.left,c)-c/2,y=_a(t,this.right,h)+h/2,v=b=f):(v=_a(t,this.top,c)-c/2,b=_a(t,this.bottom,h)+h/2,m=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,v),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&l_(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,y=c.textOffset;ru(i,m,0,y,f,h)}r&&c_(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=an(i.font),c=Jn(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Ft(e)?(f+=c.bottom,Pe(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:y,maxWidth:v,rotation:b}=oL(this,f,e,h);ru(t,i.text,0,0,o,{color:i.color,maxWidth:v,rotation:b,textAlign:aL(h,e,r),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Wt(t.grid&&t.grid.z,-1),r=Wt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==hl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return an(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class hf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;uL(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,lL(t,c,i),this.override&&xe.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in xe[r]&&(delete xe[r][i],this.override&&delete Ma[i])}}function lL(n,t,e){const i=iu(Object.create(null),[e?xe.get(e):{},xe.get(t),n.defaults]);xe.set(t,i),n.defaultRoutes&&cL(t,n.defaultRoutes),n.descriptors&&xe.describe(t,n.descriptors)}function cL(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");xe.route(o,r,f,h)})}function uL(n){return"id"in n&&"defaults"in n}class hL{constructor(){this.controllers=new hf(Yc,"datasets",!0),this.elements=new hf(Nr,"elements"),this.plugins=new hf(Object,"plugins"),this.scales=new hf(hl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Xt(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=r_(t);oe(i["before"+r],[],i),e[t](i),oe(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Mi=new hL;class fL{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(oe(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Wt(i.options&&i.options.plugins,{}),o=dL(i);return r===!1&&!e?[]:gL(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function dL(n){const t={},e=[],i=Object.keys(Mi.plugins.items);for(let o=0;o<i.length;o++)e.push(Mi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function mL(n,t){return!t&&n===!1?null:n===!0?{}:n}function gL(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=mL(i[f],r);m!==null&&o.push({plugin:h,options:pL(n.config,{plugin:h,local:e[f]},m,c)})}return o}function pL(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xp(n,t){const e=xe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function yL(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function _L(n,t){return n===t?"_index_":"_value_"}function tw(n){if(n==="x"||n==="y"||n==="r")return n}function vL(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Wp(n,...t){if(tw(n))return n;for(const e of t){const i=e.axis||vL(e.position)||n.length>1&&tw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function ew(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function bL(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return ew(n,"x",e[0])||ew(n,"y",e[0])}return{}}function xL(n,t){const e=Ma[n.type]||{scales:{}},i=t.scales||{},r=Xp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Ft(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Wp(c,h,bL(c,n),xe.scales[h.type]),m=_L(f,r),y=e.scales||{};o[c]=Fc(Object.create(null),[{axis:f},h,y[f],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Xp(h,t),y=(Ma[h]||{}).scales||{};Object.keys(y).forEach(v=>{const b=yL(v,f),T=c[b+"AxisID"]||b;o[T]=o[T]||Object.create(null),Fc(o[T],[{axis:b},i[T],y[v]])})}),Object.keys(o).forEach(c=>{const h=o[c];Fc(h,[xe.scales[h.type],xe.scale])}),o}function X1(n){const t=n.options||(n.options={});t.plugins=Wt(t.plugins,{}),t.scales=xL(n,t)}function W1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function EL(n){return n=n||{},n.data=W1(n.data),X1(n),n}const nw=new Map,Z1=new Set;function ff(n,t){let e=nw.get(n);return e||(e=t(),nw.set(n,e),Z1.add(e)),e}const Cc=(n,t,e)=>{const i=Zo(t,e);i!==void 0&&n.add(i)};class wL{constructor(t){this._config=EL(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=W1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),X1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ff(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ff(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ff(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return ff(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(v=>Cc(f,t,v))),y.forEach(v=>Cc(f,r,v)),y.forEach(v=>Cc(f,Ma[o]||{},v)),y.forEach(v=>Cc(f,xe,v)),y.forEach(v=>Cc(f,Qp,v))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),Z1.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ma[e]||{},xe.datasets[e]||{},{type:e},xe,Qp]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=iw(this._resolverCache,t,r);let f=c;if(SL(c,e)){o.$shared=!1,i=Ir(i)?i():i;const m=this.createResolver(t,i,h);f=Jo(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],r){const{resolver:o}=iw(this._resolverCache,t,i);return Ft(e)?Jo(o,e,void 0,r):o}}function iw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:u_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const TL=n=>Ft(n)&&Object.getOwnPropertyNames(n).some(t=>Ir(n[t]));function SL(n,t){const{isScriptable:e,isIndexable:i}=V1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Ir(h)||TL(h))||c&&Pe(h))return!0}return!1}var AL="4.4.9";const RL=["top","bottom","left","right","chartArea"];function sw(n,t){return n==="top"||n==="bottom"||RL.indexOf(n)===-1&&t==="x"}function rw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function aw(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),oe(e&&e.onComplete,[n],t)}function CL(n){const t=n.chart,e=t.options.animation;oe(e&&e.onProgress,[n],t)}function J1(n){return d_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const If={},ow=n=>{const t=J1(n);return Object.values(If).filter(e=>e.canvas===t).pop()};function IL(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function NL(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var ar;let Ld=(ar=class{static register(...t){Mi.add(...t),lw()}static unregister(...t){Mi.remove(...t),lw()}constructor(t,e){const i=this.config=new wL(e),r=J1(t),o=ow(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||KV(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,y=f&&f.width;if(this.id=YP(),this.ctx=h,this.canvas=f,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=f4(v=>this.update(v),c.resizeDelay||0),this._dataChanges=[],If[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}gs.listen(this,"complete",aw),gs.listen(this,"progress",CL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return se(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Mi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ME(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return IE(this.canvas,this.ctx),this}stop(){return gs.stop(this),this}resize(t,e){gs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,ME(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),oe(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Xt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Wp(c,h),m=f==="r",y=f==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),Xt(o,c=>{const h=c.options,f=h.id,m=Wp(f,h),y=Wt(h.type,c.dtype);(h.position===void 0||sw(h.position,m)!==sw(c.dposition))&&(h.position=c.dposition),r[f]=!0;let v=null;if(f in i&&i[f].type===y)v=i[f];else{const b=Mi.getScale(y);v=new b({id:f,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(h,t)}),Xt(r,(c,h)=>{c||delete i[h]}),Xt(i,c=>{Qn.configure(this,c,c.options),Qn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(rw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Xp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Mi.getController(h),{datasetElementType:m,dataElementType:y}=xe.datasets[h];Object.assign(f,{dataElementType:Mi.getElement(y),datasetElementType:m&&Mi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Xt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:v}=this.getDatasetMeta(m),b=!r&&o.indexOf(v)===-1;v.buildOrUpdateElements(b),c=Math.max(+v.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Xt(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(rw("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Xt(this.scales,t=>{Qn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!vE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;IL(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!vE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Qn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Xt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ir(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(gs.has(this)?this.attached&&!gs.running(this)&&gs.start(this):(this.draw(),aw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=W4(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&l_(e,r),t.controller.draw(),r&&c_(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return M1(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=RV.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ul(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);su(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),gs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),IE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete If[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Xt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},r=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Xt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Xt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Wf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,m)=>f.filter(y=>!m.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=ZP(t),m=NL(t,this._lastEvent,i,f);i&&(this._lastEvent=null,oe(o.onHover,[t,h,this],this),f&&oe(o.onClick,[t,h,this],this));const y=!Wf(h,r);return(y||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}},Bt(ar,"defaults",xe),Bt(ar,"instances",If),Bt(ar,"overrides",Ma),Bt(ar,"registry",Mi),Bt(ar,"version",AL),Bt(ar,"getChart",ow),ar);function lw(){return Xt(Ld.instances,n=>n._plugins.invalidate())}function tA(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,m,y,v;return n.horizontal?(v=c/2,h=Math.min(e,r),f=Math.max(e,r),m=i-v,y=i+v):(v=o/2,h=e-v,f=e+v,m=Math.min(i,r),y=Math.max(i,r)),{left:h,top:m,right:f,bottom:y}}function fr(n,t,e,i){return n?0:li(t,e,i)}function DL(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=P1(i);return{t:fr(r.top,o.top,0,e),r:fr(r.right,o.right,0,t),b:fr(r.bottom,o.bottom,0,e),l:fr(r.left,o.left,0,t)}}function OL(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Ho(r),c=Math.min(t,e),h=n.borderSkipped,f=i||Ft(r);return{topLeft:fr(!f||h.top||h.left,o.topLeft,0,c),topRight:fr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:fr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:fr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function ML(n){const t=tA(n),e=t.right-t.left,i=t.bottom-t.top,r=DL(n,e/2,i/2),o=OL(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function pp(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&tA(n,i);return h&&(r||Lo(t,h.left,h.right))&&(o||Lo(e,h.top,h.bottom))}function kL(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function PL(n,t){n.rect(t.x,t.y,t.w,t.h)}function yp(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class Nf extends Nr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=ML(this),h=kL(c.radius)?ed:PL;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,yp(c,e,o)),t.clip(),h(t,yp(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,yp(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return pp(this,t,e,i)}inXRange(t,e){return pp(this,t,null,e)}inYRange(t,e){return pp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Bt(Nf,"id","bar"),Bt(Nf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Bt(Nf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const cw=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},VL=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class uw extends Nr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=oe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=an(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=cw(i,o);let m,y;e.font=r.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,m=this._fitCols(c,r,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],y=r+h;let v=t;o.textAlign="left",o.textBaseline="middle";let b=-1,T=-y;return this.legendItems.forEach((A,I)=>{const N=i+e/2+o.measureText(A.text).width;(I===0||m[m.length-1]+N+2*h>c)&&(v+=y,m[m.length-(I>0?0:1)]=0,T+=y,b++),f[I]={left:0,top:T,row:b,width:N,height:r},m[m.length-1]+=N+h}),v}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let v=h,b=0,T=0,A=0,I=0;return this.legendItems.forEach((N,L)=>{const{itemWidth:B,itemHeight:X}=LL(i,e,o,N,r);L>0&&T+X+2*h>y&&(v+=b+h,m.push({width:b,height:T}),A+=b+h,I++,b=T=0),f[L]={left:A,top:T,col:I,width:B,height:X},b=Math.max(b,B),T+=X+h}),v+=b,m.push({width:b,height:T}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Fo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=nn(i,this.left+r,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=nn(i,this.left+r,this.right-this.lineWidths[h])),m.top+=this.top+t+r,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+r}else{let h=0,f=nn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=nn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+r,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;l_(t,this),this._draw(),c_(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=xe.color,f=Fo(t.rtl,this.left,this.width),m=an(c.font),{padding:y}=c,v=m.size,b=v/2;let T;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=m.string;const{boxWidth:A,boxHeight:I,itemHeight:N}=cw(c,v),L=function(lt,O,C){if(isNaN(A)||A<=0||isNaN(I)||I<0)return;r.save();const D=Wt(C.lineWidth,1);if(r.fillStyle=Wt(C.fillStyle,h),r.lineCap=Wt(C.lineCap,"butt"),r.lineDashOffset=Wt(C.lineDashOffset,0),r.lineJoin=Wt(C.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Wt(C.strokeStyle,h),r.setLineDash(Wt(C.lineDash,[])),c.usePointStyle){const P={radius:I*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:D},V=f.xPlus(lt,A/2),U=O+b;O1(r,P,V,U,c.pointStyleWidth&&A)}else{const P=O+Math.max((v-I)/2,0),V=f.leftForLtr(lt,A),U=Ho(C.borderRadius);r.beginPath(),Object.values(U).some(M=>M!==0)?ed(r,{x:V,y:P,w:A,h:I,radius:U}):r.rect(V,P,A,I),r.fill(),D!==0&&r.stroke()}r.restore()},B=function(lt,O,C){ru(r,C.text,lt,O+N/2,m,{strikethrough:C.hidden,textAlign:f.textAlign(C.textAlign)})},X=this.isHorizontal(),st=this._computeTitleHeight();X?T={x:nn(o,this.left+y,this.right-i[0]),y:this.top+y+st,line:0}:T={x:this.left+y,y:nn(o,this.top+st+y,this.bottom-e[0].height),line:0},z1(this.ctx,t.textDirection);const J=N+y;this.legendItems.forEach((lt,O)=>{r.strokeStyle=lt.fontColor,r.fillStyle=lt.fontColor;const C=r.measureText(lt.text).width,D=f.textAlign(lt.textAlign||(lt.textAlign=c.textAlign)),P=A+b+C;let V=T.x,U=T.y;f.setWidth(this.width),X?O>0&&V+P+y>this.right&&(U=T.y+=J,T.line++,V=T.x=nn(o,this.left+y,this.right-i[T.line])):O>0&&U+J>this.bottom&&(V=T.x=V+e[T.line].width+y,T.line++,U=T.y=nn(o,this.top+st+y,this.bottom-e[T.line].height));const M=f.x(V);if(L(M,U,lt),V=d4(D,V+A+b,X?V+P:this.right,t.rtl),B(f.x(V),U,lt),X)T.x+=P+y;else if(typeof lt.text!="string"){const Zt=m.lineHeight;T.y+=eA(lt,Zt)+y}else T.y+=J}),B1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=an(e.font),r=Jn(e.padding);if(!e.display)return;const o=Fo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=r.top+f;let y,v=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+m,v=nn(t.align,v,this.right-b);else{const A=this.columnSizes.reduce((I,N)=>Math.max(I,N.height),0);y=m+nn(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const T=nn(h,v,v+b);c.textAlign=o.textAlign(o_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,ru(c,e.text,T,y,i)}_computeTitleHeight(){const t=this.options.title,e=an(t.font),i=Jn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Lo(t,this.left,this.right)&&Lo(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Lo(t,r.left,r.left+r.width)&&Lo(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!zL(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=VL(r,i);r&&!o&&oe(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&oe(e.onHover,[t,i,this],this)}else i&&oe(e.onClick,[t,i,this],this)}}function LL(n,t,e,i,r){const o=jL(i,n,t,e),c=UL(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function jL(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function UL(n,t,e){let i=n;return typeof t.text!="string"&&(i=eA(t,e)),i}function eA(n,t){const e=n.text?n.text.length:0;return t*e}function zL(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var BL={id:"legend",_element:uw,start(n,t,e){const i=n.legend=new uw({ctx:n.ctx,options:e,chart:n});Qn.configure(n,i,e),Qn.addBox(n,i)},stop(n){Qn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Qn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),y=Jn(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:r||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class nA extends Nr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Pe(i.text)?i.text.length:1;this._padding=Jn(i.padding);const o=r*an(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,m,y,v;return this.isHorizontal()?(y=nn(h,i,o),v=e+t,m=o-i):(c.position==="left"?(y=i+t,v=nn(h,r,e),f=on*-.5):(y=o-t,v=nn(h,e,r),f=on*.5),m=r-e),{titleX:y,titleY:v,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=an(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);ru(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:o_(e.align),textBaseline:"middle",translation:[c,h]})}}function HL(n,t){const e=new nA({ctx:n.ctx,options:t,chart:n});Qn.configure(n,e,t),Qn.addBox(n,e),n.titleBlock=e}var FL={id:"title",_element:nA,start(n,t,e){HL(n,e)},stop(n){const t=n.titleBlock;Qn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Qn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),y=a4(t,m);y<r&&(r=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Oi(n,t){return t&&(Pe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ps(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function qL(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function hw(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=an(t.bodyFont),m=an(t.titleFont),y=an(t.footerFont),v=o.length,b=r.length,T=i.length,A=Jn(t.padding);let I=A.height,N=0,L=i.reduce((st,J)=>st+J.before.length+J.lines.length+J.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,v&&(I+=v*m.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),L){const st=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;I+=T*st+(L-T)*f.lineHeight+(L-1)*t.bodySpacing}b&&(I+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let B=0;const X=function(st){N=Math.max(N,e.measureText(st).width+B)};return e.save(),e.font=m.string,Xt(n.title,X),e.font=f.string,Xt(n.beforeBody.concat(n.afterBody),X),B=t.displayColors?c+2+t.boxPadding:0,Xt(i,st=>{Xt(st.before,X),Xt(st.lines,X),Xt(st.after,X)}),B=0,e.font=y.string,Xt(n.footer,X),e.restore(),N+=A.width,{width:N,height:I}}function GL(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function YL(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function $L(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=r<=(h+f)/2?"left":"right":r<=o/2?m="left":r>=c-o/2&&(m="right"),YL(m,n,t,e)&&(m="center"),m}function fw(n,t,e){const i=e.yAlign||t.yAlign||GL(n,e);return{xAlign:e.xAlign||t.xAlign||$L(n,t,e,i),yAlign:i}}function KL(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function QL(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function dw(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=r+o,{topLeft:y,topRight:v,bottomLeft:b,bottomRight:T}=Ho(c);let A=KL(t,h);const I=QL(t,f,m);return f==="center"?h==="left"?A+=m:h==="right"&&(A-=m):h==="left"?A-=Math.max(y,b)+r:h==="right"&&(A+=Math.max(v,T)+r),{x:li(A,0,i.width-t.width),y:li(I,0,i.height-t.height)}}function df(n,t,e){const i=Jn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function mw(n){return Oi([],ps(n))}function XL(n,t,e){return ul(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function gw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const iA={beforeTitle:ms,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ms,beforeBody:ms,beforeLabel:ms,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return se(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ms,afterBody:ms,beforeFooter:ms,footer:ms,afterFooter:ms};function _n(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?iA[t].call(e,i):r}class Zp extends Nr{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new H1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=XL(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=_n(i,"beforeTitle",this,t),o=_n(i,"title",this,t),c=_n(i,"afterTitle",this,t);let h=[];return h=Oi(h,ps(r)),h=Oi(h,ps(o)),h=Oi(h,ps(c)),h}getBeforeBody(t,e){return mw(_n(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Xt(t,o=>{const c={before:[],lines:[],after:[]},h=gw(i,o);Oi(c.before,ps(_n(h,"beforeLabel",this,o))),Oi(c.lines,_n(h,"label",this,o)),Oi(c.after,ps(_n(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return mw(_n(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=_n(i,"beforeFooter",this,t),o=_n(i,"footer",this,t),c=_n(i,"afterFooter",this,t);let h=[];return h=Oi(h,ps(r)),h=Oi(h,ps(o)),h=Oi(h,ps(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(qL(this.chart,e[f]));return t.filter&&(h=h.filter((y,v,b)=>t.filter(y,v,b,i))),t.itemSort&&(h=h.sort((y,v)=>t.itemSort(y,v,i))),Xt(h,y=>{const v=gw(t.callbacks,y);r.push(_n(v,"labelColor",this,y)),o.push(_n(v,"labelPointStyle",this,y)),c.push(_n(v,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Pc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=hw(this,i),m=Object.assign({},h,f),y=fw(this.chart,i,m),v=dw(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:v.x,y:v.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:y,bottomRight:v}=Ho(h),{x:b,y:T}=t,{width:A,height:I}=e;let N,L,B,X,st,J;return o==="center"?(st=T+I/2,r==="left"?(N=b,L=N-c,X=st+c,J=st-c):(N=b+A,L=N+c,X=st-c,J=st+c),B=N):(r==="left"?L=b+Math.max(f,y)+c:r==="right"?L=b+A-Math.max(m,v)-c:L=this.caretX,o==="top"?(X=T,st=X-c,N=L-c,B=L+c):(X=T+I,st=X+c,N=L+c,B=L-c),J=X),{x1:N,x2:L,x3:B,y1:X,y2:st,y3:J}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const m=Fo(i.rtl,this.x,this.width);for(t.x=df(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=an(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,y=an(o.bodyFont),v=df(this,"left",o),b=r.x(v),T=f<y.lineHeight?(y.lineHeight-f)/2:0,A=e.y+T;if(o.usePointStyle){const I={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=r.leftForLtr(b,m)+m/2,L=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,NE(t,I,N,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,NE(t,I,N,L)}else{t.lineWidth=Ft(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const I=r.leftForLtr(b,m),N=r.leftForLtr(r.xPlus(b,1),m-2),L=Ho(c.borderRadius);Object.values(L).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,ed(t,{x:I,y:A,w:m,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),ed(t,{x:N,y:A+1,w:m-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(I,A,m,f),t.strokeRect(I,A,m,f),t.fillStyle=c.backgroundColor,t.fillRect(N,A+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:y}=i,v=an(i.bodyFont);let b=v.lineHeight,T=0;const A=Fo(i.rtl,this.x,this.width),I=function(C){e.fillText(C,A.x(t.x+T),t.y+b/2),t.y+=b+o},N=A.textAlign(c);let L,B,X,st,J,lt,O;for(e.textAlign=c,e.textBaseline="middle",e.font=v.string,t.x=df(this,N,i),e.fillStyle=i.bodyColor,Xt(this.beforeBody,I),T=h&&N!=="right"?c==="center"?m/2+y:m+2+y:0,st=0,lt=r.length;st<lt;++st){for(L=r[st],B=this.labelTextColors[st],e.fillStyle=B,Xt(L.before,I),X=L.lines,h&&X.length&&(this._drawColorBox(e,t,st,A,i),b=Math.max(v.lineHeight,f)),J=0,O=X.length;J<O;++J)I(X[J]),b=v.lineHeight;Xt(L.after,I)}T=0,b=v.lineHeight,Xt(this.afterBody,I),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=Fo(i.rtl,this.x,this.width);for(t.x=df(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=an(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:y}=i,{topLeft:v,topRight:b,bottomLeft:T,bottomRight:A}=Ho(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+v,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+m-b,f),e.quadraticCurveTo(h+m,f,h+m,f+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+m,f+y-A),e.quadraticCurveTo(h+m,f+y,h+m-A,f+y),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+T,f+y),e.quadraticCurveTo(h,f+y,h,f+y-T),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+v),e.quadraticCurveTo(h,f,h+v,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Pc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=hw(this,t),f=Object.assign({},c,this._size),m=fw(e,t,f),y=dw(t,f,m,e);(r._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=Jn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),z1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),B1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!Wf(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Wf(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Pc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}Bt(Zp,"positioners",Pc);var WL={id:"tooltip",_element:Zp,positioners:Pc,afterInit(n,t,e){e&&(n.tooltip=new Zp({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:iA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const ZL=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function JL(n,t,e,i){const r=n.indexOf(t);if(r===-1)return ZL(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const t3=(n,t)=>n===null?null:li(Math.round(n),0,t);function pw(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Jp extends hl{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(se(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:JL(i,t,Wt(e,t),this._addedLabels),t3(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return pw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Bt(Jp,"id","category"),Bt(Jp,"defaults",{ticks:{callback:pw}});function e3(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:m,maxTicks:y,maxDigits:v,includeBounds:b}=n,T=o||1,A=y-1,{min:I,max:N}=t,L=!se(c),B=!se(h),X=!se(m),st=(N-I)/(v+1);let J=xE((N-I)/A/T)*T,lt,O,C,D;if(J<1e-14&&!L&&!B)return[{value:I},{value:N}];D=Math.ceil(N/J)-Math.floor(I/J),D>A&&(J=xE(D*J/A/T)*T),se(f)||(lt=Math.pow(10,f),J=Math.ceil(J*lt)/lt),r==="ticks"?(O=Math.floor(I/J)*J,C=Math.ceil(N/J)*J):(O=I,C=N),L&&B&&o&&n4((h-c)/o,J/1e3)?(D=Math.round(Math.min((h-c)/J,y)),J=(h-c)/D,O=c,C=h):X?(O=L?c:O,C=B?h:C,D=m-1,J=(C-O)/D):(D=(C-O)/J,Af(D,Math.round(D),J/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(EE(J),EE(O));lt=Math.pow(10,se(f)?P:f),O=Math.round(O*lt)/lt,C=Math.round(C*lt)/lt;let V=0;for(L&&(b&&O!==c?(e.push({value:c}),O<c&&V++,Af(Math.round((O+V*J)*lt)/lt,c,yw(c,st,n))&&V++):O<c&&V++);V<D;++V){const U=Math.round((O+V*J)*lt)/lt;if(B&&U>h)break;e.push({value:U})}return B&&b&&C!==h?e.length&&Af(e[e.length-1].value,h,yw(h,st,n))?e[e.length-1].value=h:e.push({value:h}):(!B||C===h)&&e.push({value:C}),e}function yw(n,t,{horizontal:e,minRotation:i}){const r=Ta(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class n3 extends hl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return se(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=xr(r),m=xr(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=e3(r,o);return t.bounds==="ticks"&&i4(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return N1(t,this.chart.options.locale,this.options.ticks.format)}}class ty extends n3{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Zn(t)?t:0,this.max=Zn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ta(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Bt(ty,"id","linear"),Bt(ty,"defaults",{ticks:{callback:D1.formatters.numeric}});const jd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(jd);function _w(n,t){return n-t}function vw(n,t){if(se(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Zn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(td(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function bw(n,t,e,i){const r=xn.length;for(let o=xn.indexOf(n);o<r-1;++o){const c=jd[xn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return xn[o]}return xn[r-1]}function i3(n,t,e,i,r){for(let o=xn.length-1;o>=xn.indexOf(e);o--){const c=xn[o];if(jd[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return xn[e?xn.indexOf(e):0]}function s3(n){for(let t=xn.indexOf(n)+1,e=xn.length;t<e;++t)if(jd[xn[t]].common)return xn[t]}function xw(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=a_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function r3(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function Ew(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:r3(n,i,r,e)}class sd extends hl{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new EV._date(t.adapters.date);r.init(e),Fc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:vw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(r=Math.min(r,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=Zn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Zn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=u4(r,o,c);return this._unit=e.unit||(i.autoSkip?bw(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):i3(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:s3(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),Ew(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=li(e,0,c),i=li(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||bw(o.minUnit,e,i,this._getLabelCapacity(e)),h=Wt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=td(f)||f===!0,y={};let v=e,b,T;if(m&&(v=+t.startOf(v,"isoWeek",f)),v=+t.startOf(v,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(b=v,T=0;b<i;b=+t.add(b,h,c),T++)xw(y,b,A);return(b===i||r.bounds==="ticks"||T===1)&&xw(y,b,A),Object.keys(y).sort(_w).map(I=>+I)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return oe(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,y=f&&h[f],v=m&&h[m],b=i[e],T=m&&v&&b&&b.major;return this._adapter.format(t,r||(T?v:y))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ta(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Ew(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(vw(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return A1(t.sort(_w))}}Bt(sd,"id","time"),Bt(sd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function mf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Kp(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Kp(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class ww extends sd{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=mf(e,this.min),this._tableRange=mf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&r.push(m);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)y=r[c+1],f=r[c-1],m=r[c],Math.round((y+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(mf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return mf(this._table,i*this._tableRange+this._minPos,!0)}}Bt(ww,"id","timeseries"),Bt(ww,"defaults",sd.defaults);const sA="label";function Tw(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function a3(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function rA(n,t){n.labels=t}function aA(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:sA;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function o3(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sA;const e={labels:[],datasets:[]};return rA(e,n.labels),aA(e,n.datasets,t),e}function l3(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:y,updateMode:v,...b}=n,T=F.useRef(null),A=F.useRef(null),I=()=>{T.current&&(A.current=new Ld(T.current,{type:c,data:o3(h,o),options:f&&{...f},plugins:m}),Tw(t,A.current))},N=()=>{Tw(t,null),A.current&&(A.current.destroy(),A.current=null)};return F.useEffect(()=>{!r&&A.current&&f&&a3(A.current,f)},[r,f]),F.useEffect(()=>{!r&&A.current&&rA(A.current.config.data,h.labels)},[r,h.labels]),F.useEffect(()=>{!r&&A.current&&h.datasets&&aA(A.current.config.data,h.datasets,o)},[r,h.datasets]),F.useEffect(()=>{A.current&&(r?(N(),setTimeout(I)):A.current.update(v))},[r,f,h.labels,h.datasets,v]),F.useEffect(()=>{A.current&&(N(),setTimeout(I))},[c]),F.useEffect(()=>(I(),()=>N()),[]),ci.createElement("canvas",{ref:T,role:"img",height:e,width:i,...b},y)}const c3=F.forwardRef(l3);function u3(n,t){return Ld.register(t),F.forwardRef((e,i)=>ci.createElement(c3,{...e,ref:i,type:n}))}const h3=u3("bar",Rf);Ld.register(Jp,ty,Nf,FL,WL,BL);const f3=()=>{const[n,t]=F.useState(0),[e,i]=F.useState(0),[r,o]=F.useState(0);F.useEffect(()=>{Xn(mn(Me,"projetos")).then(f=>t(f.size)),Xn(mn(Me,"perfil")).then(f=>i(f.size)),Xn(mn(Me,"conferencias")).then(f=>o(f.size))},[]);const c={labels:["Projetos","Perfis","Conferências"],datasets:[{label:"Quantidade",data:[n,e,r],backgroundColor:["rgba(37, 99, 235, 0.7)","rgba(16, 185, 129, 0.7)","rgba(251, 191, 36, 0.7)"],borderRadius:8}]},h={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Análise Geral do Sistema",color:"#1e293b",font:{size:20,weight:"bold"}}},scales:{y:{beginAtZero:!0,ticks:{color:"#334155",font:{size:14}},grid:{color:"#e5e7eb"}},x:{ticks:{color:"#334155",font:{size:14}},grid:{color:"#e5e7eb"}}}};return x.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl mx-auto my-8",children:x.jsx(h3,{data:c,options:h,height:300})})},d3=()=>x.jsxs(x.Fragment,{children:[x.jsx(e_,{pageName:"Página de Administração"}),x.jsx(wP,{userName:"Geovane Carvalho"}),x.jsx(f3,{})]});var oA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sw=ci.createContext&&ci.createContext(oA),m3=["attr","size","title"];function g3(n,t){if(n==null)return{};var e=p3(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function p3(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function rd(){return rd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},rd.apply(this,arguments)}function Aw(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function ad(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(e),!0).forEach(function(i){y3(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Aw(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function y3(n,t,e){return t=_3(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _3(n){var t=v3(n,"string");return typeof t=="symbol"?t:t+""}function v3(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function lA(n){return n&&n.map((t,e)=>ci.createElement(t.tag,ad({key:e},t.attr),lA(t.child)))}function b3(n){return t=>ci.createElement(x3,rd({attr:ad({},n.attr)},t),lA(n.child))}function x3(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=g3(n,m3),h=r||e.size||"1em",f;return e.className&&(f=e.className),n.className&&(f=(f?f+" ":"")+n.className),ci.createElement("svg",rd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:f,style:ad(ad({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&ci.createElement("title",null,o),n.children)};return Sw!==void 0?ci.createElement(Sw.Consumer,null,e=>t(e)):t(oA)}function E3(n){return b3({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function w3(){const n=ld(),t=/Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent),[e,i]=Eu(Kn);F.useEffect(()=>{if(console.log("user:",e,"loading:",i,"auth.currentUser:",Kn.currentUser),e&&!i){if(!window.location.hash){window.location.assign(window.location.origin+"/#/admin");return}const c=localStorage.getItem("postLoginHash");c?(window.location.hash=c,localStorage.removeItem("postLoginHash")):window.location.hash.includes("/admin")?n("/admin"):window.location.hash="/admin"}},[e,i,n]),F.useEffect(()=>{dD(Kn).then(c=>{console.log("getRedirectResult result:",c),c&&c.user&&n("/admin")})},[n]);const r=async()=>{try{t?(localStorage.setItem("postLoginHash","#/admin"),await hD(Kn,dE)):(await rD(Kn,dE),n("/admin"))}catch(c){c instanceof Error&&alert("Erro ao fazer login: "+c.message)}},o=()=>{try{document.cookie="__test=1; SameSite=None; Secure",document.cookie.includes("__test=1")||alert("Seu navegador está bloqueando cookies de terceiros. O login Google pode não funcionar. Tente liberar cookies de terceiros nas configurações do navegador."),document.cookie="__test=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}catch{alert("Seu navegador está bloqueando cookies de terceiros. O login Google pode não funcionar. Tente liberar cookies de terceiros nas configurações do navegador.")}};return F.useEffect(()=>{t&&o()},[t]),x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white text-white",children:x.jsxs("div",{className:"bg-gradient-to-r from-blue-900 via-blue-700 to-blue-600 p-8 rounded-2xl shadow-2xl max-w-sm w-full text-center border border-white/30 backdrop-blur-md",children:[x.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Login"}),x.jsx("img",{src:ud,alt:"Logo",className:"w-20 mx-auto mb-6"}),x.jsx("p",{className:"text-white text-opacity-90 mb-6",children:"Faça login com sua conta Google para continuar"}),t&&x.jsxs("div",{className:"bg-yellow-200 text-yellow-900 rounded p-2 mb-4 text-sm font-semibold",children:["Para fazer login com Google no celular, é necessário permitir cookies de terceiros no navegador.",x.jsx("br",{}),"Se estiver no modo anônimo ou com cookies bloqueados, o login não funcionará.",x.jsx("br",{}),"Tente liberar cookies de terceiros nas configurações do navegador ou use outro navegador."]}),x.jsxs("button",{onClick:r,className:"flex items-center justify-center gap-3 w-full px-4 py-3 rounded-lg bg-white text-gray-800 font-semibold shadow-md hover:shadow-lg transition duration-300",children:[x.jsx(E3,{className:"text-2xl"}),x.jsx("span",{children:"Entrar com Google"})]})]})})}const T3=({pageName:n})=>{const t=di(),[e,i]=F.useState(!1);return F.useEffect(()=>{i(!1)},[t.pathname]),x.jsx("nav",{className:"bg-gradient-to-r from-blue-900 via-blue-700 to-blue-400 text-white p-4 shadow-md",children:x.jsxs("div",{className:"flex justify-between items-center w-full px-4 py-3",children:[x.jsxs("div",{className:"flex items-center space-x-2 text-xl font-bold",children:[x.jsx("img",{src:ud,alt:"Logo",className:"w-10"}),x.jsx("span",{children:n})]}),x.jsx("button",{className:"md:hidden text-white text-2xl",onClick:()=>i(!e),"aria-label":"Abrir menu",children:"☰"}),x.jsx("div",{className:`${e?"flex":"hidden"} md:flex flex-col md:flex-row items-center space-y-2 md:space-y-0 md:space-x-6 absolute md:static top-16 right-4 bg-blue-800 md:bg-transparent p-4 md:p-0 rounded-lg md:rounded-none shadow-md md:shadow-none z-50`,children:x.jsx(vs,{to:"/",className:"px-4 py-2 rounded-md bg-gradient-to-r from-yellow-600 via-orange-500 to-red-600 text-white font-bold shadow-lg hover:from-yellow-300 hover:via-orange-400 hover:to-red-500 transition duration-300",onClick:()=>i(!1),children:"Home"})})]})})},S3=()=>x.jsxs(x.Fragment,{children:[x.jsx(T3,{pageName:"Página de Login"}),x.jsx(w3,{})]});function A3(){const[n,t]=F.useState({nomeCompleto:"",foto:"",bio:"",softSkills:"",email:"",telefone:"",bairro:"",cidade:"",estado:"",cep:"",linkedin:"",github:"",instagram:"",facebook:"",telegram:"",whatsapp:"",curso:"",instituicao:"",anoConclusao:"",nivel:"",ativo:"sim"}),[e,i]=F.useState("");function r(c){const{name:h,value:f,type:m}=c.target;t(y=>({...y,[h]:f}))}async function o(c){c.preventDefault();try{await Od(mn(Me,"perfil"),{perfil:{foto:n.foto,nomeCompleto:n.nomeCompleto,bio:n.bio,softSkills:n.softSkills,ativo:n.ativo==="sim"},contatos:{email:n.email,telefone:n.telefone},endereco:{bairro:n.bairro,cidade:n.cidade,estado:n.estado,cep:n.cep},redes_sociais:{linkedin:n.linkedin,github:n.github,instagram:n.instagram,facebook:n.facebook,telegram:n.telegram,whatsapp:n.whatsapp},formacao:{curso:n.curso,instituicao:n.instituicao,anoConclusao:n.anoConclusao,nivel:n.nivel},atualizadoEm:kd()}),i("Perfil atualizado com sucesso!")}catch{i("Erro ao atualizar perfil.")}}return x.jsxs("div",{className:"p-6 max-w-4xl mx-auto bg-gradient-to-r from-blue-900 via-blue-700 to-blue-400 rounded-lg shadow-lg",children:[x.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-white",children:"Editar Perfil"}),x.jsxs("form",{onSubmit:o,className:"grid gap-6",children:[x.jsxs("fieldset",{className:"border border-white rounded-lg p-4",children:[x.jsx("legend",{className:"font-bold text-lg text-white px-2",children:"Perfil"}),x.jsxs("div",{className:"grid gap-4 mt-2",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Foto de Perfil (URL)"}),x.jsx("input",{type:"url",name:"foto",value:n.foto,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Nome Completo"}),x.jsx("input",{name:"nomeCompleto",value:n.nomeCompleto,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Bio / Resumo Profissional"}),x.jsx("textarea",{name:"bio",value:n.bio,onChange:r,className:"border px-3 py-2 rounded-md w-full h-24 focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Soft Skills"}),x.jsx("input",{name:"softSkills",value:n.softSkills,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex gap-4 items-center",children:[x.jsx("label",{className:"font-semibold text-white",children:"Usuário Ativo:"}),x.jsxs("label",{className:"text-white",children:[x.jsx("input",{type:"radio",name:"ativo",value:"sim",checked:n.ativo==="sim",onChange:r,className:"mr-1"})," Sim"]}),x.jsxs("label",{className:"text-white",children:[x.jsx("input",{type:"radio",name:"ativo",value:"nao",checked:n.ativo==="nao",onChange:r,className:"mr-1"})," Não"]})]})]})]}),x.jsxs("fieldset",{className:"border border-white rounded-lg p-4",children:[x.jsx("legend",{className:"font-bold text-lg text-white px-2",children:"Contatos"}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"E-mail"}),x.jsx("input",{type:"email",name:"email",value:n.email,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Telefone"}),x.jsx("input",{name:"telefone",value:n.telefone,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]})]})]}),x.jsxs("fieldset",{className:"border border-white rounded-lg p-4",children:[x.jsx("legend",{className:"font-bold text-lg text-white px-2",children:"Endereço"}),x.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Bairro"}),x.jsx("input",{name:"bairro",value:n.bairro,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Cidade"}),x.jsx("input",{name:"cidade",value:n.cidade,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Estado"}),x.jsx("input",{name:"estado",value:n.estado,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"CEP"}),x.jsx("input",{name:"cep",value:n.cep,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]})]})]}),x.jsxs("fieldset",{className:"border border-white rounded-lg p-4",children:[x.jsx("legend",{className:"font-bold text-lg text-white px-2",children:"Redes Sociais"}),x.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"LinkedIn"}),x.jsx("input",{type:"url",name:"linkedin",value:n.linkedin,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"GitHub"}),x.jsx("input",{type:"url",name:"github",value:n.github,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Instagram"}),x.jsx("input",{type:"url",name:"instagram",value:n.instagram,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Facebook"}),x.jsx("input",{type:"url",name:"facebook",value:n.facebook,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Telegram"}),x.jsx("input",{type:"url",name:"telegram",value:n.telegram,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"WhatsApp"}),x.jsx("input",{type:"url",name:"whatsapp",value:n.whatsapp,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]})]})]}),x.jsxs("fieldset",{className:"border border-white rounded-lg p-4",children:[x.jsx("legend",{className:"font-bold text-lg text-white px-2",children:"Formação"}),x.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Curso"}),x.jsx("input",{name:"curso",value:n.curso,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Instituição"}),x.jsx("input",{name:"instituicao",value:n.instituicao,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Ano de Conclusão"}),x.jsx("input",{type:"number",name:"anoConclusao",value:n.anoConclusao,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Nível"}),x.jsx("input",{name:"nivel",value:n.nivel,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]})]})]}),x.jsx("button",{type:"submit",className:"bg-white text-blue-800 py-3 rounded-md font-semibold hover:bg-blue-100 transition",children:"Salvar"}),e&&x.jsx("p",{className:"text-center text-green-200 font-medium",children:e})]})]})}function R3(){const[n,t]=F.useState({imagem:"",nome:"",data:"",local:"",site:""}),[e,i]=F.useState("");function r(c){const{name:h,value:f}=c.target;t(m=>({...m,[h]:f}))}async function o(c){c.preventDefault();try{await Od(mn(Me,"conferencias"),{imagem:n.imagem,nome:n.nome,data:n.data,local:n.local,site:n.site,criadoEm:kd()}),i("Conferência cadastrada com sucesso!"),t({imagem:"",nome:"",data:"",local:"",site:""})}catch{i("Erro ao cadastrar conferência.")}}return x.jsxs("div",{className:"p-6 max-w-xl mx-auto bg-gradient-to-r from-blue-900 via-blue-700 to-blue-400 rounded-lg shadow-lg",children:[x.jsx("h1",{className:"text-2xl font-bold mb-6 text-center text-white",children:"Cadastrar Conferência"}),x.jsxs("form",{onSubmit:o,className:"grid gap-6",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"URL da Imagem"}),x.jsx("input",{type:"url",name:"imagem",value:n.imagem,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Nome da Conferência"}),x.jsx("input",{name:"nome",value:n.nome,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Data"}),x.jsx("input",{type:"date",name:"data",value:n.data,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Local"}),x.jsx("input",{name:"local",value:n.local,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"URL do Site da Conferência"}),x.jsx("input",{type:"url",name:"site",value:n.site,onChange:r,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsx("button",{type:"submit",className:"bg-white text-blue-800 py-3 rounded-md font-semibold hover:bg-blue-100 transition",children:"Salvar"}),e&&x.jsx("p",{className:"text-center text-green-200 font-medium",children:e})]})]})}const Rw=({isOpen:n,onClose:t,title:e,children:i})=>n?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-3xl w-full p-[10px] relative max-h-[80vh] overflow-y-auto",children:[x.jsx("button",{onClick:t,className:"m-4 absolute top-2 right-2 text-gray-500 hover:text-red-500 text-2xl font-bold","aria-label":"Fechar",children:"×"}),e&&x.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-800",children:e}),x.jsx("div",{children:i})]})}):null,C3=({onProfileClick:n,onConferenciaClick:t})=>{const[e,i]=F.useState(!1),[r]=Eu(Kn),[o,c]=F.useState(!1);ci.useEffect(()=>{const m=()=>{const y=window.innerWidth<768;c(y),i(v=>y&&v?!1:!y&&!v?!0:v)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const h=m=>{m(),o&&i(!1)},f=()=>i(m=>!m);return x.jsxs("aside",{className:`bg-gradient-to-b from-blue-900 via-blue-700 to-blue-200 bg-opacity-80 flex flex-col gap-4 shadow-lg md:min-h-screen transition-all duration-300
      ${e?"p-6 w-full md:w-64":"p-2 w-16"}
      block
    `,children:[x.jsx("button",{className:`mb-2 bg-blue-900 text-white rounded-full p-2 shadow-lg focus:outline-none self-start transition-transform duration-300 ${e?"":"rotate-180"}`,onClick:f,"aria-label":e?"Minimizar dashboard":"Expandir dashboard",children:e?x.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}):x.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),e&&r&&x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.photoURL&&x.jsx("img",{src:r.photoURL,alt:r.displayName||"Usuário",className:"w-10 h-10 rounded-full border-2 border-white shadow"}),x.jsx("span",{className:"text-white font-semibold truncate max-w-[120px]",children:r.displayName||r.email})]}),e&&x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:()=>h(n),className:"text-left px-4 py-2 rounded-md font-semibold bg-blue-200 text-blue-900 hover:bg-blue-300 transition mb-2 w-full",children:"Cadastrar Novo Usuário"}),x.jsx("button",{onClick:()=>h(t),className:"text-left px-4 py-2 rounded-md font-semibold bg-green-200 text-green-900 hover:bg-green-300 transition w-full",children:"Cadastrar Nova Conferência"})]})]})},I3="modulepreload",N3=function(n){return"/my-portfolio/"+n},Cw={},_p=function(t,e,i){let r=Promise.resolve();if(e&&e.length>0){let c=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));r=c(e.map(m=>{if(m=N3(m),m in Cw)return;Cw[m]=!0;const y=m.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":I3,y||(b.as="script"),b.crossOrigin="",b.href=m,f&&b.setAttribute("nonce",f),document.head.appendChild(b),y)return new Promise((T,A)=>{b.addEventListener("load",T),b.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return r.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},D3=()=>{const[n,t]=F.useState([]),[e,i]=F.useState([]),r=async()=>{const f=await Xn(mn(Me,"conferencias")),m=[];f.forEach(y=>{const v=y.data();m.push({id:y.id,nome:v.nome||"",local:v.local||"",imagem:v.imagem||"",site:v.site||""})}),i(m)};F.useEffect(()=>{Xn(mn(Me,"perfil")).then(f=>{const m=[];f.forEach(y=>{var b,T,A,I,N;const v=y.data();m.push({id:y.id,nomeCompleto:((b=v.perfil)==null?void 0:b.nomeCompleto)||"",foto:((T=v.perfil)==null?void 0:T.foto)||"",email:((A=v.contatos)==null?void 0:A.email)||"",telefone:((I=v.contatos)==null?void 0:I.telefone)||"",ativo:!!((N=v.perfil)!=null&&N.ativo)})}),t(m)}),r()},[]);const o=async f=>{if(confirm("Deseja realmente excluir esta conferência?")){const{deleteDoc:m,doc:y}=await _p(async()=>{const{deleteDoc:v,doc:b}=await Promise.resolve().then(()=>sp);return{deleteDoc:v,doc:b}},[]);await m(y(Me,"conferencias",f)),r()}},c=async f=>{const{doc:m,updateDoc:y,getDocs:v,collection:b}=await _p(async()=>{const{doc:I,updateDoc:N,getDocs:L,collection:B}=await Promise.resolve().then(()=>sp);return{doc:I,updateDoc:N,getDocs:L,collection:B}},void 0),T=await v(b(Me,"perfil")),A=[];T.forEach(I=>{const N=I.id===f;A.push(y(m(Me,"perfil",I.id),{"perfil.ativo":N}))}),await Promise.all(A),t(I=>I.map(N=>({...N,ativo:N.id===f})))},h=async f=>{if(confirm("Deseja realmente excluir este perfil?")){const{deleteDoc:m,doc:y}=await _p(async()=>{const{deleteDoc:v,doc:b}=await Promise.resolve().then(()=>sp);return{deleteDoc:v,doc:b}},void 0);await m(y(Me,"perfil",f)),t(v=>v.filter(b=>b.id!==f))}};return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold mb-2 text-blue-900",children:"Perfis Cadastrados"}),x.jsx("div",{className:"w-full overflow-x-auto md:overflow-x-visible",children:x.jsxs("table",{className:"min-w-full bg-white rounded shadow text-sm md:text-base block md:table overflow-x-auto md:overflow-x-visible whitespace-nowrap md:whitespace-normal",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"hidden md:table-row",children:[x.jsx("th",{className:"px-2 py-2 border-b",children:"Foto"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Nome"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"E-mail"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Telefone"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Ativo"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Ações"})]})}),x.jsx("tbody",{children:n.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:6,className:"text-center py-4 text-gray-400",children:"Nenhum perfil cadastrado"})}):n.map(f=>x.jsxs("tr",{className:"flex flex-col md:table-row w-full md:w-auto border-b md:border-0",children:[x.jsx("td",{className:"px-2 py-2 border-b flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:f.foto?x.jsx("img",{src:f.foto,alt:f.nomeCompleto,className:"w-10 h-10 object-cover rounded-full"}):"-"}),x.jsx("td",{className:"px-2 py-2 border-b flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:f.nomeCompleto}),x.jsx("td",{className:"px-2 py-2 border-b flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:f.email}),x.jsx("td",{className:"px-2 py-2 border-b flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:f.telefone}),x.jsx("td",{className:"px-2 py-2 border-b text-center flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:x.jsx("input",{type:"radio",name:"perfil-ativo",checked:f.ativo,onChange:()=>c(f.id),className:"accent-green-600 w-4 h-4 cursor-pointer",title:f.ativo?"Usuário ativo":"Ativar este usuário"})}),x.jsx("td",{className:"px-2 py-2 border-b",children:x.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[x.jsx("button",{className:"text-blue-700 hover:underline text-sm",onClick:()=>alert(`Detalhes do perfil: ${f.nomeCompleto}`),children:"Detalhes"}),x.jsx("button",{className:"text-red-600 hover:underline text-sm",onClick:()=>h(f.id),children:"Excluir"})]})})]},f.id))})]})})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-xl font-bold mb-2 text-green-900",children:"Conferências Cadastradas"}),x.jsx("div",{className:"w-full overflow-x-auto md:overflow-x-visible",children:x.jsxs("table",{className:"min-w-full bg-white rounded shadow text-sm md:text-base block md:table overflow-x-auto md:overflow-x-visible whitespace-nowrap md:whitespace-normal",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"hidden md:table-row",children:[x.jsx("th",{className:"px-4 py-2 border-b",children:"Foto"}),x.jsx("th",{className:"px-4 py-2 border-b",children:"Nome Conferência"}),x.jsx("th",{className:"px-4 py-2 border-b",children:"Local"}),x.jsx("th",{className:"px-4 py-2 border-b",children:"Site"}),x.jsx("th",{className:"px-4 py-2 border-b",children:"Ações"})]})}),x.jsx("tbody",{children:e.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-400",children:"Nenhuma conferência cadastrada"})}):e.map(f=>x.jsxs("tr",{className:"flex flex-col md:table-row w-full md:w-auto border-b md:border-0",children:[x.jsx("td",{className:"px-4 py-2 border-b flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:f.imagem?x.jsx("img",{src:f.imagem,alt:f.nome,className:"w-16 h-16 object-cover rounded"}):"-"}),x.jsx("td",{className:"px-4 py-2 border-b flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:f.nome}),x.jsx("td",{className:"px-4 py-2 border-b flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:f.local}),x.jsx("td",{className:"px-4 py-2 border-b flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:f.site?x.jsx("a",{href:f.site,target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 underline",children:"Site"}):"-"}),x.jsx("td",{className:"px-4 py-2 border-b",children:x.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[x.jsx("button",{className:"text-blue-700 hover:underline text-sm",onClick:()=>alert(`Detalhes da conferência: ${f.nome}`),children:"Detalhes"}),x.jsx("button",{className:"text-red-600 hover:underline text-sm",onClick:()=>o(f.id),children:"Excluir"})]})})]},f.id))})]})})]})]})},O3=()=>{const[n,t]=F.useState(!1),[e,i]=F.useState(!1),[r,o]=F.useState([]),[c,h]=F.useState([]),f=async()=>{const y=await Xn(mn(Me,"perfil")),v=[];y.forEach(b=>{var A,I,N,L,B;const T=b.data();v.push({id:b.id,nomeCompleto:((A=T.perfil)==null?void 0:A.nomeCompleto)||"",foto:((I=T.perfil)==null?void 0:I.foto)||"",email:((N=T.contatos)==null?void 0:N.email)||"",telefone:((L=T.contatos)==null?void 0:L.telefone)||"",ativo:!!((B=T.perfil)!=null&&B.ativo)})}),o(v)},m=async()=>{const y=await Xn(mn(Me,"conferencias")),v=[];y.forEach(b=>{const T=b.data();v.push({id:b.id,nome:T.nome||"",local:T.local||"",imagem:T.imagem||"",site:T.site||""})}),h(v)};return F.useEffect(()=>{f(),m()},[]),x.jsxs(x.Fragment,{children:[x.jsx(e_,{pageName:"Cadastro de Profile"}),x.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[x.jsx(C3,{onProfileClick:()=>t(!0),onConferenciaClick:()=>i(!0)}),x.jsx("main",{className:"flex-1 p-8",children:x.jsx(D3,{profiles:r,setProfiles:o,conferencias:c,setConferencias:h})})]}),x.jsx(Rw,{isOpen:n,onClose:()=>t(!1),title:"Cadastro de Profile",children:x.jsx(A3,{onSuccess:()=>{t(!1),f()}})}),x.jsx(Rw,{isOpen:e,onClose:()=>i(!1),title:"Cadastro de Conferência",children:x.jsx(R3,{onSuccess:()=>{i(!1),m()}})})]})},M3=[{value:"rascunho",label:"Rascunho"},{value:"publicado",label:"Publicado"},{value:"em_andamento",label:"Em andamento"}];function k3({onSuccess:n}){const[t,e]=F.useState({nome:"",descricao:"",imagemCapa:"",gifPreview:"",linkDetalhes:"",linkRepositorio:"",linkDemo:"",tecnologias:"",dataPublicacao:"",status:"rascunho",destaque:!1}),[i,r]=F.useState("");function o(h){const{name:f,value:m,type:y}=h.target;e(y==="checkbox"?v=>({...v,[f]:h.target.checked}):v=>({...v,[f]:m}))}async function c(h){h.preventDefault();try{const f=new Date;await Od(mn(Me,"projetos"),{nome:t.nome,descricao:t.descricao,imagemCapa:t.imagemCapa,gifPreview:t.gifPreview,linkDetalhes:t.linkDetalhes,linkRepositorio:t.linkRepositorio,linkDemo:t.linkDemo,tecnologias:t.tecnologias.split(",").map(m=>m.trim()).filter(Boolean),dataPublicacao:t.dataPublicacao,status:t.status,destaque:t.destaque,created_at:f,updated_at:f,criadoEm:kd()}),r("Projeto cadastrado com sucesso!"),e({nome:"",descricao:"",imagemCapa:"",gifPreview:"",linkDetalhes:"",linkRepositorio:"",linkDemo:"",tecnologias:"",dataPublicacao:"",status:"rascunho",destaque:!1}),n&&n()}catch{r("Erro ao cadastrar projeto.")}}return x.jsxs("div",{className:"p-6 max-w-2xl mx-auto bg-gradient-to-r from-blue-900 via-blue-700 to-blue-400 rounded-lg shadow-lg",children:[x.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-white",children:"Cadastrar Projeto"}),x.jsxs("form",{onSubmit:c,className:"grid gap-6",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Nome do Projeto"}),x.jsx("input",{name:"nome",value:t.nome,onChange:o,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Descrição Resumida"}),x.jsx("textarea",{name:"descricao",value:t.descricao,onChange:o,className:"border px-3 py-2 rounded-md w-full h-24 focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Imagem de Capa (URL)"}),x.jsx("input",{type:"url",name:"imagemCapa",value:t.imagemCapa,onChange:o,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"GIF Preview (URL, opcional)"}),x.jsx("input",{type:"url",name:"gifPreview",value:t.gifPreview,onChange:o,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Link para Detalhes"}),x.jsx("input",{type:"url",name:"linkDetalhes",value:t.linkDetalhes,onChange:o,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Link do Repositório (opcional)"}),x.jsx("input",{type:"url",name:"linkRepositorio",value:t.linkRepositorio,onChange:o,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Link da Demo Online (opcional)"}),x.jsx("input",{type:"url",name:"linkDemo",value:t.linkDemo,onChange:o,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300"})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Tecnologias (separe por vírgula)"}),x.jsx("input",{name:"tecnologias",value:t.tecnologias,onChange:o,placeholder:"React, Django, Docker",className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Data de Publicação"}),x.jsx("input",{type:"date",name:"dataPublicacao",value:t.dataPublicacao,onChange:o,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300",required:!0})]}),x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("label",{className:"font-semibold text-white",children:"Status"}),x.jsx("select",{name:"status",value:t.status,onChange:o,className:"border px-3 py-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-300",children:M3.map(h=>x.jsx("option",{value:h.value,children:h.label},h.value))})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{type:"checkbox",name:"destaque",checked:t.destaque,onChange:o,className:"w-5 h-5 accent-yellow-500"}),x.jsx("label",{className:"font-semibold text-white",children:"Destaque (aparecer na página inicial)"})]}),x.jsx("button",{type:"submit",className:"bg-white text-blue-800 py-3 rounded-md font-semibold hover:bg-blue-100 transition",children:"Salvar"}),i&&x.jsx("p",{className:"text-center text-green-200 font-medium",children:i})]})]})}const P3=({isOpen:n,onClose:t,title:e,children:i})=>n?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:x.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-3xl w-full p-[10px] relative max-h-[80vh] overflow-y-auto",children:[x.jsx("button",{onClick:t,className:"m-4 absolute top-2 right-2 text-gray-500 hover:text-red-500 text-2xl font-bold","aria-label":"Fechar",children:"×"}),e&&x.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-800",children:e}),x.jsx("div",{children:i})]})}):null,V3=({onProjectClick:n})=>{const[t,e]=F.useState(!1),[i]=Eu(Kn),[r,o]=F.useState(!1);ci.useEffect(()=>{const f=()=>{const m=window.innerWidth<768;o(m),e(y=>m&&y?!1:!m&&!y?!0:y)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]);const c=()=>{n(),r&&e(!1)},h=()=>e(f=>!f);return x.jsxs("aside",{className:`bg-gradient-to-b from-blue-900 via-blue-700 to-blue-200 bg-opacity-80 flex flex-col gap-4 shadow-lg md:min-h-screen transition-all duration-300
      ${t?"p-6 w-full md:w-64":"p-2 w-16"}
      block
    `,children:[x.jsx("button",{className:`mb-2 bg-blue-900 text-white rounded-full p-2 shadow-lg focus:outline-none self-start transition-transform duration-300 ${t?"":"rotate-180"}`,onClick:h,"aria-label":t?"Minimizar dashboard":"Expandir dashboard",children:t?x.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}):x.jsx("svg",{width:"28",height:"28",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),t&&i&&x.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.photoURL&&x.jsx("img",{src:i.photoURL,alt:i.displayName||"Usuário",className:"w-10 h-10 rounded-full border-2 border-white shadow"}),x.jsx("span",{className:"text-white font-semibold truncate max-w-[120px]",children:i.displayName||i.email})]}),t&&x.jsx("div",{className:"relative",children:x.jsx("button",{onClick:c,className:"text-left px-4 py-2 rounded-md font-semibold bg-blue-200 text-blue-900 hover:bg-blue-300 transition mb-2 w-full",children:"Cadastrar Novo Projeto"})})]})},L3=({projects:n,setProjects:t})=>{const e=async i=>{window.confirm("Deseja realmente excluir este projeto?")&&(await y1(Qy(Me,"projetos",i)),t(r=>r.filter(o=>o.id!==i)))};return x.jsxs("div",{className:"space-y-8",children:[x.jsx("div",{className:"flex justify-between items-center mb-4",children:x.jsx("h3",{className:"text-xl font-bold text-blue-900",children:"Projetos Cadastrados"})}),x.jsx("div",{className:"w-full overflow-x-auto md:overflow-x-visible",children:x.jsxs("table",{className:"min-w-full bg-white rounded shadow text-sm md:text-base block md:table overflow-x-auto md:overflow-x-visible whitespace-nowrap md:whitespace-normal",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"hidden md:table-row",children:[x.jsx("th",{className:"px-2 py-2 border-b",children:"Imagem"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Nome"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Descrição"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Tecnologias"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Status"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Destaque"}),x.jsx("th",{className:"px-2 py-2 border-b",children:"Ações"})]})}),x.jsx("tbody",{children:n.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:7,className:"text-center py-4 text-gray-400",children:"Nenhum projeto cadastrado"})}):n.map(i=>{var r;return x.jsxs("tr",{className:"flex flex-col md:table-row w-full md:w-auto border-b md:border-0",children:[x.jsx("td",{className:"px-2 py-2 border-b flex md:table-cell w-full md:w-auto items-center justify-between md:justify-start",children:i.imagemCapa?x.jsx("img",{src:i.imagemCapa,alt:i.nome,className:"w-16 h-16 object-cover rounded"}):"-"}),x.jsx("td",{className:"px-2 py-2 border-b",children:i.nome}),x.jsx("td",{className:"px-2 py-2 border-b",children:i.descricao.length>40?i.descricao.slice(0,40)+"...":i.descricao}),x.jsx("td",{className:"px-2 py-2 border-b",children:(r=i.tecnologias)==null?void 0:r.join(", ")}),x.jsx("td",{className:"px-2 py-2 border-b",children:i.status}),x.jsx("td",{className:"px-2 py-2 border-b text-center",children:i.destaque?"Sim":"Não"}),x.jsx("td",{className:"px-2 py-2 border-b",children:x.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[x.jsx("button",{className:"text-blue-700 hover:underline text-sm",onClick:()=>alert(`Detalhes do projeto: ${i.nome}`),children:"Detalhes"}),x.jsx("button",{className:"text-red-600 hover:underline text-sm",onClick:()=>e(i.id),children:"Excluir"})]})})]},i.id)})})]})})]})},j3=()=>{const[n,t]=F.useState(!1),[e,i]=F.useState([]),r=async()=>{const o=await Xn(mn(Me,"projetos")),c=[];o.forEach(h=>{const f=h.data();c.push({id:h.id,nome:f.nome||"",descricao:f.descricao||"",imagemCapa:f.imagemCapa||"",gifPreview:f.gifPreview||"",linkDetalhes:f.linkDetalhes||"",linkRepositorio:f.linkRepositorio||"",linkDemo:f.linkDemo||"",tecnologias:Array.isArray(f.tecnologias)?f.tecnologias:[],dataPublicacao:f.dataPublicacao||"",status:f.status||"",destaque:!!f.destaque,created_at:f.created_at||"",updated_at:f.updated_at||""})}),i(c)};return F.useEffect(()=>{r()},[]),x.jsxs(x.Fragment,{children:[x.jsx(e_,{pageName:"Cadastro de Projetos"}),x.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[x.jsx(V3,{onProjectClick:()=>t(!0)}),x.jsx("main",{className:"flex-1 p-8",children:x.jsx(L3,{projects:e,setProjects:i,onProjectClick:()=>t(!0)})})]}),x.jsx(P3,{isOpen:n,onClose:()=>t(!1),title:"Cadastro de Projeto",children:x.jsx(k3,{onSuccess:()=>{t(!1),r()}})})]})},vp=({children:n})=>{const[t,e]=Eu(Kn);return e?x.jsx("div",{className:"text-white text-center p-4",children:"Carregando..."}):t?x.jsx(x.Fragment,{children:n}):x.jsx(PR,{to:"/",replace:!0})},U3=()=>x.jsxs(LR,{children:[x.jsx(Do,{path:"/",element:x.jsx(yP,{})}),x.jsx(Do,{path:"/login",element:x.jsx(S3,{})}),x.jsx(Do,{path:"/admin",element:x.jsx(vp,{children:x.jsx(d3,{})})}),x.jsx(Do,{path:"/admin/profile",element:x.jsx(vp,{children:x.jsx(O3,{})})}),x.jsx(Do,{path:"/admin/projects",element:x.jsx(vp,{children:x.jsx(j3,{})})})]});G2.createRoot(document.getElementById("root")).render(x.jsx(F.StrictMode,{children:x.jsx(oC,{children:x.jsx(U3,{})})}));document.getElementById("root");
